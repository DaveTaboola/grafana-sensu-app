{"version":3,"file":"event_functions.js","sourceRoot":"src/","sources":["datasource/sensu/event_functions.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n *\n */\nimport { getResponseForTarget } from \"./common\";\n\n function getEventsURIs(checkNames, clientNames) {\n   // https://sensuapp.org/docs/0.28/api/events-api.html\n   var uris = [];\n   var dimensionURI = \"/events\";\n   var aClientName = null;\n   var aCheckName = null;\n   var anAggregateName = null;\n   if (clientNames.length) {\n     for (let i = 0; i < clientNames.length; i++) {\n       aClientName = clientNames[i];\n       dimensionURI = \"/events/\" + aClientName;\n       uris.push(dimensionURI);\n     }\n   }\n   if ((checkNames.length) && (clientNames.length)) {\n     for (let i = 0; i < clientNames.length; i++) {\n       aClientName = clientNames[i];\n       for (let j = 0; j < checkNames.length; j++) {\n         aCheckName = checkNames[i];\n         dimensionURI = \"/events/\" + aClientName + \"/\" + aCheckName;\n         uris.push(dimensionURI);\n       }\n     }\n   }\n   if (uris.length === 0) {\n     uris.push(dimensionURI);\n   }\n   return uris;\n }\n\n\n/**\n * [convertEventsToDataPoints description]\n * @param  {[type]} response [description]\n * @return {[type]}        [description]\n */\nfunction convertEventsToDataPoints(aTarget, responses) {\n  var response = getResponseForTarget(aTarget, responses);\n\n  // convert history to datapoints\n\n  // the result has no \"datapoints\", need to create it based on the check data\n\n  // when we have a checkname and an clientName, the response is different, the\n  // data is not an array, but contains the same information, recreate and push\n  if (response.data.length === undefined) {\n    var singleData = response.data;\n    response.data = [];\n    response.data.push(singleData);\n  }\n  var filteredData = [];\n  for (var i = 0; i < response.data.length; i++) {\n    var anEvent = response.data[i];\n    var datapoints = [];\n    var startingTimestamp = 0;\n    // an event with client param has a timestamp at the toplevel\n    if (anEvent.timestamp !== undefined) {\n      startingTimestamp = anEvent.timestamp - (60 * anEvent.check.history.length);\n    }\n    if (anEvent.last_execution !== undefined) {\n      startingTimestamp = anEvent.last_execution - (60 * anEvent.history.length);\n    }\n    // time needs to be in MS, we get EPOCH from Sensu\n    for (var y = 0; y < anEvent.check.history.length; y++) {\n      datapoints[y] = [anEvent.check.history[y], (startingTimestamp + (60 * y)) * 1000];\n    }\n    anEvent.datapoints = datapoints;\n    // set the target to be the check name\n    anEvent.target = anEvent.client.name;\n    /*\n    if (anEvent.check.name !== undefined) {\n      anEvent.target = anEvent.check.name;\n    } else {\n      anEvent.target = anEvent.check;\n    }\n    */\n    anEvent.clientName = anEvent.client.name;\n    if (includeEventTarget(aTarget, anEvent)) {\n      if (!anEvent.silenced) {\n        filteredData.push(anEvent);\n      }\n      if (anEvent.silenced && !aTarget.hideSilencedEvents) {\n        filteredData.push(anEvent);\n      }\n    }\n  }\n  var newResponse = { data: filteredData };\n\n  return newResponse;\n}\n\n\nfunction convertEventsToJSON(aTarget, responses) {\n  var response = getResponseForTarget(aTarget, responses);\n  // do not allow modification of response\n  //var newResponse = {};\n\n  var filteredData = [];\n  for (var i = 0; i < response.data.length; i++) {\n    var anEvent = response.data[i];\n    var datapoints = [];\n    //console.log(JSON.stringify(anEvent));\n    if ((anEvent.check.issued !== undefined) && includeEventTarget(aTarget, anEvent)) {\n      var clientShortname = anEvent.client.name;\n      // try to split on dot notation, take the first item\n      var parts = anEvent.client.name.split(\".\");\n      if (parts.length > 0) {\n        clientShortname = parts[0];\n      }\n      anEvent.client.client_short_name = clientShortname;\n      // now create text-based version of status\n      var statusText = \"UNKNOWN\";\n      if ((anEvent.check !== undefined) && (anEvent.check.status !== undefined)) {\n        switch (anEvent.check.status) {\n          case 0:\n            statusText = \"OK\";\n            break;\n          case 1:\n            statusText = \"WARNING\";\n            break;\n          case 2:\n            statusText = \"CRITICAL\";\n            break;\n          case 3:\n            statusText = \"UNKNOWN\";\n            break;\n          default:\n            statusText = \"UNKNOWN\";\n            break;\n        }\n      }\n      anEvent.check.status_text = statusText;\n      var data = {\n        timestamp: (anEvent.check.issued * 1000),\n        check_name: anEvent.check.name,\n        client: anEvent.client,\n        check: anEvent.check,\n        occurrences: anEvent.occurrences,\n        occurrences_watermark: anEvent.occurrences_watermark,\n        action: anEvent.action,\n        id: anEvent.id,\n        last_state_change: (anEvent.last_state_change * 1000),\n        last_ok: (anEvent.last_ok * 1000),\n        silenced: anEvent.silenced,\n        silenced_by: anEvent.silenced_by\n      };\n      try {\n        data.check.issued = data.check.issued * 1000;\n        data.check.executed = data.check.executed * 1000;\n      } catch (err) {\n        // do nothing\n      }\n      datapoints.push(data);\n      anEvent.datapoints = datapoints;\n      delete anEvent.check;\n      delete anEvent.client;\n      anEvent.type = \"docs\";\n      if (!anEvent.silenced) {\n        filteredData.push(anEvent);\n      }\n      if (anEvent.silenced && !aTarget.hideSilencedEvents) {\n        filteredData.push(anEvent);\n      }\n    }\n  }\n  var newResponse = { data: filteredData };\n\n  //var str = JSON.stringify(newResponse, null, 2);\n  //console.log(str);\n  return newResponse;\n}\n\n/**\n * The takes /events output from Sensu and returns the following:\n * Count of WARNING, and Number Silenced\n * Count of CRITICAL, and number silenced\n * Count of UNKNOWN, and number silenced\n * Count of all Events\n * Count of all Events not Silenced\n * Count of all Silenced Events\n * Count of Clients Silenced\n * Count of Checks Silenced\n *\n * Filters are also applied\n *\n * @param  {[type]} target   [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nfunction convertEventsToEventMetricsJSON(aTarget, responses) {\n  var response = getResponseForTarget(aTarget, responses);\n\n  // timestamp is taken from first item in response\n  var timestamp = 0;\n  try {\n    timestamp = response.data[0].check.issued * 1000;\n  } catch (err) {\n    // do nothing\n  }\n  var eventMetrics = {\n    target: \"allEvents\",\n    timestamp: timestamp,\n    numEvents: 0,\n    numSilenced: 0,\n    numClientsSilenced: 0,\n    numChecksSilenced: 0,\n    numWarningEvents: 0,\n    numWarningEventsSilenced: 0,\n    numCriticalEvents: 0,\n    numCriticalEventsSilenced: 0,\n    numUnknownEvents: 0,\n    numUnknownEventsSilenced: 0\n  };\n  var clientNames = [];\n  var checkNames = [];\n  for (var i = 0; i < response.data.length; i++) {\n    var anEvent = response.data[i];\n    if (anEvent.check.issued !== undefined) {\n      if ((anEvent.check !== undefined) && (anEvent.check.status !== undefined) && includeEventTarget(aTarget, anEvent)) {\n        eventMetrics.numEvents += 1;\n        switch (anEvent.check.status) {\n          case 1:\n            eventMetrics.numWarningEvents += 1;\n            if (anEvent.silenced) {\n              eventMetrics.numWarningEventsSilenced += 1;\n              eventMetrics.numSilenced += 1;\n            }\n            break;\n          case 2:\n            eventMetrics.numCriticalEvents += 1;\n            if (anEvent.silenced) {\n              eventMetrics.numCriticalEventsSilenced += 1;\n              eventMetrics.numSilenced += 1;\n            }\n            break;\n          default:\n            eventMetrics.numUnknownEvents += 1;\n            if (anEvent.silenced) {\n              eventMetrics.numUnknownEventsSilenced += 1;\n              eventMetrics.numSilenced += 1;\n            }\n            break;\n        }\n      }\n      // store the client names to count later\n      if (clientNames.indexOf(anEvent.client.name) < 0) {\n        clientNames.push(anEvent.client.name);\n      }\n      // store the check names to count later\n      if (checkNames.indexOf(anEvent.check.name) < 0) {\n        checkNames.push(anEvent.check.name);\n      }\n      // inspect silenced_by for clientname:*, wich means the client is silenced\n      for (let i = 0; i < anEvent.silenced_by.length; i++) {\n        if (anEvent.silenced_by[i].indexOf(\"*\") >= 0) {\n          eventMetrics.numClientsSilenced += 1;\n        } else {\n          eventMetrics.numChecksSilenced += 1;\n        }\n      }\n    }\n  }\n  eventMetrics.numClientsSilenced = clientNames.length;\n  eventMetrics.numChecksSilenced = checkNames.length;\n  response.data = [{\n    target: \"allEvents\",\n    timestamp: timestamp,\n    type: \"docs\",\n    datapoints: [eventMetrics]\n  }];\n  //var str = JSON.stringify(response, null, 2);\n  //console.log(str);\n  //var x = response.data[0].datapoints[0][1];\n  //console.log(\"X = \" + x);\n  return response;\n}\n\n/**\n * No fields means it is a match\n * @param  {[type]}  target [description]\n * @return {Boolean}        [description]\n */\nfunction includeEventTarget(target, anEvent) {\n  if (target.filters === undefined) {\n    return true;\n  }\n  if (target.filters.length === 0) {\n    return true;\n  }\n  for (var i = 0; i < target.filters.length; i++) {\n    var aFilter = target.filters[i];\n    switch (aFilter.filterType) {\n      case \"field\":\n        // filterFieldName\n        // filterFieldValue\n        if (anEvent.client.hasOwnProperty(aFilter.filterFieldName)) {\n          // matched field, check value\n          var aVal = anEvent.client[aFilter.filterFieldName];\n          if (aVal === aFilter.filterFieldValueReplaced) {\n            return true;\n          }\n        }\n        break;\n    }\n  }\n  return false;\n}\n\n/**\n * [convertEventsToEventMetrics description]\n * @param  {[type]} aTarget   [description]\n * @param  {[type]} responses [description]\n * @return {[type]}           [description]\n */\nfunction convertEventsToEventMetrics(aTarget, responses) {\n  // find a response that matches the target\n  var response = getResponseForTarget(aTarget, responses);\n  var newResponse = { data: []};\n  // timestamp is taken from first item in response\n  var timestamp = 0;\n  try {\n    timestamp = response.data[0].check.issued * 1000;\n  } catch (err) {\n    // do nothing\n  }\n  var eventMetrics = {\n    target: \"allEvents\",\n    timestamp: timestamp,\n    numEvents: 0.0,\n    numSilenced: 0.0,\n    numClientsSilenced: 0.0,\n    numChecksSilenced: 0.0,\n    numWarningEvents: 0.0,\n    numWarningEventsSilenced: 0.0,\n    numCriticalEvents: 0.0,\n    numCriticalEventsSilenced: 0.0,\n    numUnknownEvents: 0.0,\n    numUnknownEventsSilenced: 0.0\n  };\n  var clientNames = [];\n  var checkNames = [];\n  for (var i = 0; i < response.data.length; i++) {\n    var anEvent = response.data[i];\n    if (anEvent.check.issued !== undefined) {\n      if ((anEvent.check !== undefined) && (anEvent.check.status !== undefined) && includeEventTarget(aTarget, anEvent)) {\n        eventMetrics.numEvents += 1.0;\n        switch (anEvent.check.status) {\n          case 1:\n            eventMetrics.numWarningEvents += 1.0;\n            if (anEvent.silenced) {\n              eventMetrics.numWarningEventsSilenced += 1.0;\n              eventMetrics.numSilenced += 1.0;\n            }\n            break;\n          case 2:\n            eventMetrics.numCriticalEvents += 1.0;\n            if (anEvent.silenced) {\n              eventMetrics.numCriticalEventsSilenced += 1.0;\n              eventMetrics.numSilenced += 1.0;\n            }\n            break;\n          default:\n            eventMetrics.numUnknownEvents += 1.0;\n            if (anEvent.silenced) {\n              eventMetrics.numUnknownEventsSilenced += 1.0;\n              eventMetrics.numSilenced += 1.0;\n            }\n            break;\n        }\n      }\n      // store the client names to count later\n      if (clientNames.indexOf(anEvent.client.name) < 1.0) {\n        clientNames.push(anEvent.client.name);\n      }\n      // store the check names to count later\n      if (checkNames.indexOf(anEvent.check.name) < 1.0) {\n        checkNames.push(anEvent.check.name);\n      }\n      // inspect silenced_by for clientname:*, wich means the client is silenced\n      for (let i = 0; i < anEvent.silenced_by.length; i++) {\n        if (anEvent.silenced_by[i].indexOf(\"*\") >= 0) {\n          eventMetrics.numClientsSilenced += 1.0;\n        } else {\n          eventMetrics.numChecksSilenced += 1.0;\n        }\n      }\n    }\n  }\n\n  var targetName = null;\n  if (aTarget.name !== undefined) {\n    targetName = aTarget.name;\n  }\n  if (aTarget.aliasReplaced !== undefined) {\n    targetName = aTarget.aliasReplaced;\n  }\n  newResponse.data = [{\n    target: targetName,\n    datapoints: [\n      [ 0.00, timestamp ]\n    ]\n  }];\n  switch (aTarget.eventMetricMode) {\n    case \"all_events_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"all_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numEvents, timestamp]];\n      break;\n    case \"active_events_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"active_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numEvents - eventMetrics.numSilenced, timestamp]];\n      break;\n    case \"critical_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"critical_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numCriticalEvents, timestamp]];\n      break;\n    case \"critical_active_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"critical_active_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numCriticalEvents - eventMetrics.numCriticalEventsSilenced, timestamp]];\n      break;\n    case \"critical_silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"critical_silenced_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numCriticalEventsSilenced, timestamp]];\n      break;\n    case \"warning_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"warning_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numWarningEvents, timestamp]];\n      break;\n    case \"warning_active_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"warning_active_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numWarningEvents - eventMetrics.numWarningEventsSilenced, timestamp]];\n      break;\n    case \"warning_silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"warning_silenced_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numWarningEventsSilenced, timestamp]];\n      break;\n    case \"unknown_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"unknown_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numUnknownEvents, timestamp]];\n      break;\n    case \"unknown_active_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"unknown_active_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numUnknownEvents - eventMetrics.numUnknownEventsSilenced, timestamp]];\n      break;\n    case \"unknown_silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"unknown_silenced_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numUnknownEventsSilenced, timestamp]];\n      break;\n    case \"silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"silenced_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numSilenced, timestamp]];\n      break;\n    case \"clients_silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"clients_silenced_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numClientsSilenced, timestamp]];\n      break;\n    case \"checks_silenced_count\":\n      if (targetName === null) {\n        newResponse.data[0].target = \"checks_silenced_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numChecksSilenced, timestamp]];\n      break;\n    default:\n      if (targetName === null) {\n        newResponse.data[0].target = \"all_events_count\";\n      }\n      newResponse.data[0].datapoints = [[ eventMetrics.numEvents, timestamp]];\n      break;\n  }\n  //var str = JSON.stringify(newResponse, null, 2);\n  //console.log(str);\n  return newResponse;\n}\n\nexport {\n  convertEventsToJSON,\n  convertEventsToDataPoints,\n  convertEventsToEventMetrics,\n  convertEventsToEventMetricsJSON,\n  getEventsURIs,\n  includeEventTarget\n};\n"]}