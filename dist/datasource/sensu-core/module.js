define(["app/plugins/sdk","lodash","app/core/utils/kbn"],function(e,t,a){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=758)}({17:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return l});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function s(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var r=function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function i(e,t,a,n){return new(a||(a=Promise))(function(s,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function l(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new a(function(t){t(e.value)}).then(i,l)}c((n=n.apply(e,t||[])).next())})}function l(e,t){var a,n,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(6===r[0]&&i.label<s[1]){i.label=s[1],s=r;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(r);break}s[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{a=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}},32:function(t,a){t.exports=e},33:function(e,a){e.exports=t},758:function(e,t,a){"use strict";a.r(t);var n=a(33),s=a.n(n),r=a(96);function i(e,t){for(var a={data:[]},n=0;n<t.data.length;n++)if(t.data[n].target===e){a.data=t.data[n].response.data;break}return a}function l(e,t){var a=Math.floor(Date.now());null===t&&(t=[]);for(var n=0;n<e.summary.length;n++){var s=e.summary[n],r={target:e.check,clients:s.clients,datapoints:[[s.total,a]]};t.push(r)}return t}function c(e,t){var a=Math.floor(Date.now());null===t&&(t=[]);for(var n=0;n<e.clients.length;n++){var s=e.clients[n],r={target:e.name,datapoints:[[s,a]]};t.push(r)}return t}function u(e,t){var a=Math.floor(Date.now());null===t&&(t=[]);for(var n=0;n<e.checks.length;n++){var s=e.checks[n],r={target:e.name,datapoints:[[s,a]]};t.push(r)}return t}function o(e,t){null===t&&(t=[]);var a=Math.floor(Date.now()),n={target:"checks",datapoints:[[e.checks,a]]};return t.push(n),n={target:"clients",datapoints:[[e.clients,a]]},t.push(n),n={target:"critical",datapoints:[[e.results.critical,a]]},t.push(n),n={target:"ok",datapoints:[[e.results.ok,a]]},t.push(n),n={target:"stale",datapoints:[[e.results.stale,a]]},t.push(n),n={target:"total",datapoints:[[e.results.total,a]]},t.push(n),n={target:"unknown",datapoints:[[e.results.unknown,a]]},t.push(n),n={target:"warning",datapoints:[[e.results.warning,a]]},t.push(n),t}function d(e,t){for(var a=[],n=0;n<e.filters.length;n++){var s=e.filters[n];switch(s.filterType){case"field":for(var r=0;r<t.data.length;r++)t.data[r].hasOwnProperty(s.filterFieldName)&&t.data[r][s.filterFieldName]===s.filterFieldValueReplaced&&-1===a.indexOf(t.data[r].name)&&a.push(t.data[r].name);break;case"fetch":for(r=0;r<t.data.length;r++)s.value===t.data[r].name&&-1===a.indexOf(t.data[r].name)&&a.push(t.data[r].name);break;case"regex":try{var i=s.filterRegexFlags,l=new RegExp(s.filterRegex,i);for(r=0;r<t.data.length;r++)l.test(t.data[r].name)&&-1===a.indexOf(t.data[r].name)&&a.push(t.data[r].name)}catch(e){s.filterMessage="Invalid Regular Expression"}}}return a}function h(e,t){if(void 0===e.filters)return!0;if(0===e.filters.length)return!0;for(var a=0;a<e.filters.length;a++){var n=e.filters[a];switch(n.filterType){case"field":if(t.client.hasOwnProperty(n.filterFieldName)&&t.client[n.filterFieldName]===n.filterFieldValueReplaced)return!0}}return!1}var v=function(){function e(e,t,a,n,s){this.url=e.url,this.name=e.name,this.basicAuth=e.basicAuth,this.withCredentials=e.withCredentials,this.q=t,this.backendSrv=a,this.templateSrv=n,this.uiSegmentSrv=s,this.minimumInterval=6e4}return e.prototype.metricFindQuery=function(e){var t=!1,a=!1,n="/clients",s="";if(void 0!==(e=this.templateSrv.replaceWithText(e))&&""!==e){switch(!0){case/clienttags/.test(e):n="/clients",t=!0;break;case/clienttagvalue/.test(e):n="/clients",a=!0,s=e.split("tag=")[1];break;default:n=e}n.startsWith("/",0)||(n="/"+n)}var r=this;return this.backendSrv.datasourceRequest({url:this.url+n,data:e,method:"GET",headers:{"Content-Type":"application/json",Authorization:this.basicAuth}}).then(function(e){return t?r.generateClientQueryTags(e):a?r.getClientQueryTagValue(e,s):r.mapToClientNameAndVersion(e)})},e.prototype.generateClientQueryTags=function(e){for(var t=[],a=[],n=["name","socket","address","subscriptions","timestamp","keepalive","keepalives","redact","version"],s=0;s<e.data.length;s++)for(var r=Object.keys(e.data[s]),i=0;i<r.length;i++){var l=r[i];if(-1===n.indexOf(l)){var c=l+"="+e.data[s][l];a.indexOf(c)<0&&a.push(c)}}if(0<a.length)for(a.sort(),s=0;s<a.length;s++)t.push({text:a[s],expandable:!0});return t},e.prototype.getClientQueryTagValue=function(e,t){for(var a=t.split("="),n=a[0],s=a[1],r=[],i=[],l=0;l<e.data.length;l++)for(var c=Object.keys(e.data[l]),u=0;u<c.length;u++)if(n===c[u])if("string"!=typeof e.data[l][n]){for(var o=0;o<e.data[l][n].length;o++)if(e.data[l][n][o]===s){var d=e.data[l].name;i.indexOf(d)<0&&i.push(d)}}else e.data[l][n]===s&&(d=e.data[l].name,i.indexOf(d)<0&&i.push(d));if(0<i.length)for(l=0;l<i.length;l++)r.push({text:i[l]});return r},e.prototype.mapToClientNameAndVersion=function(e){return 0===e.data.length?{}:s.a.map(e.data,function(e){var t={text:"",expandable:!0};try{t={text:e.name,expandable:!0}}catch(e){console.log("bad data")}return t})},e.prototype.getClientNames=function(e){for(var t=[],a=0;a<e.length;a++)if("clientName"===e[a].dimensionType){var n=e[a].value;if(this.templateSrv.getVariableName(n)){var s=this.templateSrv.replace(n);if(0<s.length)if(s.startsWith("{")){var r=(s=s.slice(1,-1)).split(",");t.push.apply(t,r)}else t.push(s)}else t.push(n)}return t},e.prototype.getCheckNames=function(e){for(var t=[],a=0;a<e.length;a++)if("checkName"===e[a].dimensionType){var n=e[a].value;if(this.templateSrv.getVariableName(n)){var s=this.templateSrv.replace(n);if(0<s.length)if(s.startsWith("{")){var r=(s=s.slice(1,-1)).split(",");t.push.apply(t,r)}else t.push(s)}else t.push(n)}return t},e.prototype.getAggregateNames=function(e){for(var t=[],a=0;a<e.length;a++)if("aggregateName"===e[a].dimensionType){var n=e[a].value;if(this.templateSrv.getVariableName(n)){var s=this.templateSrv.replace(n);if(0<s.length)if(s.startsWith("{")){var r=(s=s.slice(1,-1)).split(",");t.push.apply(t,r)}else t.push(s)}else t.push(n)}return t},e.prototype.replaceFilterValues=function(e){for(var t=0;t<e.length;t++){var a=e[t];switch(a.filterType){case"field":var n=a.filterFieldValue,s=this.templateSrv.replace(n);a.filterFieldValueReplaced=s}}return e},e.prototype.getQueryURIByType=function(e){var t=[],a=null,n=null,s=null;switch(void 0!==e.dimensions&&(a=this.getClientNames(e.dimensions),n=this.getCheckNames(e.dimensions),s=this.getAggregateNames(e.dimensions)),void 0!==e.filters&&this.replaceFilterValues(e.filters),void 0!==e.alias&&(e.aliasReplaced=this.templateSrv.replace(e.alias)),e.sourceType){case"aggregates":case"aggregates_json":t=function(e,t){var a=[],n="/aggregates",s=null;if(t.length)for(var r=0;r<t.length;r++){switch(n="/aggregates/"+(s=t[r]),e.aggregateMode){case"checks":n="/aggregates/"+s+"/checks";break;case"clients":n="/aggregates/"+s+"/clients";break;case"list":n="/aggregates/"+s;break;case"results_critical":n="/aggregates/"+s+"/results/critical";break;case"results_ok":n="/aggregates/"+s+"/results/ok";break;case"results_unknown":n="/aggregates/"+s+"/results/unknown";break;case"results_warning":n="/aggregates/"+s+"/results/warning"}a.push(n)}return 0===a.length&&a.push(n),a}(e,s);break;case"check_subscriptions":break;case"client_health_json":t=function(e){var t=[];if(e.length)for(var a=0;a<e.length;a++){var n=e[a],s="/results/"+n;t.push(s);var r="/events/"+n;t.push(r)}return 0===t.length&&(t.push("/results"),t.push("/events")),t}(a);break;case"clients":case"clients_json":t=function(e,t){var a=[],n="/clients";if(t.length)for(var s=0;s<t.length;s++)n="/clients/"+t[s],a.push(n);return 0===a.length&&a.push(n),a.push("/events"),a.push("/results"),a}(0,a);break;case"clienthistory":t=function(e){var t=[],a="/clients";if(e.length)for(var n=0;n<e.length;n++)a="/clients/"+e[n]+"/history",t.push(a);return 0===t.length&&t.push(a),t}(a);break;case"event_metrics":case"event_metrics_json":case"events":case"events_json":t=function(e,t){var a=[],n="/events",s=null;if(t.length)for(var r=0;r<t.length;r++)n="/events/"+(s=t[r]),a.push(n);if(e.length&&t.length)for(r=0;r<t.length;r++){s=t[r];for(var i=0;i<e.length;i++)n="/events/"+s+"/"+e[r],a.push(n)}return 0===a.length&&a.push(n),a}(n,a);break;case"results_json":case"results_table":t=function(e,t){var a=[],n="/results",s=null;if(t.length)for(var r=0;r<t.length;r++)n="/results/"+(s=t[r]),a.push(n);if(e.length&&t.length)for(r=0;r<t.length;r++){s=t[r];for(var i=0;i<e.length;i++)n="/results/"+s+"/"+e[r],a.push(n)}return 0===a.length&&a.push(n),a}(n,a)}return t},e.prototype.getBuckets=function(e){for(var t={},a=0;a<e.data.length;a++){var n=e.data[a].target.refId;t.hasOwnProperty(n)?t[n].push(e.data[a]):t[n]=[e.data[a]]}return t},e.prototype.processConversions=function(e,t,a){var n={data:[]};switch(e){case"aggregates":n=function(e,t){var a=i(e,t);if(void 0===a.data.length){var n=a.data;a.data=[],a.data.push(n)}for(var s=null,r=0;r<a.data.length;r++){var d=a.data[r];if(void 0===d.checks)if(void 0===d.clients)if(void 0===d.summary){var h=[],v=Math.floor(Date.now());h[0]=[0,v],d.datapoints=h,d.target=d.name}else s=l(d,s);else s=c(d,s);else switch(typeof d.checks){case"number":s=o(d,s);break;case"object":s=u(d,s)}}return null!==s&&(a.data=s),a}(t,a);break;case"aggregates_json":return function(e,t){var a=i(e,t),n="ALL";0<e.dimensions.length&&(n=e.dimensions[0].value);for(var s=0;s<a.data.length;s++){var r=a.data[s],l=[],c={client:r.name,checks:r.checks,aggregate_name:n};l.push(c),r.datapoints=l,r.type="docs"}return a}(t,a);case"clients":return function(e,t){var a=i(e,t);if(void 0===a.data.length){var n=a.data;a.data=[],a.data.push(n)}switch(e.clientQueryMode){case"list":var s=[],r=[];if(void 0!==e.filters&&0<e.filters.length){r=d(e,a);for(var l=0;l<a.data.length;l++)0<=r.indexOf(a.data[l].name)&&s.push(a.data[l]);a.data=s}for(l=0;l<a.data.length;l++){var c=[];void 0!==(u=a.data[l]).timestamp&&(c[0]=[1,1e3*u.timestamp]),u.datapoints=c,u.target=u.name}break;case"count":if(0<a.data.length){var u=a.data[0],o=c=[];o=void 0!==e.filters&&0<e.filters.length?d(e,a).length:a.data.length,void 0!==u.timestamp&&(c[0]=[o,1e3*u.timestamp]),u.datapoints=c,u.address=void 0,u.name=void 0,u.socket=void 0,u.subscriptions=void 0,u.version=void 0,u.target="ClientCount",e.aliasReplaced&&(u.target=e.aliasReplaced),a.data=[u]}}return a}(t,a);case"clients_json":return function(e,t){var a=i(e,t);if(void 0===a.data.length){var n=a.data;a.data=[],a.data.push(n)}for(var s=[],r=0;r<a.data.length;r++){var l=!0,c=JSON.parse(JSON.stringify(a.data[r]));if(c.datapoints=[],c.type="docs",c.address,"unknown"===c.address&&(c.address="JIT Client"),void 0!==e.filters&&void 0!==e.filters.length)for(var u=0;u<e.filters.length;u++){var o=e.filters[u];switch(o.filterType){case"regex":try{var d=o.filterRegexFlags;new RegExp(o.filterRegex,d).test(c.name)?o.filterMessage="OK":l=!1}catch(e){o.filterMessage="Invalid Regular Expression";break}break;case"field":c.hasOwnProperty(o.filterFieldName)?c[o.filterFieldName]!==o.filterFieldValueReplaced&&(l=!1):l=!1}}if(l){var h={type:"docs",datapoints:[c]};s.push(h)}}return a.data=s,a}(t,a);case"client_health_json":return function(e,t){for(var a=i(e,t),n=[],s=0;s<a.data.length;s++){var r=a.data[s],l=[];if(void 0!==r.check.issued){var c={timestamp:1e3*r.check.issued,check_name:r.check.name,client:r.client,check:r.check,occurrences:r.occurrences,occurrences_watermark:r.occurrences_watermark,action:r.action,id:r.id,last_state_change:1e3*r.last_state_change,last_ok:1e3*r.last_ok,silenced:r.silenced,silenced_by:r.silenced_by};try{c.check.issued=1e3*c.check.issued,c.check.executed=1e3*c.check.executed}catch(e){}l.push(c),r.datapoints=l,delete r.check,delete r.client,r.type="docs",r.silenced||n.push(r),r.silenced&&!e.hideSilencedEvents&&n.push(r)}}return a.data=n,a}(t,a);case"clienthistory":n=function(e,t){for(var a=i(e,t),n=0;n<a.data.length;n++){var s=a.data[n],r=[],l=0;if(void 0!==s.last_execution&&(l=s.last_execution-60*s.history.length),void 0!==s.history)for(var c=0;c<s.history.length;c++)r[c]=[s.history[c],1e3*(l+60*c)];s.datapoints=r,s.target="unknown",void 0!==s.name&&(s.target=s.name),void 0!==s.check&&(s.target=s.check)}return a}(t,a);break;case"events":n=function(e,t){var a=i(e,t);if(void 0===a.data.length){var n=a.data;a.data=[],a.data.push(n)}for(var s=[],r=0;r<a.data.length;r++){var l=a.data[r],c=[],u=0;void 0!==l.timestamp&&(u=l.timestamp-60*l.check.history.length),void 0!==l.last_execution&&(u=l.last_execution-60*l.history.length);for(var o=0;o<l.check.history.length;o++)c[o]=[l.check.history[o],1e3*(u+60*o)];l.datapoints=c,l.target=l.client.name,l.clientName=l.client.name,h(e,l)&&(l.silenced||s.push(l),l.silenced&&!e.hideSilencedEvents&&s.push(l))}return{data:s}}(t,a);break;case"events_json":n=function(e,t){for(var a=i(e,t),n=[],s=0;s<a.data.length;s++){var r=a.data[s],l=[];if(void 0!==r.check.issued&&h(e,r)){var c=r.client.name,u=r.client.name.split(".");0<u.length&&(c=u[0]),r.client.client_short_name=c;var o="UNKNOWN";if(void 0!==r.check&&void 0!==r.check.status)switch(r.check.status){case 0:o="OK";break;case 1:o="WARNING";break;case 2:o="CRITICAL";break;case 3:default:o="UNKNOWN"}r.check.status_text=o;var d={timestamp:1e3*r.check.issued,check_name:r.check.name,client:r.client,check:r.check,occurrences:r.occurrences,occurrences_watermark:r.occurrences_watermark,action:r.action,id:r.id,last_state_change:1e3*r.last_state_change,last_ok:1e3*r.last_ok,silenced:r.silenced,silenced_by:r.silenced_by};try{d.check.issued=1e3*d.check.issued,d.check.executed=1e3*d.check.executed}catch(e){}l.push(d),r.datapoints=l,delete r.check,delete r.client,r.type="docs",r.silenced||n.push(r),r.silenced&&!e.hideSilencedEvents&&n.push(r)}}return{data:n}}(t,a);break;case"event_metrics":n=function(e,t){var a=i(e,t),n={data:[]},s=0;try{s=1e3*a.data[0].check.issued}catch(e){}for(var r={target:"allEvents",timestamp:s,numEvents:0,numSilenced:0,numClientsSilenced:0,numChecksSilenced:0,numWarningEvents:0,numWarningEventsSilenced:0,numCriticalEvents:0,numCriticalEventsSilenced:0,numUnknownEvents:0,numUnknownEventsSilenced:0},l=[],c=[],u=0;u<a.data.length;u++){var o=a.data[u];if(void 0!==o.check.issued){if(void 0!==o.check&&void 0!==o.check.status&&h(e,o))switch(r.numEvents+=1,o.check.status){case 1:r.numWarningEvents+=1,o.silenced&&(r.numWarningEventsSilenced+=1,r.numSilenced+=1);break;case 2:r.numCriticalEvents+=1,o.silenced&&(r.numCriticalEventsSilenced+=1,r.numSilenced+=1);break;default:r.numUnknownEvents+=1,o.silenced&&(r.numUnknownEventsSilenced+=1,r.numSilenced+=1)}l.indexOf(o.client.name)<1&&l.push(o.client.name),c.indexOf(o.check.name)<1&&c.push(o.check.name);for(var d=0;d<o.silenced_by.length;d++)0<=o.silenced_by[d].indexOf("*")?r.numClientsSilenced+=1:r.numChecksSilenced+=1}}var v=null;switch(void 0!==e.name&&(v=e.name),void 0!==e.aliasReplaced&&(v=e.aliasReplaced),n.data=[{target:v,datapoints:[[0,s]]}],e.eventMetricMode){case"all_events_count":null===v&&(n.data[0].target="all_events_count"),n.data[0].datapoints=[[r.numEvents,s]];break;case"active_events_count":null===v&&(n.data[0].target="active_events_count"),n.data[0].datapoints=[[r.numEvents-r.numSilenced,s]];break;case"critical_count":null===v&&(n.data[0].target="critical_events_count"),n.data[0].datapoints=[[r.numCriticalEvents,s]];break;case"critical_active_count":null===v&&(n.data[0].target="critical_active_count"),n.data[0].datapoints=[[r.numCriticalEvents-r.numCriticalEventsSilenced,s]];break;case"critical_silenced_count":null===v&&(n.data[0].target="critical_silenced_count"),n.data[0].datapoints=[[r.numCriticalEventsSilenced,s]];break;case"warning_count":null===v&&(n.data[0].target="warning_events_count"),n.data[0].datapoints=[[r.numWarningEvents,s]];break;case"warning_active_count":null===v&&(n.data[0].target="warning_active_count"),n.data[0].datapoints=[[r.numWarningEvents-r.numWarningEventsSilenced,s]];break;case"warning_silenced_count":null===v&&(n.data[0].target="warning_silenced_count"),n.data[0].datapoints=[[r.numWarningEventsSilenced,s]];break;case"unknown_count":null===v&&(n.data[0].target="unknown_events_count"),n.data[0].datapoints=[[r.numUnknownEvents,s]];break;case"unknown_active_count":null===v&&(n.data[0].target="unknown_active_count"),n.data[0].datapoints=[[r.numUnknownEvents-r.numUnknownEventsSilenced,s]];break;case"unknown_silenced_count":null===v&&(n.data[0].target="unknown_silenced_count"),n.data[0].datapoints=[[r.numUnknownEventsSilenced,s]];break;case"silenced_count":null===v&&(n.data[0].target="silenced_events_count"),n.data[0].datapoints=[[r.numSilenced,s]];break;case"clients_silenced_count":null===v&&(n.data[0].target="clients_silenced_count"),n.data[0].datapoints=[[r.numClientsSilenced,s]];break;case"checks_silenced_count":null===v&&(n.data[0].target="checks_silenced_count"),n.data[0].datapoints=[[r.numChecksSilenced,s]];break;default:null===v&&(n.data[0].target="all_events_count"),n.data[0].datapoints=[[r.numEvents,s]]}return n}(t,a);break;case"event_metrics_json":n=function(e,t){var a=i(e,t),n=0;try{n=1e3*a.data[0].check.issued}catch(e){}for(var s={target:"allEvents",timestamp:n,numEvents:0,numSilenced:0,numClientsSilenced:0,numChecksSilenced:0,numWarningEvents:0,numWarningEventsSilenced:0,numCriticalEvents:0,numCriticalEventsSilenced:0,numUnknownEvents:0,numUnknownEventsSilenced:0},r=[],l=[],c=0;c<a.data.length;c++){var u=a.data[c];if(void 0!==u.check.issued){if(void 0!==u.check&&void 0!==u.check.status&&h(e,u))switch(s.numEvents+=1,u.check.status){case 1:s.numWarningEvents+=1,u.silenced&&(s.numWarningEventsSilenced+=1,s.numSilenced+=1);break;case 2:s.numCriticalEvents+=1,u.silenced&&(s.numCriticalEventsSilenced+=1,s.numSilenced+=1);break;default:s.numUnknownEvents+=1,u.silenced&&(s.numUnknownEventsSilenced+=1,s.numSilenced+=1)}r.indexOf(u.client.name)<0&&r.push(u.client.name),l.indexOf(u.check.name)<0&&l.push(u.check.name);for(var o=0;o<u.silenced_by.length;o++)0<=u.silenced_by[o].indexOf("*")?s.numClientsSilenced+=1:s.numChecksSilenced+=1}}return s.numClientsSilenced=r.length,s.numChecksSilenced=l.length,a.data=[{target:"allEvents",timestamp:n,type:"docs",datapoints:[s]}],a}(t,a);break;case"results_json":n=function(e,t){for(var a=i(e,t),n=0;n<a.data.length;n++){var s=a.data[n],r=[];if(void 0!==s.check.issued){var l={timestamp:1e3*s.check.issued,message:s.check.name,client:s.client,check:{name:s.check.name,issued:1e3*s.check.issued,executed:1e3*s.check.executed,output:s.check.output,status:s.check.status,type:s.check.type}};r.push(l),s.datapoints=r,delete s.check,delete s.client,s.type="docs"}}return a}(t,a);break;case"results_table":n=function(e,t){var a=i(e,t);if(void 0===a.data.length){var n=a.data;a.data=[],a.data.push(n)}for(var s=[],r=0;r<a.data.length;r++){var l=a.data[r],c=[1e3*l.check.issued,l.client,l.check.name,l.check.status,1e3*l.check.issued,1e3*l.check.executed,l.check.output,l.check.type,l.check.thresholds.warning,l.check.thresholds.critical];s.push(c)}var u=a.data[0],o=[];return o[0]=[u.check.status,1e3*u.check.issued],u.datapoints=o,u.type="table",u.columns=[{text:"Time",type:"date"},{text:"client"},{text:"check.name"},{text:"check.status"},{text:"check.issued",type:"date"},{text:"check.executed",type:"date"},{text:"check.output"},{text:"check.type"},{text:"check.thresholds.warning"},{text:"check.thresholds.critical"}],u.rows=s,a.data=[u],a}(t,a);break;default:console.log("Unknown source type")}return n},e.prototype.setRawTargets=function(e,t){for(var a=0;a<t.data.length;a++)t.data[a].rawTarget=t.data[a].target;return t},e.prototype.processFilters=function(e,t){if(void 0!==e.filters&&0<e.filters.length){for(var a=[],n=0;n<e.filters.length;n++)for(var s=e.filters[n],r=0;r<t.data.length;r++){var i=t.data[r].rawTarget;s.filterType===i&&(e.aliasReplaced&&(t.data[r].target=e.aliasReplaced+" "+i),a.push(t.data[r]))}0<a.length&&(t.data=a)}else if(e.aliasReplaced)for(n=0;n<t.data.length;n++)t.data[n].target=e.aliasReplaced;return t},e.prototype.parseQueryResult=function(e){var t={data:[]};if(!e||!e.data)return t;for(var a=this.getBuckets(e),n=Object.keys(a),s=0;s<n.length;s++){var r=n[s],i=a[r][0].target.sourceType,l=a[r][0].target,c=this.processConversions(i,l,e);c=this.setRawTargets(l,c),c=this.processFilters(l,c);for(var u=0;u<c.data.length;u++)t.data.push(c.data[u])}return t},e.prototype.getCheckInterval=function(e,t){},e.prototype.dimensionFindValues=function(e,t){var a="/clients";switch(t.dimensionType){case"clientName":a="/clients";break;case"checkName":a="/checks";break;case"aggregateName":a="/aggregates"}return this.backendSrv.datasourceRequest({url:this.url+a,method:"GET",headers:{"Content-Type":"application/json",Authorization:this.basicAuth}}).then(this.mapToTextValue)},e.prototype.mapToTextValue=function(e){return s.a.map(e.data,function(e,t){return{text:e.name,value:e.name}})},e.prototype.filterFindValues=function(e,t){var a="/clients";switch(t.filterType){case"clientName":a="/clients";break;case"checkName":a="/checks";break;case"aggregateName":a="/aggregates"}return this.backendSrv.datasourceRequest({url:this.url+a,method:"GET",headers:{"Content-Type":"application/json",Authorization:this.basicAuth}}).then(this.mapToTextValue)},e.prototype.query=function(e){var t=[];e.targets.forEach(function(e){t.push(e)});var a=e.interval;Object(r.interval_to_ms)(a),Object(r.interval_to_ms)(a)<this.minimumInterval&&(a=Object(r.secondsToHms)(this.minimumInterval/1e3));var n=this.q.defer();return 0===t.length?n.resolve({data:[]}):this.q.all({first:this.multipleDataQueries(t)}).then(function(e){n.resolve(e.first)}),n.promise},e.prototype.singleDataQuery=function(e,t){var a=this.q.defer(),n={method:"GET",url:this.url+t,params:{},headers:{"Content-Type":"application/json",Authorization:this.basicAuth}};return this.backendSrv.datasourceRequest(n).then(function(t){var n=null;200!==t.status&&(console.log("error..."),n=new Error("Bad Status: "+t.status),a.reject(n)),t.data||(n=new Error("No data"),a.reject(n)),a.resolve({target:e,response:t})},function(e){console.error("Unable to load data. Response: %o",e.data?e.data.message:e);var t=new Error("Unable to load data");a.reject(t)}),a.promise},e.prototype.multiDone=function(e){return this.parseQueryResult(e)},e.prototype.multipleDataQueries=function(e){for(var t=this.q.defer(),a=[],n=this,s=0;s<e.length;){for(var r=e[s],i=this.getQueryURIByType(r),l=0;l<i.length;l++)a.push(n.singleDataQuery(r,i[l]));s++}return this.q.all(a).then(function(e){for(var a={data:[]},s=0;s<e.length;)a.data.push(e[s]),s++;t.resolve(n.multiDone(a))},function(e){t.reject(e)},function(e){t.update(e)}),t.promise},e.prototype.getServerInfo=function(){return this.backendSrv.datasourceRequest({url:this.url+"/info",headers:{"Content-Type":"application/json",Authorization:this.basicAuth},method:"GET"}).then(function(e){return e.data})},e.prototype.testDatasource=function(){return this.backendSrv.datasourceRequest({url:this.url+"/info",headers:{"Content-Type":"application/json",Authorization:this.basicAuth},method:"GET"}).then(function(e){return 200===e.status?{status:"success",message:"Data source is working",title:"Success"}:{status:"error",message:"Data source is not working",title:"Error"}})},e}(),g=a(17),p=a(32),f=function(e){function t(t,a,n,s){var r=e.call(this,t,a)||this;return r.scope=t,r.uiSegmentSrv=s,r.templateSrv=n,r.sourceTypes=[{text:"Aggregates",value:"aggregates"},{text:"Aggregates as JSON",value:"aggregates_json"},{text:"Check Subscriptions",value:"check_subscriptions"},{text:"Clients",value:"clients"},{text:"Clients as JSON",value:"clients_json"},{text:"Client Health as JSON",value:"client_health_json"},{text:"Client History",value:"client_history"},{text:"Events",value:"events"},{text:"Events as JSON",value:"events_json"},{text:"Event Metrics",value:"event_metrics"},{text:"Event Metrics JSON",value:"event_metrics_json"},{text:"Results as JSON",value:"results_json"},{text:"Results as Table",value:"results_table"},{text:"Sensu Health",value:"sensu_health_json"},{text:"Silenced Entries",value:"silenced_entries_json"},{text:"Stashes",value:"stashes_json"}],r.dimensionTypes={aggregates:[{text:"Aggregate Name",value:"aggregateName"}],aggregates_json:[{text:"Aggregate Name",value:"aggregateName"}],check_subscriptions:[{text:"Aggregate Name",value:"aggregateName"},{text:"Check Name",value:"checkName"},{text:"Check Type",value:"checkType"},{text:"Source (JIT Client)",value:"sourceName"}],clients:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],client_health_json:[{text:"Client Name",value:"clientName"}],client_history:[{text:"Client Name",value:"clientName"}],clients_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],events:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],events_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],event_metrics:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],event_metrics_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],results_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],results_table:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],sensu_health_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],silenced_entries_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}],stashes_json:[{text:"Client Name",value:"clientName"},{text:"Check Name",value:"checkName"}]},r.filterTypes={aggregates:[{text:"Number of Checks",value:"checks",type:"value"},{text:"Number of Clients",value:"clients",type:"value"},{text:"State Critical",value:"critical",type:"value"},{text:"State OK",value:"ok",type:"value"},{text:"State Stale",value:"stale",type:"value"},{text:"State Unknown",value:"unknown",type:"value"},{text:"State Warning",value:"warning",type:"value"},{text:"Total Checks",value:"total",type:"value"}],client_health_json:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"}],clients:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Field",value:"field"}],clients_json:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Field",value:"field"}],events:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Check Name RegEx",value:"regex"},{text:"Field",value:"field"}],events_json:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Check Name RegEx",value:"regex"},{text:"Field",value:"field"}],event_metrics:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Check Name RegEx",value:"regex"},{text:"Field",value:"field"}],event_metrics_json:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Check Name RegEx",value:"regex"},{text:"Field",value:"field"}],results_json:[{text:"Client Name",value:"fetch"},{text:"Client Name RegEx",value:"regex"},{text:"Check Name RegEx",value:"regex"},{text:"Field",value:"field"}]},r.aggregateModes=[{text:"List",value:"list"},{text:"Clients",value:"clients"},{text:"Checks",value:"checks"},{text:"Results Critical",value:"results_critical"},{text:"Results OK",value:"results_ok"},{text:"Results Unknown",value:"results_unknown"},{text:"Results Warning",value:"results_warning"}],r.clientQueryModes=[{text:"List",value:"list"},{text:"Count",value:"count"}],r.eventMetricModes=[{text:"All Events",value:"all_events_count"},{text:"Active Events",value:"active_events_count"},{text:"Critical Total Count",value:"critical_count"},{text:"Critical Active Count",value:"critical_active_count"},{text:"Critical Silenced Count",value:"critical_silenced_count"},{text:"Warning Total Count",value:"warning_count"},{text:"Warning Silenced Count",value:"warning_silenced_count"},{text:"Warning Active Count",value:"warning_active_count"},{text:"Unknown Total Count",value:"unknown_count"},{text:"Unknown Active Count",value:"unknown_active_count"},{text:"Unknown Silenced Count",value:"unknown_silenced_count"},{text:"Silenced Total Count",value:"silenced_count"},{text:"Clients Silenced Count",value:"clients_silenced_count"},{text:"Checks Silenced Count",value:"checks_silenced_count"}],r.target.clientQueryMode=r.target.clientQueryMode||"count",r.target.eventMetricMode=r.target.eventMetricMode||"all_events_count",r.target.aggregateMode=r.target.aggregateMode||"list",r.target.sourceType=r.target.sourceType||"events",r.target.dimensions=r.target.dimensions||[],r}return g.c(t,e),t.prototype.removeDimension=function(e){this.target.dimensions&&(this.target.dimensions.splice(this.target.dimensions.indexOf(e),1),this.panelCtrl.refresh())},t.prototype.addDimension=function(){this.target.dimensions||(this.target.dimensions=[]);var e=this.dimensionTypes[this.target.sourceType][0].value;this.target.dimensions.push({name:null,value:null,dimensionType:e})},t.prototype.getDimensionValues=function(e){if(e)return this.datasource.dimensionFindValues(this.target,e).then(this.uiSegmentSrv.transformToSegments(!0))},t.prototype.removeFilter=function(e){this.target.filters&&(this.target.filters.splice(this.target.filters.indexOf(e),1),this.panelCtrl.refresh())},t.prototype.addFilter=function(){this.target.filters||(this.target.filters=[]);var e=this.filterTypes[this.target.sourceType][0].type;this.target.filters.push({name:null,value:null,filterType:e})},t.prototype.getFilterValues=function(e){if(e)return this.datasource.filterFindValues(this.target,e).then(this.uiSegmentSrv.transformToSegments(!0))},t.prototype.getOptions=function(){return this.datasource.metricFindQuery(this.target).then(this.uiSegmentSrv.transformToSegments(!0))},t.prototype.sourceTypeChanged=function(){this.target.dimensions&&(this.target.dimensions=[]),this.onChangeInternal()},t.prototype.modeChanged=function(){this.onChangeInternal()},t.prototype.onChangeInternal=function(){this.panelCtrl.refresh()},t.templateUrl="datasource/sensu-core/partials/query.editor.html",t}(p.QueryCtrl);a.d(t,"ConfigCtrl",function(){return m}),a.d(t,"QueryOptionsCtrl",function(){return k}),a.d(t,"Datasource",function(){return v}),a.d(t,"QueryCtrl",function(){return f}),Object(p.loadPluginCss)({dark:"plugins/grafana-sensu-app/datasource/sensu-core/css/query-editor.css",light:"plugins/grafana-sensu-app/datasource/sensu-core/css/query-editor.css"});var m=function(){function e(){}return e.templateUrl="datasource/sensu-core/partials/config.html",e}(),k=function(){function e(){}return e.templateUrl="datasource/sensu-core/partials/query.options.html",e}()},96:function(e,t){e.exports=a}})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYXBwL3BsdWdpbnMvc2RrXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibG9kYXNoXCIiLCJ3ZWJwYWNrOi8vL3NyYy9Vc2Vycy9iZ2Fubi9Eb2N1bWVudHMvcmVwb3MtZ3JhZmFuYS1wbHVnaW5zL2dyYWZhbmEtc2Vuc3UtYXBwL3NyYy9kYXRhc291cmNlL3NlbnN1LWNvcmUvYXBpL3V0aWxzLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2FwaS9hZ2dyZWdhdGVfY29udmVydGVycy50cyIsIndlYnBhY2s6Ly8vc3JjL1VzZXJzL2JnYW5uL0RvY3VtZW50cy9yZXBvcy1ncmFmYW5hLXBsdWdpbnMvZ3JhZmFuYS1zZW5zdS1hcHAvc3JjL2RhdGFzb3VyY2Uvc2Vuc3UtY29yZS9hcGkvY2xpZW50X2ZpbHRlcnMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9Vc2Vycy9iZ2Fubi9Eb2N1bWVudHMvcmVwb3MtZ3JhZmFuYS1wbHVnaW5zL2dyYWZhbmEtc2Vuc3UtYXBwL3NyYy9kYXRhc291cmNlL3NlbnN1LWNvcmUvYXBpL2V2ZW50X2ZpbHRlcnMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9Vc2Vycy9iZ2Fubi9Eb2N1bWVudHMvcmVwb3MtZ3JhZmFuYS1wbHVnaW5zL2dyYWZhbmEtc2Vuc3UtYXBwL3NyYy9kYXRhc291cmNlL3NlbnN1LWNvcmUvZGF0YXNvdXJjZS50cyIsIndlYnBhY2s6Ly8vc3JjL1VzZXJzL2JnYW5uL0RvY3VtZW50cy9yZXBvcy1ncmFmYW5hLXBsdWdpbnMvZ3JhZmFuYS1zZW5zdS1hcHAvc3JjL2RhdGFzb3VyY2Uvc2Vuc3UtY29yZS9hcGkvYWdncmVnYXRlX3JlcXVlc3RzLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2FwaS9jbGllbnRfcmVxdWVzdHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9Vc2Vycy9iZ2Fubi9Eb2N1bWVudHMvcmVwb3MtZ3JhZmFuYS1wbHVnaW5zL2dyYWZhbmEtc2Vuc3UtYXBwL3NyYy9kYXRhc291cmNlL3NlbnN1LWNvcmUvYXBpL2V2ZW50X3JlcXVlc3RzLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2FwaS9yZXN1bHRfcmVxdWVzdHMudHMiLCJ3ZWJwYWNrOi8vL3NyYy9Vc2Vycy9iZ2Fubi9Eb2N1bWVudHMvcmVwb3MtZ3JhZmFuYS1wbHVnaW5zL2dyYWZhbmEtc2Vuc3UtYXBwL3NyYy9kYXRhc291cmNlL3NlbnN1LWNvcmUvYXBpL2NsaWVudF9jb252ZXJ0ZXJzLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2FwaS9ldmVudF9jb252ZXJ0ZXJzLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2FwaS9yZXN1bHRfY29udmVydGVycy50cyIsIndlYnBhY2s6Ly8vc3JjL1VzZXJzL2JnYW5uL0RvY3VtZW50cy9yZXBvcy1ncmFmYW5hLXBsdWdpbnMvZ3JhZmFuYS1zZW5zdS1hcHAvc3JjL2RhdGFzb3VyY2Uvc2Vuc3UtY29yZS9xdWVyeV9jdHJsLnRzIiwid2VicGFjazovLy9zcmMvVXNlcnMvYmdhbm4vRG9jdW1lbnRzL3JlcG9zLWdyYWZhbmEtcGx1Z2lucy9ncmFmYW5hLXNlbnN1LWFwcC9zcmMvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL21vZHVsZS50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhcHAvY29yZS91dGlscy9rYm5cIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsImRlZmF1bHQiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCIxNyIsImUiLCJhIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9fZXh0ZW5kcyIsIl9fYXNzaWduIiwiX19hd2FpdGVyIiwiX19nZW5lcmF0b3IiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwidGhyb3ciLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJyZXR1cm4iLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsInB1c2giLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zMl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMzNfXyIsImdldFJlc3BvbnNlRm9yVGFyZ2V0IiwiYVRhcmdldCIsInJlc3BvbnNlcyIsInJlc3BvbnNlIiwiZGF0YSIsInRhcmdldCIsImNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVSZXN1bHRzIiwiYW5FdmVudCIsImRhdGFTZXQiLCJ0aW1lc3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93Iiwic3VtbWFyeSIsImFTdW1tYXJ5IiwiY2hlY2tEYXRhIiwiY2hlY2siLCJjbGllbnRzIiwiZGF0YXBvaW50cyIsInRvdGFsIiwiY29udmVydEV2ZW50RGF0YVRvQWdncmVnYXRlTW9kZUNoZWNrcyIsImNsaWVudE5hbWUiLCJjb252ZXJ0RXZlbnREYXRhVG9BZ2dyZWdhdGVNb2RlQ2xpZW50IiwiY2hlY2tzIiwiY2hlY2tOYW1lIiwiY2xpZW50RGF0YSIsImNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVMaXN0IiwiaXRlbSIsInJlc3VsdHMiLCJjcml0aWNhbCIsIm9rIiwic3RhbGUiLCJ1bmtub3duIiwid2FybmluZyIsImdldENsaWVudHNXaXRoRmlsdGVyIiwiYXJyQ2xpZW50TmFtZXMiLCJmaWx0ZXJzIiwiYUZpbHRlciIsImZpbHRlclR5cGUiLCJqIiwiZmlsdGVyRmllbGROYW1lIiwiZmlsdGVyRmllbGRWYWx1ZVJlcGxhY2VkIiwiaW5kZXhPZiIsImZsYWdzIiwiZmlsdGVyUmVnZXhGbGFncyIsInJlIiwiUmVnRXhwIiwiZmlsdGVyUmVnZXgiLCJ0ZXN0IiwiZXJyIiwiZmlsdGVyTWVzc2FnZSIsImluY2x1ZGVFdmVudFRhcmdldCIsImNsaWVudCIsImRhdGFzb3VyY2VfU2Vuc3VDb3JlRGF0YXNvdXJjZSIsIlNlbnN1Q29yZURhdGFzb3VyY2UiLCJpbnN0YW5jZVNldHRpbmdzIiwiJHEiLCJiYWNrZW5kU3J2IiwidGVtcGxhdGVTcnYiLCJ1aVNlZ21lbnRTcnYiLCJ1cmwiLCJiYXNpY0F1dGgiLCJ3aXRoQ3JlZGVudGlhbHMiLCJxIiwibWluaW11bUludGVydmFsIiwibWV0cmljRmluZFF1ZXJ5Iiwib3B0aW9ucyIsImlzQ2xpZW50VGFncyIsImlzQ2xpZW50VGFnVmFsdWUiLCJhUXVlcnkiLCJ0YWdUb1ZhbHVlIiwicmVwbGFjZVdpdGhUZXh0Iiwic3BsaXQiLCJzdGFydHNXaXRoIiwidGhpc1JlZiIsImRhdGFzb3VyY2VSZXF1ZXN0IiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsIkF1dGhvcml6YXRpb24iLCJnZW5lcmF0ZUNsaWVudFF1ZXJ5VGFncyIsImdldENsaWVudFF1ZXJ5VGFnVmFsdWUiLCJtYXBUb0NsaWVudE5hbWVBbmRWZXJzaW9uIiwiY2xpZW50UXVlcnlUYWdzIiwiYWxsVGFncyIsImV4Y2x1ZGVkVGFncyIsImtleXMiLCJrZXlOYW1lIiwiZnVsbEtleU5hbWUiLCJzb3J0IiwidGV4dCIsImV4cGFuZGFibGUiLCJ0YWciLCJ0YWdTcGxpdCIsInRhZ1RvTWF0Y2giLCJ0YWdWYWx1ZVRvTWF0Y2giLCJhbGxUYWdWYWx1ZXMiLCJ6IiwidGFnVmFsdWUiLCJleHRlcm5hbF9sb2Rhc2hfZGVmYXVsdCIsIm1hcCIsIngiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q2xpZW50TmFtZXMiLCJkaW1lbnNpb25zIiwidmFsdWVzIiwiZGltZW5zaW9uVHlwZSIsImFEaW1lbnNpb24iLCJnZXRWYXJpYWJsZU5hbWUiLCJ0ZW1wbGF0ZVZhciIsInJlcGxhY2UiLCJ0ZW1wbGF0ZVZhcnMiLCJzbGljZSIsImdldENoZWNrTmFtZXMiLCJnZXRBZ2dyZWdhdGVOYW1lcyIsInJlcGxhY2VGaWx0ZXJWYWx1ZXMiLCJhRmllbGRWYWx1ZSIsImZpbHRlckZpZWxkVmFsdWUiLCJ0ZW1wbGF0ZWRWYWx1ZSIsImdldFF1ZXJ5VVJJQnlUeXBlIiwidXJpcyIsImNsaWVudE5hbWVzIiwiY2hlY2tOYW1lcyIsImFnZ3JlZ2F0ZU5hbWVzIiwiYWxpYXMiLCJhbGlhc1JlcGxhY2VkIiwic291cmNlVHlwZSIsImRpbWVuc2lvblVSSSIsImFuQWdncmVnYXRlTmFtZSIsImFnZ3JlZ2F0ZU1vZGUiLCJhQ2xpZW50TmFtZSIsInJlc3VsdHNVUkkiLCJldmVudHNVUkkiLCJnZXRCdWNrZXRzIiwiYnVja2V0cyIsInJlZklkIiwicHJvY2Vzc0NvbnZlcnNpb25zIiwic2luZ2xlRGF0YSIsIm5ld0RhdGEiLCJhbkFnZ3JlZ2F0ZSIsImFnZ3JlZ2F0ZU5hbWUiLCJhZ2dyZWdhdGVfbmFtZSIsInR5cGUiLCJjbGllbnRRdWVyeU1vZGUiLCJmaWx0ZXJEYXRhIiwiY2xpZW50Q291bnQiLCJhZGRyZXNzIiwic29ja2V0Iiwic3Vic2NyaXB0aW9ucyIsInZlcnNpb24iLCJwdXNoSXRlbSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImVudHJ5IiwiZmlsdGVyZWREYXRhIiwiaXNzdWVkIiwiY2hlY2tfbmFtZSIsIm9jY3VycmVuY2VzIiwib2NjdXJyZW5jZXNfd2F0ZXJtYXJrIiwiYWN0aW9uIiwiaWQiLCJsYXN0X3N0YXRlX2NoYW5nZSIsImxhc3Rfb2siLCJzaWxlbmNlZCIsInNpbGVuY2VkX2J5IiwiZXhlY3V0ZWQiLCJoaWRlU2lsZW5jZWRFdmVudHMiLCJzdGFydGluZ1RpbWVzdGFtcCIsImxhc3RfZXhlY3V0aW9uIiwiaGlzdG9yeSIsImNsaWVudFNob3J0bmFtZSIsInBhcnRzIiwiY2xpZW50X3Nob3J0X25hbWUiLCJzdGF0dXNUZXh0Iiwic3RhdHVzIiwic3RhdHVzX3RleHQiLCJuZXdSZXNwb25zZSIsImV2ZW50TWV0cmljcyIsIm51bUV2ZW50cyIsIm51bVNpbGVuY2VkIiwibnVtQ2xpZW50c1NpbGVuY2VkIiwibnVtQ2hlY2tzU2lsZW5jZWQiLCJudW1XYXJuaW5nRXZlbnRzIiwibnVtV2FybmluZ0V2ZW50c1NpbGVuY2VkIiwibnVtQ3JpdGljYWxFdmVudHMiLCJudW1Dcml0aWNhbEV2ZW50c1NpbGVuY2VkIiwibnVtVW5rbm93bkV2ZW50cyIsIm51bVVua25vd25FdmVudHNTaWxlbmNlZCIsImlfMiIsInRhcmdldE5hbWUiLCJldmVudE1ldHJpY01vZGUiLCJpXzEiLCJtZXNzYWdlIiwib3V0cHV0Iiwicm93RGF0YSIsInJvd0luZm8iLCJhUm93IiwidGhyZXNob2xkcyIsImNvbHVtbnMiLCJyb3dzIiwic2V0UmF3VGFyZ2V0cyIsInJhd1RhcmdldCIsInByb2Nlc3NGaWx0ZXJzIiwiYVJhd1RhcmdldCIsInBhcnNlUXVlcnlSZXN1bHQiLCJhbGxSZXN1bHRzIiwiYnVja2V0S2V5cyIsImFLZXkiLCJnZXRDaGVja0ludGVydmFsIiwiZGltZW5zaW9uRmluZFZhbHVlcyIsImRpbWVuc2lvbiIsIm1hcFRvVGV4dFZhbHVlIiwiZmlsdGVyRmluZFZhbHVlcyIsImZpbHRlciIsImZpbHRlclVSSSIsInF1ZXJ5IiwicXVlcmllcyIsInRhcmdldHMiLCJmb3JFYWNoIiwiaW50ZXJ2YWwiLCJrYm5fIiwiaW50ZXJ2YWxfdG9fbXMiLCJzZWNvbmRzVG9IbXMiLCJkZWZlcnJlZCIsImRlZmVyIiwiYWxsIiwiZmlyc3QiLCJtdWx0aXBsZURhdGFRdWVyaWVzIiwicHJvbWlzZSIsInNpbmdsZURhdGFRdWVyeSIsInNpbmdsZVRhcmdldCIsInVyaVR5cGUiLCJodHRwT3B0aW9ucyIsInBhcmFtcyIsImFuRXJyb3IiLCJFcnJvciIsImVycm9yIiwibXVsdGlEb25lIiwicGVuZGluZ1F1ZXJpZXMiLCJkYXRhQ2FsbHMiLCJpbmRleCIsInVyaUxpc3QiLCJlcnJvcnMiLCJ1cGRhdGVzIiwidXBkYXRlIiwiZ2V0U2VydmVySW5mbyIsInRlc3REYXRhc291cmNlIiwidGl0bGUiLCJxdWVyeV9jdHJsX1NlbnN1Q29yZURhdGFzb3VyY2VRdWVyeUN0cmwiLCJfc3VwZXIiLCJTZW5zdUNvcmVEYXRhc291cmNlUXVlcnlDdHJsIiwiJHNjb3BlIiwiJGluamVjdG9yIiwiX3RoaXMiLCJzY29wZSIsInNvdXJjZVR5cGVzIiwiZGltZW5zaW9uVHlwZXMiLCJhZ2dyZWdhdGVzIiwiYWdncmVnYXRlc19qc29uIiwiY2hlY2tfc3Vic2NyaXB0aW9ucyIsImNsaWVudF9oZWFsdGhfanNvbiIsImNsaWVudF9oaXN0b3J5IiwiY2xpZW50c19qc29uIiwiZXZlbnRzIiwiZXZlbnRzX2pzb24iLCJldmVudF9tZXRyaWNzIiwiZXZlbnRfbWV0cmljc19qc29uIiwicmVzdWx0c19qc29uIiwicmVzdWx0c190YWJsZSIsInNlbnN1X2hlYWx0aF9qc29uIiwic2lsZW5jZWRfZW50cmllc19qc29uIiwic3Rhc2hlc19qc29uIiwiZmlsdGVyVHlwZXMiLCJhZ2dyZWdhdGVNb2RlcyIsImNsaWVudFF1ZXJ5TW9kZXMiLCJldmVudE1ldHJpY01vZGVzIiwidHNsaWJfZXM2IiwicmVtb3ZlRGltZW5zaW9uIiwic3BsaWNlIiwicGFuZWxDdHJsIiwicmVmcmVzaCIsImFkZERpbWVuc2lvbiIsImRlZmF1bHREaW1lbnNpb25UeXBlIiwiZ2V0RGltZW5zaW9uVmFsdWVzIiwiZGF0YXNvdXJjZSIsInRyYW5zZm9ybVRvU2VnbWVudHMiLCJyZW1vdmVGaWx0ZXIiLCJhZGRGaWx0ZXIiLCJkZWZhdWx0RmlsdGVyVHlwZSIsImdldEZpbHRlclZhbHVlcyIsImdldE9wdGlvbnMiLCJzb3VyY2VUeXBlQ2hhbmdlZCIsIm9uQ2hhbmdlSW50ZXJuYWwiLCJtb2RlQ2hhbmdlZCIsInRlbXBsYXRlVXJsIiwic2RrXyIsIlF1ZXJ5Q3RybCIsIlNlbnN1Q29uZmlnQ3RybCIsIlNlbnN1UXVlcnlPcHRpb25zQ3RybCIsImxvYWRQbHVnaW5Dc3MiLCJkYXJrIiwibGlnaHQiLCI5NiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk2X18iXSwibWFwcGluZ3MiOiI0RkFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFD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cEIsS0FBS29HLGFBQWFvTywwQkFROUJuQyxFQUFBdlQsVUFBQStWLFdBQUEsV0FDRSxPQUFPN1UsS0FBS3VVLFdBQVc3TixnQkFBZ0IxRyxLQUFLNkMsUUFDekN6QixLQUFLcEIsS0FBS29HLGFBQWFvTywwQkFRNUJuQyxFQUFBdlQsVUFBQWdXLGtCQUFBLFdBRU05VSxLQUFLNkMsT0FBT3FHLGFBQ2RsSixLQUFLNkMsT0FBT3FHLFdBQWEsSUFFM0JsSixLQUFLK1Usb0JBT1AxQyxFQUFBdlQsVUFBQWtXLFlBQUEsV0FDRWhWLEtBQUsrVSxvQkFPUDFDLEVBQUF2VCxVQUFBaVcsaUJBQUEsV0FDRS9VLEtBQUtrVSxVQUFVQyxXQXZuQlY5QixFQUFBNEMsWUFBYyxtREEwbkJ2QjVDLEVBM25CQSxDQUFrRDZDLEVBQUFDLFdDQWxEdFksRUFBQVUsRUFBQThCLEVBQUEsK0JBQUErVixJQUFBdlksRUFBQVUsRUFBQThCLEVBQUEscUNBQUFnVyxJQUFBeFksRUFBQVUsRUFBQThCLEVBQUEsK0JBQUF5RyxJQUFBakosRUFBQVUsRUFBQThCLEVBQUEsOEJBQUE4UyxJQUtBeFUsT0FBQXVYLEVBQUFJLGNBQUEzWCxDQUFjLENBQ1o0WCxLQUFNLHVFQUNOQyxNQUFPLHlFQUdULElBQUFKLEVBQUEsb0JBQUFBLEtBRUEsT0FEU0EsRUFBQUgsWUFBYyw2Q0FDdkJHLEVBRkEsR0FJQUMsRUFBQSxvQkFBQUEsS0FFQSxPQURTQSxFQUFBSixZQUFjLG9EQUN2QkksRUFGQSxJQUFBSSxHQUFBLFNBQUF0VyxFQUFBaEIsR0NqQkFuQixFQUFBRCxRQUFBMlkiLCJmaWxlIjoiZGF0YXNvdXJjZS9zZW5zdS1jb3JlL21vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3NTgpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzMyX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zM19fOyIsImZ1bmN0aW9uIGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICAvLyBmaW5kIGEgcmVzcG9uc2UgdGhhdCBtYXRjaGVzIHRoZSB0YXJnZXRcbiAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgZGF0YTogW11cbiAgfTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXNwb25zZXMuZGF0YVtpXS50YXJnZXQgPT09IGFUYXJnZXQpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHJlc3BvbnNlIHRvIGNvbnZlcnRcbiAgICAgIHJlc3BvbnNlLmRhdGEgPSByZXNwb25zZXMuZGF0YVtpXS5yZXNwb25zZS5kYXRhO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuXG5leHBvcnQge1xuICBnZXRSZXNwb25zZUZvclRhcmdldFxufTtcbiIsIi8qKlxuICpcbiAqL1xuaW1wb3J0IHsgZ2V0UmVzcG9uc2VGb3JUYXJnZXQgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4vKipcbiAqIFtjb252ZXJ0QWdncmVnYXRlc1RvRGF0YVBvaW50cyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5mdW5jdGlvbiBjb252ZXJ0QWdncmVnYXRlc1RvRGF0YVBvaW50cyhhVGFyZ2V0LCByZXNwb25zZXMpIHtcbiAgdmFyIHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JUYXJnZXQoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgLy8gdGhlIHJlc3VsdCBoYXMgbm8gXCJkYXRhcG9pbnRzXCIsIG5lZWQgdG8gY3JlYXRlIGl0IGJhc2VkIG9uIHRoZSBjaGVjayBkYXRhXG5cbiAgLy8gd2hlbiB3ZSBoYXZlIGEgY2hlY2tuYW1lIGFuZCBhbiBjbGllbnROYW1lLCB0aGUgcmVzcG9uc2UgaXMgZGlmZmVyZW50LCB0aGVcbiAgLy8gZGF0YSBpcyBub3QgYW4gYXJyYXksIGJ1dCBjb250YWlucyB0aGUgc2FtZSBpbmZvcm1hdGlvbiwgcmVjcmVhdGUgYW5kIHB1c2hcbiAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgc2luZ2xlRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgIHJlc3BvbnNlLmRhdGEucHVzaChzaW5nbGVEYXRhKTtcbiAgfVxuICAvLyBzdG9yYWdlIGZvciBuZXcgZGF0YSBzZXJpZXMgY29uc3RydWN0ZWQgYnkgYWdncmVnYXRlIHJlc3BvbnNlc1xuICB2YXIgbmV3RGF0YSA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkFnZ3JlZ2F0ZSA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgLy8gY2hlY2tzIGlzIGRlZmluZWQgd2hlbiB0aGUgYWdncmVnYXRlIG1vZGUgaXMgZWl0aGVyIFwiQ2xpZW50c1wiIG9yIFwiTGlzdFwiXG4gICAgaWYgKGFuQWdncmVnYXRlLmNoZWNrcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBjcmVhdGUgYSBuZXcgYmxvY2sgb2YgZGF0YXBvaW50cyBmb3IgZWFjaCBhZ2dyZWdhdGUgcmVzdWx0IGpzb24gZW50cnlcbiAgICAgIC8vXG4gICAgICB2YXIgY2hlY2tUeXBlID0gdHlwZW9mKGFuQWdncmVnYXRlLmNoZWNrcyk7XG4gICAgICBzd2l0Y2ggKGNoZWNrVHlwZSkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgLy8gY2hlY2tzVHlwZSBpcyBhIG51bWJlciwgd2hpY2ggaXMgYW4gYWdncmVnYXRlIGxpc3QgcmVzcG9uc2VcbiAgICAgICAgICBuZXdEYXRhID0gY29udmVydEV2ZW50RGF0YVRvQWdncmVnYXRlTW9kZUxpc3QoYW5BZ2dyZWdhdGUsIG5ld0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgLy8gY2hlY2tUeXBlIGlzIGFuIG9iamVjdCwgd2hpY2ggaXMgYW4gYWdncmVnYXRlIGNsaWVudHMgcmVzcG9uc2VcbiAgICAgICAgICBuZXdEYXRhID0gY29udmVydEV2ZW50RGF0YVRvQWdncmVnYXRlTW9kZUNsaWVudChhbkFnZ3JlZ2F0ZSwgbmV3RGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gY2xpZW50cyBpcyBkZWZpbmVkIHdoZW4gdGhlIGFnZ3JlZ2F0ZSBtb2RlIGlzIFwiQ2hlY2tzXCJcbiAgICBpZiAoYW5BZ2dyZWdhdGUuY2xpZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdEYXRhID0gY29udmVydEV2ZW50RGF0YVRvQWdncmVnYXRlTW9kZUNoZWNrcyhhbkFnZ3JlZ2F0ZSwgbmV3RGF0YSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gc3VtbWFyeSBpcyBkZWZpbmVkIHdoZW4gdGhlIGFnZ3JlZ2F0ZSBtb2RlIGlzIFwiUmVzdWx0cyBPSy9XQVJOSU5HL0NSSVRJQ0FML1VOS05PV05cIlxuICAgIGlmIChhbkFnZ3JlZ2F0ZS5zdW1tYXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld0RhdGEgPSBjb252ZXJ0RXZlbnREYXRhVG9BZ2dyZWdhdGVNb2RlUmVzdWx0cyhhbkFnZ3JlZ2F0ZSwgbmV3RGF0YSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0aGlzIGlzIGEgc2ltcGxlIGFnZ3JlZ2F0ZSByZXNwb25zZSAobm8gbW9kZSlcbiAgICB2YXIgZGF0YXBvaW50cyA9IFtdO1xuICAgIC8vIHRpbWVzdGFtcCBpcyB0aGUgcXVlcnkgbm93IChqdXN0IHVzZSBub3cpXG4gICAgdmFyIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSk7XG4gICAgZGF0YXBvaW50c1swXSA9IFswLCB0aW1lc3RhbXBdO1xuICAgIGFuQWdncmVnYXRlLmRhdGFwb2ludHMgPSBkYXRhcG9pbnRzO1xuICAgIC8vIHNldCB0aGUgdGFyZ2V0IHRvIGJlIHRoZSBuYW1lIG9mIHRoZSBhZ2dyZWdhdGVcbiAgICBhbkFnZ3JlZ2F0ZS50YXJnZXQgPSBhbkFnZ3JlZ2F0ZS5uYW1lO1xuICB9XG4gIGlmIChuZXdEYXRhICE9PSBudWxsKSB7XG4gICAgLy8gb3ZlcndyaXRlIHRoZSBvbGQgZGF0YSBmaWVsZCB3aXRoIHRoZSBuZXcgZXhwYW5kZWQgc2V0XG4gICAgcmVzcG9uc2UuZGF0YSA9IG5ld0RhdGE7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0RXZlbnREYXRhVG9BZ2dyZWdhdGVNb2RlUmVzdWx0cyhhbkV2ZW50LCBkYXRhU2V0KSB7XG4gIHZhciB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICBpZiAoZGF0YVNldCA9PT0gbnVsbCkge1xuICAgIC8vIGluaXRpYWxpemUgZW1wdHkgYXJyYXlcbiAgICBkYXRhU2V0ID0gW107XG4gIH1cbiAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBjaGVja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbkV2ZW50LnN1bW1hcnkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYVN1bW1hcnkgPSBhbkV2ZW50LnN1bW1hcnlbaV07XG4gICAgdmFyIGNoZWNrRGF0YSA9IHtcbiAgICAgIHRhcmdldDogYW5FdmVudC5jaGVjayxcbiAgICAgIGNsaWVudHM6IGFTdW1tYXJ5LmNsaWVudHMsXG4gICAgICBkYXRhcG9pbnRzOiBbXG4gICAgICAgIFthU3VtbWFyeS50b3RhbCwgdGltZXN0YW1wXVxuICAgICAgXVxuICAgIH07XG4gICAgZGF0YVNldC5wdXNoKGNoZWNrRGF0YSk7XG4gIH1cbiAgcmV0dXJuIGRhdGFTZXQ7XG59XG4vLyBBbiBhZ2dyZWdhdGUgY2hlY2tzIHJlc3VsdCBoYXMgdGhlIGZvcm1hdFxuLy8ge1xuLy8gICAgY2xpZW50czogW1xuLy8gICAgICBjbGllbnROYW1lXG4vLyAgICBdLFxuLy8gICAgbmFtZTogY2hlY2tOYW1lXG4vLyB9XG5mdW5jdGlvbiBjb252ZXJ0RXZlbnREYXRhVG9BZ2dyZWdhdGVNb2RlQ2hlY2tzKGFuRXZlbnQsIGRhdGFTZXQpIHtcbiAgdmFyIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSk7XG4gIGlmIChkYXRhU2V0ID09PSBudWxsKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBlbXB0eSBhcnJheVxuICAgIGRhdGFTZXQgPSBbXTtcbiAgfVxuICAvLyBpdGVyYXRlIG92ZXIgdGhlIGNoZWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFuRXZlbnQuY2xpZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjbGllbnROYW1lID0gYW5FdmVudC5jbGllbnRzW2ldO1xuICAgIHZhciBjaGVja0RhdGEgPSB7XG4gICAgICB0YXJnZXQ6IGFuRXZlbnQubmFtZSxcbiAgICAgIGRhdGFwb2ludHM6IFtcbiAgICAgICAgW2NsaWVudE5hbWUsIHRpbWVzdGFtcF1cbiAgICAgIF1cbiAgICB9O1xuICAgIGRhdGFTZXQucHVzaChjaGVja0RhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhU2V0O1xufVxuXG4vLyBBbiBhZ2dyZWdhdGUgY2xpZW50cyByZXN1bHQgaGFzIHRoZSBmb3JtYXRcbi8vIHtcbi8vICAgIGNoZWNrczogW1xuLy8gICAgICBjaGVja05hbWVcbi8vICAgIF0sXG4vLyAgICBuYW1lOiBjbGllbnROYW1lXG4vLyB9XG5mdW5jdGlvbiBjb252ZXJ0RXZlbnREYXRhVG9BZ2dyZWdhdGVNb2RlQ2xpZW50KGFuRXZlbnQsIGRhdGFTZXQpIHtcbiAgdmFyIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSk7XG4gIGlmIChkYXRhU2V0ID09PSBudWxsKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBlbXB0eSBhcnJheVxuICAgIGRhdGFTZXQgPSBbXTtcbiAgfVxuICAvLyBpdGVyYXRlIG92ZXIgdGhlIGNoZWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFuRXZlbnQuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoZWNrTmFtZSA9IGFuRXZlbnQuY2hlY2tzW2ldO1xuICAgIHZhciBjbGllbnREYXRhID0ge1xuICAgICAgdGFyZ2V0OiBhbkV2ZW50Lm5hbWUsXG4gICAgICBkYXRhcG9pbnRzOiBbXG4gICAgICAgIFtjaGVja05hbWUsIHRpbWVzdGFtcF1cbiAgICAgIF1cbiAgICB9O1xuICAgIGRhdGFTZXQucHVzaChjbGllbnREYXRhKTtcbiAgfVxuICByZXR1cm4gZGF0YVNldDtcbn1cbi8vIEFuIGFnZ3JlZ2F0ZSBsaXN0IHJlc3VsdCBoYXMgdGhlIGZvcm1hdFxuLy8ge1xuLy8gICBjaGVja3M6IGludCxcbi8vICAgY2xpZW50czogaW50LFxuLy8gICByZXN1bHRzOiB7XG4vLyAgICBjcml0aWNhbDogaW50LFxuLy8gICAgb2s6IGludCxcbi8vICAgIHN0YWxlOiBpbnQsXG4vLyAgICB0b3RhbDogaW50LFxuLy8gICAgdW5rbm93bjogaW50LFxuLy8gICAgd2FybmluZzogaW50XG4vLyAgIH1cbi8vIH1cbmZ1bmN0aW9uIGNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVMaXN0KGFuRXZlbnQsIGRhdGFTZXQpIHtcbiAgaWYgKGRhdGFTZXQgPT09IG51bGwpIHtcbiAgICAvLyBpbml0aWFsaXplIGVtcHR5IGFycmF5XG4gICAgZGF0YVNldCA9IFtdO1xuICB9XG4gIHZhciB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICB2YXIgaXRlbSA9IHtcbiAgICB0YXJnZXQ6IFwiY2hlY2tzXCIsXG4gICAgZGF0YXBvaW50czogW1xuICAgICAgW2FuRXZlbnQuY2hlY2tzLCB0aW1lc3RhbXBdXG4gICAgXVxuICB9O1xuICBkYXRhU2V0LnB1c2goaXRlbSk7XG4gIGl0ZW0gPSB7XG4gICAgdGFyZ2V0OiBcImNsaWVudHNcIixcbiAgICBkYXRhcG9pbnRzOiBbXG4gICAgICBbYW5FdmVudC5jbGllbnRzLCB0aW1lc3RhbXBdXG4gICAgXVxuICB9O1xuICBkYXRhU2V0LnB1c2goaXRlbSk7XG4gIGl0ZW0gPSB7XG4gICAgdGFyZ2V0OiBcImNyaXRpY2FsXCIsXG4gICAgZGF0YXBvaW50czogW1xuICAgICAgW2FuRXZlbnQucmVzdWx0cy5jcml0aWNhbCwgdGltZXN0YW1wXVxuICAgIF1cbiAgfTtcbiAgZGF0YVNldC5wdXNoKGl0ZW0pO1xuICBpdGVtID0ge1xuICAgIHRhcmdldDogXCJva1wiLFxuICAgIGRhdGFwb2ludHM6IFtcbiAgICAgIFthbkV2ZW50LnJlc3VsdHMub2ssIHRpbWVzdGFtcF1cbiAgICBdXG4gIH07XG4gIGRhdGFTZXQucHVzaChpdGVtKTtcbiAgaXRlbSA9IHtcbiAgICB0YXJnZXQ6IFwic3RhbGVcIixcbiAgICBkYXRhcG9pbnRzOiBbXG4gICAgICBbYW5FdmVudC5yZXN1bHRzLnN0YWxlLCB0aW1lc3RhbXBdXG4gICAgXVxuICB9O1xuICBkYXRhU2V0LnB1c2goaXRlbSk7XG4gIGl0ZW0gPSB7XG4gICAgdGFyZ2V0OiBcInRvdGFsXCIsXG4gICAgZGF0YXBvaW50czogW1xuICAgICAgW2FuRXZlbnQucmVzdWx0cy50b3RhbCwgdGltZXN0YW1wXVxuICAgIF1cbiAgfTtcbiAgZGF0YVNldC5wdXNoKGl0ZW0pO1xuICBpdGVtID0ge1xuICAgIHRhcmdldDogXCJ1bmtub3duXCIsXG4gICAgZGF0YXBvaW50czogW1xuICAgICAgW2FuRXZlbnQucmVzdWx0cy51bmtub3duLCB0aW1lc3RhbXBdXG4gICAgXVxuICB9O1xuICBkYXRhU2V0LnB1c2goaXRlbSk7XG4gIGl0ZW0gPSB7XG4gICAgdGFyZ2V0OiBcIndhcm5pbmdcIixcbiAgICBkYXRhcG9pbnRzOiBbXG4gICAgICBbYW5FdmVudC5yZXN1bHRzLndhcm5pbmcsIHRpbWVzdGFtcF1cbiAgICBdXG4gIH07XG4gIGRhdGFTZXQucHVzaChpdGVtKTtcblxuICByZXR1cm4gZGF0YVNldDtcbn1cblxuZnVuY3Rpb24gY29udmVydFRvQWdncmVnYXRlTW9kZUNsaWVudEpTT04oZGF0YSwgZGF0YVNldCkge1xuICB2YXIgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTtcbiAgaWYgKGRhdGFTZXQgPT09IG51bGwpIHtcbiAgICAvLyBpbml0aWFsaXplIGVtcHR5IGFycmF5XG4gICAgZGF0YVNldCA9IFtdO1xuICB9XG4gIC8vIGl0ZXJhdGUgb3ZlciB0aGUgY2hlY2tzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hlY2tOYW1lID0gZGF0YS5jaGVja3NbaV07XG4gICAgdmFyIGNsaWVudERhdGEgPSB7XG4gICAgICB0YXJnZXQ6IGRhdGEubmFtZSxcbiAgICAgIGRhdGFwb2ludHM6IFtcbiAgICAgICAgW2NoZWNrTmFtZSwgdGltZXN0YW1wXVxuICAgICAgXVxuICAgIH07XG4gICAgZGF0YVNldC5wdXNoKGNsaWVudERhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhU2V0O1xufVxuXG4vKipcbiAqIFtjb252ZXJ0QWdncmVnYXRlc1RvSlNPTiBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7W3R5cGVdfSBhVGFyZ2V0ICBbZGVzY3JpcHRpb25dXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydEFnZ3JlZ2F0ZXNUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG4gIHZhciBhZ2dyZWdhdGVOYW1lID0gXCJBTExcIjtcbiAgaWYgKGFUYXJnZXQuZGltZW5zaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgYWdncmVnYXRlTmFtZSA9IGFUYXJnZXQuZGltZW5zaW9uc1swXS52YWx1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgdmFyIGRhdGFwb2ludHMgPSBbXTtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGNsaWVudDogaXRlbS5uYW1lLFxuICAgICAgY2hlY2tzOiBpdGVtLmNoZWNrcyxcbiAgICAgIGFnZ3JlZ2F0ZV9uYW1lOiBhZ2dyZWdhdGVOYW1lLFxuICAgIH07XG4gICAgZGF0YXBvaW50cy5wdXNoKGRhdGEpO1xuICAgIGl0ZW0uZGF0YXBvaW50cyA9IGRhdGFwb2ludHM7XG4gICAgaXRlbS50eXBlID0gXCJkb2NzXCI7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5leHBvcnQge1xuICBjb252ZXJ0QWdncmVnYXRlc1RvRGF0YVBvaW50cyxcbiAgY29udmVydEV2ZW50RGF0YVRvQWdncmVnYXRlTW9kZVJlc3VsdHMsXG4gIGNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVDaGVja3MsXG4gIGNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVDbGllbnQsXG4gIGNvbnZlcnRFdmVudERhdGFUb0FnZ3JlZ2F0ZU1vZGVMaXN0LFxuICBjb252ZXJ0VG9BZ2dyZWdhdGVNb2RlQ2xpZW50SlNPTixcbiAgY29udmVydEFnZ3JlZ2F0ZXNUb0pTT05cbn07XG4iLCJcbmZ1bmN0aW9uIGdldENsaWVudHNXaXRoRmlsdGVyKGFUYXJnZXQsIHJlc3BvbnNlKSB7XG4gIHZhciBhcnJDbGllbnROYW1lcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFUYXJnZXQuZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhRmlsdGVyID0gYVRhcmdldC5maWx0ZXJzW2ldO1xuICAgIHN3aXRjaCAoYUZpbHRlci5maWx0ZXJUeXBlKSB7XG4gICAgICBjYXNlIFwiZmllbGRcIjpcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbal0uaGFzT3duUHJvcGVydHkoYUZpbHRlci5maWx0ZXJGaWVsZE5hbWUpKSB7XG4gICAgICAgICAgICBsZXQgZmllbGRWYWwgPSByZXNwb25zZS5kYXRhW2pdW2FGaWx0ZXIuZmlsdGVyRmllbGROYW1lXTtcbiAgICAgICAgICAgIGlmIChmaWVsZFZhbCA9PT0gYUZpbHRlci5maWx0ZXJGaWVsZFZhbHVlUmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgLy8gbWF0Y2hlZCBmaWVsZFxuICAgICAgICAgICAgICBpZiAoYXJyQ2xpZW50TmFtZXMuaW5kZXhPZihyZXNwb25zZS5kYXRhW2pdLm5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGFyckNsaWVudE5hbWVzLnB1c2gocmVzcG9uc2UuZGF0YVtqXS5uYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmZXRjaFwiOlxuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgYWxsIG9mIHRoZSBkYXRhXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmIChhRmlsdGVyLnZhbHVlID09PSByZXNwb25zZS5kYXRhW2pdLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIGFkZCB0byBsaXN0IG9mIHRyYWNrZWQgbmFtZXNcbiAgICAgICAgICAgIGlmIChhcnJDbGllbnROYW1lcy5pbmRleE9mKHJlc3BvbnNlLmRhdGFbal0ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgIGFyckNsaWVudE5hbWVzLnB1c2gocmVzcG9uc2UuZGF0YVtqXS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmVnZXhcIjpcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSByZWdleCBpcyB2YWxpZFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBmbGFncyA9IGFGaWx0ZXIuZmlsdGVyUmVnZXhGbGFncztcbiAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKGFGaWx0ZXIuZmlsdGVyUmVnZXgsIGZsYWdzKTtcbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgYWxsIG9mIHRoZSBkYXRhXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAocmUudGVzdChyZXNwb25zZS5kYXRhW2pdLm5hbWUpKSB7XG4gICAgICAgICAgICAgIC8vIGFkZCB0byBsaXN0IG9mIHRyYWNrZWQgbmFtZXNcbiAgICAgICAgICAgICAgaWYgKGFyckNsaWVudE5hbWVzLmluZGV4T2YocmVzcG9uc2UuZGF0YVtqXS5uYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhcnJDbGllbnROYW1lcy5wdXNoKHJlc3BvbnNlLmRhdGFbal0ubmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGFGaWx0ZXIuZmlsdGVyTWVzc2FnZSA9IFwiSW52YWxpZCBSZWd1bGFyIEV4cHJlc3Npb25cIjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyckNsaWVudE5hbWVzO1xufVxuXG5leHBvcnQge1xuICBnZXRDbGllbnRzV2l0aEZpbHRlclxufTtcbiIsIi8qKlxuICpcbiAqL1xuXG4vKipcbiAqIE5vIGZpZWxkcyBtZWFucyBpdCBpcyBhIG1hdGNoXG4gKiBAcGFyYW0gIHtbdHlwZV19ICB0YXJnZXQgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gaW5jbHVkZUV2ZW50VGFyZ2V0KHRhcmdldCwgYW5FdmVudCkge1xuICBpZiAodGFyZ2V0LmZpbHRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0YXJnZXQuZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldC5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFGaWx0ZXIgPSB0YXJnZXQuZmlsdGVyc1tpXTtcbiAgICBzd2l0Y2ggKGFGaWx0ZXIuZmlsdGVyVHlwZSkge1xuICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgIC8vIGZpbHRlckZpZWxkTmFtZVxuICAgICAgICAvLyBmaWx0ZXJGaWVsZFZhbHVlXG4gICAgICAgIGlmIChhbkV2ZW50LmNsaWVudC5oYXNPd25Qcm9wZXJ0eShhRmlsdGVyLmZpbHRlckZpZWxkTmFtZSkpIHtcbiAgICAgICAgICAvLyBtYXRjaGVkIGZpZWxkLCBjaGVjayB2YWx1ZVxuICAgICAgICAgIHZhciBhVmFsID0gYW5FdmVudC5jbGllbnRbYUZpbHRlci5maWx0ZXJGaWVsZE5hbWVdO1xuICAgICAgICAgIGlmIChhVmFsID09PSBhRmlsdGVyLmZpbHRlckZpZWxkVmFsdWVSZXBsYWNlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7XG4gIGluY2x1ZGVFdmVudFRhcmdldFxufTtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdHlwZXMvZ3JhZmFuYS9hcHAvY29yZS91dGlscy9rYm4uZC50c1wiIC8+XG5cbmltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcblxuaW1wb3J0IHsgaW50ZXJ2YWxfdG9fbXMsIHNlY29uZHNUb0htcyB9IGZyb20gXCJncmFmYW5hL2FwcC9jb3JlL3V0aWxzL2tiblwiO1xuXG5pbXBvcnQgeyBnZXRBZ2dyZWdhdGVVUklzIH0gZnJvbSAnLi9hcGkvYWdncmVnYXRlX3JlcXVlc3RzJztcbmltcG9ydCB7IGNvbnZlcnRBZ2dyZWdhdGVzVG9EYXRhUG9pbnRzLCBjb252ZXJ0QWdncmVnYXRlc1RvSlNPTiB9IGZyb20gJy4vYXBpL2FnZ3JlZ2F0ZV9jb252ZXJ0ZXJzJztcbmltcG9ydCB7IGdldENsaWVudHNVUklzLCBnZXRDbGllbnRIZWFsdGhVUklzLCBnZXRDbGllbnRIaXN0b3J5VVJJcyB9IGZyb20gJy4vYXBpL2NsaWVudF9yZXF1ZXN0cyc7XG5pbXBvcnQgeyBjb252ZXJ0Q2xpZW50c1RvRGF0YVBvaW50cywgY29udmVydENsaWVudHNUb0pTT04sIGNvbnZlcnRDbGllbnRIZWFsdGhUb0pTT04sIGNvbnZlcnRDbGllbnRIaXN0b3J5VG9EYXRhUG9pbnRzIH0gZnJvbSAnLi9hcGkvY2xpZW50X2NvbnZlcnRlcnMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRzVVJJcyB9IGZyb20gJy4vYXBpL2V2ZW50X3JlcXVlc3RzJztcbmltcG9ydCB7IGNvbnZlcnRFdmVudHNUb0RhdGFQb2ludHMsIGNvbnZlcnRFdmVudHNUb0pTT04sIGNvbnZlcnRFdmVudHNUb0V2ZW50TWV0cmljcywgY29udmVydEV2ZW50c1RvRXZlbnRNZXRyaWNzSlNPTiB9IGZyb20gJy4vYXBpL2V2ZW50X2NvbnZlcnRlcnMnO1xuaW1wb3J0IHsgZ2V0UmVzdWx0VVJJcyB9IGZyb20gJy4vYXBpL3Jlc3VsdF9yZXF1ZXN0cyc7XG5pbXBvcnQgeyBjb252ZXJ0UmVzdWx0c1RvSlNPTiwgY29udmVydFJlc3VsdHNUb1RhYmxlIH0gZnJvbSAnLi9hcGkvcmVzdWx0X2NvbnZlcnRlcnMnO1xuXG5leHBvcnQgY2xhc3MgU2Vuc3VDb3JlRGF0YXNvdXJjZSB7XG4gIHVybDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGJhc2ljQXV0aDogc3RyaW5nO1xuICB3aXRoQ3JlZGVudGlhbHM6IGFueTtcbiAgcTogYW55O1xuICBiYWNrZW5kU3J2OiBhbnk7XG4gIHRlbXBsYXRlU3J2OiBhbnk7XG4gIHVpU2VnbWVudFNydjogYW55O1xuICBtaW5pbXVtSW50ZXJ2YWw6IGFueTtcblxuICAvKiogQG5nSW5qZWN0ICovXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlU2V0dGluZ3M6IGFueSwgJHE6IGFueSwgYmFja2VuZFNydjogYW55LCB0ZW1wbGF0ZVNydjogYW55LCB1aVNlZ21lbnRTcnY6IGFueSkge1xuICAgIHRoaXMudXJsID0gaW5zdGFuY2VTZXR0aW5ncy51cmw7XG4gICAgdGhpcy5uYW1lID0gaW5zdGFuY2VTZXR0aW5ncy5uYW1lO1xuICAgIHRoaXMuYmFzaWNBdXRoID0gaW5zdGFuY2VTZXR0aW5ncy5iYXNpY0F1dGg7XG4gICAgdGhpcy53aXRoQ3JlZGVudGlhbHMgPSBpbnN0YW5jZVNldHRpbmdzLndpdGhDcmVkZW50aWFscztcbiAgICB0aGlzLnEgPSAkcTtcbiAgICB0aGlzLmJhY2tlbmRTcnYgPSBiYWNrZW5kU3J2O1xuICAgIHRoaXMudGVtcGxhdGVTcnYgPSB0ZW1wbGF0ZVNydjtcbiAgICB0aGlzLnVpU2VnbWVudFNydiA9IHVpU2VnbWVudFNydjtcbiAgICB0aGlzLm1pbmltdW1JbnRlcnZhbCA9IDYwMDAwOyAvLyBtaWxsaXNlY29uZHNcbiAgfVxuXG4gIC8vIFJlcXVpcmVkIGZvciB0ZW1wbGF0aW5nXG4gIC8vIGdldHMgdGhlIGNsaWVudHMgZnJvbSBTZW5zdSBBUElcbiAgLy8gaHR0cHM6Ly9zZW5zdWFwcC5vcmcvZG9jcy8wLjI2L2FwaS9jbGllbnRzLWFwaS5odG1sXG5cbiAgbWV0cmljRmluZFF1ZXJ5KG9wdGlvbnM6IGFueSkge1xuICAgIC8vY29uc29sZS5sb2coXCJtZXRyaWNGaW5kUXVlcnkgZW50ZXJlZDogXCIgKyBvcHRpb25zKTtcbiAgICB2YXIgaXNDbGllbnRUYWdzID0gZmFsc2U7XG4gICAgdmFyIGlzQ2xpZW50VGFnVmFsdWUgPSBmYWxzZTtcbiAgICB2YXIgYVF1ZXJ5ID0gXCIvY2xpZW50c1wiO1xuICAgIHZhciB0YWdUb1ZhbHVlID0gXCJcIjtcbiAgICAvLyBzdWJzdGl0dXRlIHRlbXBsYXRlIHZhcnNcbiAgICBvcHRpb25zID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlV2l0aFRleHQob3B0aW9ucyk7XG4gICAgaWYgKChvcHRpb25zICE9PSB1bmRlZmluZWQpICYmIChvcHRpb25zICE9PSBcIlwiKSkge1xuICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgIGNhc2UgL2NsaWVudHRhZ3MvLnRlc3Qob3B0aW9ucyk6XG4gICAgICAgICAgYVF1ZXJ5ID0gXCIvY2xpZW50c1wiO1xuICAgICAgICAgIGlzQ2xpZW50VGFncyA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgL2NsaWVudHRhZ3ZhbHVlLy50ZXN0KG9wdGlvbnMpOlxuICAgICAgICAgIGFRdWVyeSA9IFwiL2NsaWVudHNcIjtcbiAgICAgICAgICBpc0NsaWVudFRhZ1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAvLyBzcGxpdCBvdXQgdGhlIHRhZyBmcm9tIHRoZSBxdWVyeVxuICAgICAgICAgIHRhZ1RvVmFsdWUgPSBvcHRpb25zLnNwbGl0KFwidGFnPVwiKVsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBhUXVlcnkgPSBvcHRpb25zO1xuICAgICAgfVxuICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGlzIGEgbGVhZGluZyBzbGFzaFxuICAgICAgaWYgKCFhUXVlcnkuc3RhcnRzV2l0aChcIi9cIiwgMCkpIHtcbiAgICAgICAgYVF1ZXJ5ID0gXCIvXCIgKyBhUXVlcnk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0aGlzUmVmID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5iYWNrZW5kU3J2LmRhdGFzb3VyY2VSZXF1ZXN0KHtcbiAgICAgIHVybDogdGhpcy51cmwgKyBhUXVlcnksXG4gICAgICBkYXRhOiBvcHRpb25zLFxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHRoaXMuYmFzaWNBdXRoXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZTogYW55KSB7XG4gICAgICAvL3RoaXNSZWYuY2xpZW50UXVlcnlUYWdzID0gX3RoaXMuZ2VuZXJhdGVDbGllbnRRdWVyeVRhZ3MocmVzcG9uc2UpO1xuICAgICAgaWYgKGlzQ2xpZW50VGFncykge1xuICAgICAgICByZXR1cm4gdGhpc1JlZi5nZW5lcmF0ZUNsaWVudFF1ZXJ5VGFncyhyZXNwb25zZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNDbGllbnRUYWdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpc1JlZi5nZXRDbGllbnRRdWVyeVRhZ1ZhbHVlKHJlc3BvbnNlLCB0YWdUb1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzUmVmLm1hcFRvQ2xpZW50TmFtZUFuZFZlcnNpb24ocmVzcG9uc2UpO1xuICAgIH0pO1xuICB9XG5cblxuICBnZW5lcmF0ZUNsaWVudFF1ZXJ5VGFncyhyZXNwb25zZTogYW55KSB7XG4gICAgdmFyIGNsaWVudFF1ZXJ5VGFncyA9IFtdO1xuICAgIHZhciBhbGxUYWdzID0gW107XG4gICAgdmFyIGV4Y2x1ZGVkVGFncyA9IFtcbiAgICAgIFwibmFtZVwiLFxuICAgICAgXCJzb2NrZXRcIixcbiAgICAgIFwiYWRkcmVzc1wiLFxuICAgICAgXCJzdWJzY3JpcHRpb25zXCIsXG4gICAgICBcInRpbWVzdGFtcFwiLFxuICAgICAgXCJrZWVwYWxpdmVcIixcbiAgICAgIFwia2VlcGFsaXZlc1wiLFxuICAgICAgXCJyZWRhY3RcIixcbiAgICAgIFwidmVyc2lvblwiXG4gICAgXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YVtpXSk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGtleU5hbWUgPSBrZXlzW2pdO1xuICAgICAgICBpZiAoZXhjbHVkZWRUYWdzLmluZGV4T2Yoa2V5TmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgbGV0IHRhZ1ZhbHVlID0gcmVzcG9uc2UuZGF0YVtpXVtrZXlOYW1lXTtcbiAgICAgICAgICBsZXQgZnVsbEtleU5hbWUgPSBrZXlOYW1lICsgXCI9XCIgKyB0YWdWYWx1ZTtcbiAgICAgICAgICBpZiAoYWxsVGFncy5pbmRleE9mKGZ1bGxLZXlOYW1lKSA8IDApIHtcbiAgICAgICAgICAgIGFsbFRhZ3MucHVzaChmdWxsS2V5TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhbGxUYWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIGJ1aWxkIHRoZSB0YWdzXG4gICAgICBhbGxUYWdzLnNvcnQoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsVGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjbGllbnRRdWVyeVRhZ3MucHVzaChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBhbGxUYWdzW2ldLFxuICAgICAgICAgICAgZXhwYW5kYWJsZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudFF1ZXJ5VGFncztcbiAgfVxuXG4gIGdldENsaWVudFF1ZXJ5VGFnVmFsdWUocmVzcG9uc2U6IGFueSwgdGFnOiBzdHJpbmcpIHtcbiAgICB2YXIgdGFnU3BsaXQgPSB0YWcuc3BsaXQoXCI9XCIpO1xuICAgIHZhciB0YWdUb01hdGNoID0gdGFnU3BsaXRbMF07XG4gICAgdmFyIHRhZ1ZhbHVlVG9NYXRjaCA9IHRhZ1NwbGl0WzFdO1xuICAgIHZhciBjbGllbnRRdWVyeVRhZ3MgPSBbXTtcbiAgICB2YXIgYWxsVGFnVmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlLmRhdGFbaV0pO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBrZXlOYW1lID0ga2V5c1tqXTtcbiAgICAgICAgaWYgKHRhZ1RvTWF0Y2ggPT09IGtleU5hbWUpIHtcblxuICAgICAgICAgIC8vIHRoaXMgY2FuIGJlIGEgdmFsdWUgb3IgYW4gYXJyYXkgaW5zaWRlLCBjaGVjayBib3RoXG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5kYXRhW2ldW3RhZ1RvTWF0Y2hdICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IHJlc3BvbnNlLmRhdGFbaV1bdGFnVG9NYXRjaF0ubGVuZ3RoOyB6KyspIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV1bdGFnVG9NYXRjaF1bel0gPT09IHRhZ1ZhbHVlVG9NYXRjaCkge1xuICAgICAgICAgICAgICAgIC8vbGV0IHRhZ1ZhbHVlID0gcmVzcG9uc2UuZGF0YVtpXVtrZXlOYW1lXTtcbiAgICAgICAgICAgICAgICBsZXQgdGFnVmFsdWUgPSByZXNwb25zZS5kYXRhW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsbFRhZ1ZhbHVlcy5pbmRleE9mKHRhZ1ZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgIGFsbFRhZ1ZhbHVlcy5wdXNoKHRhZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV1bdGFnVG9NYXRjaF0gPT09IHRhZ1ZhbHVlVG9NYXRjaCkge1xuICAgICAgICAgICAgICAvL2xldCB0YWdWYWx1ZSA9IHJlc3BvbnNlLmRhdGFbaV1ba2V5TmFtZV07XG4gICAgICAgICAgICAgIGxldCB0YWdWYWx1ZSA9IHJlc3BvbnNlLmRhdGFbaV0ubmFtZTtcbiAgICAgICAgICAgICAgaWYgKGFsbFRhZ1ZhbHVlcy5pbmRleE9mKHRhZ1ZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICBhbGxUYWdWYWx1ZXMucHVzaCh0YWdWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFsbFRhZ1ZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBidWlsZCB0aGUgdGFnc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxUYWdWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2xpZW50UXVlcnlUYWdzLnB1c2goXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogYWxsVGFnVmFsdWVzW2ldXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xpZW50UXVlcnlUYWdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFttYXBUb0NsaWVudE5hbWVBbmRWZXJzaW9uIGRlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IHJlc3VsdCBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIG1hcFRvQ2xpZW50TmFtZUFuZFZlcnNpb24ocmVzdWx0OiBhbnkpIHtcbiAgICBpZiAocmVzdWx0LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBfLm1hcChyZXN1bHQuZGF0YSwgZnVuY3Rpb24oZCkge1xuICAgICAgdmFyIHggPSB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGV4cGFuZGFibGU6IHRydWVcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICB4ID0ge1xuICAgICAgICAgIHRleHQ6IGQubmFtZSxcbiAgICAgICAgICBleHBhbmRhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUubG9nKFwiYmFkIGRhdGFcIik7IH1cbiAgICAgIHJldHVybiB4O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFtnZXRDbGllbnROYW1lcyBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSBkaW1lbnNpb25zIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGdldENsaWVudE5hbWVzKGRpbWVuc2lvbnM6IGFueSkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChkaW1lbnNpb25zW2ldLmRpbWVuc2lvblR5cGUgPT09IFwiY2xpZW50TmFtZVwiKSB7XG4gICAgICAgIHZhciBhRGltZW5zaW9uID0gZGltZW5zaW9uc1tpXS52YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudGVtcGxhdGVTcnYuZ2V0VmFyaWFibGVOYW1lKGFEaW1lbnNpb24pKSB7XG4gICAgICAgICAgLy8gdGVtcGxhdGUgdmFyaWFibGUgZm91bmQsIGV4cGFuZCBpdFxuICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhciA9IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShhRGltZW5zaW9uKTtcbiAgICAgICAgICBpZiAodGVtcGxhdGVWYXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdGhlIGV4cGFuZGVkIHZhcmlhYmxlIGNvbWVzIGJhY2sgYXMgeyB2YWx1ZTEgLCB2YWx1ZTIgfVxuICAgICAgICAgICAgLy8gb3IgaXQgY29tZXMgYmFjayBhcyBqdXN0IGEgdmFsdWVcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVZhci5zdGFydHNXaXRoKFwie1wiKSkge1xuICAgICAgICAgICAgICB0ZW1wbGF0ZVZhciA9IHRlbXBsYXRlVmFyLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlVmFycyA9IHRlbXBsYXRlVmFyLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2guYXBwbHkodmFsdWVzLCB0ZW1wbGF0ZVZhcnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2godGVtcGxhdGVWYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChhRGltZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKHZhbHVlcyk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBbZ2V0Q2hlY2tOYW1lcyBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W2FueV19IGRpbWVuc2lvbnMgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZ2V0Q2hlY2tOYW1lcyhkaW1lbnNpb25zOiBhbnkpIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZGltZW5zaW9uc1tpXS5kaW1lbnNpb25UeXBlID09PSBcImNoZWNrTmFtZVwiKSB7XG4gICAgICAgIHZhciBhRGltZW5zaW9uID0gZGltZW5zaW9uc1tpXS52YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudGVtcGxhdGVTcnYuZ2V0VmFyaWFibGVOYW1lKGFEaW1lbnNpb24pKSB7XG4gICAgICAgICAgLy8gdGVtcGxhdGUgdmFyaWFibGUgZm91bmQsIGV4cGFuZCBpdFxuICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhciA9IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShhRGltZW5zaW9uKTtcbiAgICAgICAgICBpZiAodGVtcGxhdGVWYXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdGhlIGV4cGFuZGVkIHZhcmlhYmxlIGNvbWVzIGJhY2sgYXMgeyB2YWx1ZTEgLCB2YWx1ZTIgfVxuICAgICAgICAgICAgLy8gb3IgaXQgY29tZXMgYmFjayBhcyBqdXN0IGEgdmFsdWVcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVZhci5zdGFydHNXaXRoKFwie1wiKSkge1xuICAgICAgICAgICAgICB0ZW1wbGF0ZVZhciA9IHRlbXBsYXRlVmFyLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlVmFycyA9IHRlbXBsYXRlVmFyLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2guYXBwbHkodmFsdWVzLCB0ZW1wbGF0ZVZhcnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2godGVtcGxhdGVWYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChhRGltZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFtnZXRBZ2dyZWdhdGVOYW1lcyBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSBkaW1lbnNpb25zIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGdldEFnZ3JlZ2F0ZU5hbWVzKGRpbWVuc2lvbnMpIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZGltZW5zaW9uc1tpXS5kaW1lbnNpb25UeXBlID09PSBcImFnZ3JlZ2F0ZU5hbWVcIikge1xuICAgICAgICB2YXIgYURpbWVuc2lvbiA9IGRpbWVuc2lvbnNbaV0udmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnRlbXBsYXRlU3J2LmdldFZhcmlhYmxlTmFtZShhRGltZW5zaW9uKSkge1xuICAgICAgICAgIC8vIHRlbXBsYXRlIHZhcmlhYmxlIGZvdW5kLCBleHBhbmQgaXRcbiAgICAgICAgICB2YXIgdGVtcGxhdGVWYXIgPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UoYURpbWVuc2lvbik7XG4gICAgICAgICAgaWYgKHRlbXBsYXRlVmFyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBleHBhbmRlZCB2YXJpYWJsZSBjb21lcyBiYWNrIGFzIHsgdmFsdWUxICwgdmFsdWUyIH1cbiAgICAgICAgICAgIC8vIG9yIGl0IGNvbWVzIGJhY2sgYXMganVzdCBhIHZhbHVlXG4gICAgICAgICAgICBpZiAodGVtcGxhdGVWYXIuc3RhcnRzV2l0aChcIntcIikpIHtcbiAgICAgICAgICAgICAgdGVtcGxhdGVWYXIgPSB0ZW1wbGF0ZVZhci5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVZhcnMgPSB0ZW1wbGF0ZVZhci5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoLmFwcGx5KHZhbHVlcywgdGVtcGxhdGVWYXJzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHRlbXBsYXRlVmFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goYURpbWVuc2lvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHJlcGxhY2VGaWx0ZXJWYWx1ZXMoZmlsdGVycykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGFGaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgc3dpdGNoIChhRmlsdGVyLmZpbHRlclR5cGUpIHtcbiAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgLy8gRmllbGQgZmlsdGVycyBoYXZlIHRoZXNlIHByb3BlcnRpZXNcbiAgICAgICAgICAvLyBmaWx0ZXJGaWVsZE5hbWVcbiAgICAgICAgICAvLyBmaWx0ZXJGaWVsZFZhbHVlXG4gICAgICAgICAgLy92YXIgYUZpZWxkTmFtZSA9IGFGaWx0ZXIuZmlsdGVyRmllbGROYW1lO1xuICAgICAgICAgIHZhciBhRmllbGRWYWx1ZSA9IGFGaWx0ZXIuZmlsdGVyRmllbGRWYWx1ZTtcbiAgICAgICAgICB2YXIgdGVtcGxhdGVkVmFsdWUgPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UoYUZpZWxkVmFsdWUpO1xuICAgICAgICAgIGFGaWx0ZXIuZmlsdGVyRmllbGRWYWx1ZVJlcGxhY2VkID0gdGVtcGxhdGVkVmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIFtnZXRRdWVyeVVSSUJ5VHlwZSBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSB0YXJnZXQgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbQXJyYXkgb2YgVVJJc11cbiAgICovXG4gIGdldFF1ZXJ5VVJJQnlUeXBlKHRhcmdldCkge1xuICAgIHZhciB1cmlzID0gW107XG4gICAgdmFyIGRpbWVuc2lvblVSSSA9IFwiL2V2ZW50c1wiO1xuICAgIHZhciBjbGllbnROYW1lcyA9IG51bGw7XG4gICAgdmFyIGNoZWNrTmFtZXMgPSBudWxsO1xuICAgIHZhciBhZ2dyZWdhdGVOYW1lcyA9IG51bGw7XG4gICAgaWYgKHRhcmdldC5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsaWVudE5hbWVzID0gdGhpcy5nZXRDbGllbnROYW1lcyh0YXJnZXQuZGltZW5zaW9ucyk7XG4gICAgICBjaGVja05hbWVzID0gdGhpcy5nZXRDaGVja05hbWVzKHRhcmdldC5kaW1lbnNpb25zKTtcbiAgICAgIGFnZ3JlZ2F0ZU5hbWVzID0gdGhpcy5nZXRBZ2dyZWdhdGVOYW1lcyh0YXJnZXQuZGltZW5zaW9ucyk7XG4gICAgfVxuICAgIGlmICh0YXJnZXQuZmlsdGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBjb252ZXJ0IGFsbCB0ZW1wbGF0ZWQgdmFsdWVzXG4gICAgICB0aGlzLnJlcGxhY2VGaWx0ZXJWYWx1ZXModGFyZ2V0LmZpbHRlcnMpO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0LmFsaWFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5hbGlhc1JlcGxhY2VkID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHRhcmdldC5hbGlhcyk7XG4gICAgfVxuICAgIHN3aXRjaCAodGFyZ2V0LnNvdXJjZVR5cGUpIHtcbiAgICAgIGNhc2UgXCJhZ2dyZWdhdGVzXCI6XG4gICAgICBjYXNlIFwiYWdncmVnYXRlc19qc29uXCI6XG4gICAgICAgIC8vIGh0dHBzOi8vc2Vuc3VhcHAub3JnL2RvY3MvMC4yOC9hcGkvYWdncmVnYXRlcy1hcGkuaHRtbFxuICAgICAgICB1cmlzID0gZ2V0QWdncmVnYXRlVVJJcyh0YXJnZXQsIGFnZ3JlZ2F0ZU5hbWVzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2hlY2tfc3Vic2NyaXB0aW9uc1wiOlxuICAgICAgICAvLyBodHRwczovL3NlbnN1YXBwLm9yZy9kb2NzLzAuMjgvYXBpL2NoZWNrcy1hcGkuaHRtbFxuICAgICAgICAvL1xuICAgICAgICAvLyBSZXR1cm5zIGxpc3Qgb2Ygc3Vic2NyaXB0aW9uIG5hbWVzLCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGNoZWNrcyBmb3IgdGhlIHN1YnNjcmlwdGlvblxuICAgICAgICAvLyBEaW1lbnNpb25zIGFyZTpcbiAgICAgICAgLy8gICAgbmFtZSAtIG5hbWUgb2YgY2hlY2tcbiAgICAgICAgLy8gICAgYWdncmVnYXRlIC0gbmFtZSBvZiBhZ2dyZWdhdGVcbiAgICAgICAgLy8gICAgdHlwZSAobWV0cmljfGNoZWNrKVxuICAgICAgICAvLyAgICBzb3VyY2UgLSBKSVQgY2xpZW50XG4gICAgICAgIC8vXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNsaWVudF9oZWFsdGhfanNvblwiOlxuICAgICAgICB1cmlzID0gZ2V0Q2xpZW50SGVhbHRoVVJJcyhjbGllbnROYW1lcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNsaWVudHNcIjpcbiAgICAgIGNhc2UgXCJjbGllbnRzX2pzb25cIjpcbiAgICAgICAgLy8gaHR0cHM6Ly9zZW5zdWFwcC5vcmcvZG9jcy8wLjI4L2FwaS9jbGllbnRzLWFwaS5odG1sXG4gICAgICAgIHVyaXMgPSBnZXRDbGllbnRzVVJJcyhjaGVja05hbWVzLCBjbGllbnROYW1lcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNsaWVudGhpc3RvcnlcIjpcbiAgICAgICAgLy8gaHR0cHM6Ly9zZW5zdWFwcC5vcmcvZG9jcy8wLjI4L2FwaS9jbGllbnRzLWFwaS5odG1sXG4gICAgICAgIC8vIGxvb2sgZm9yIGNsaWVudE5hbWUgaW4gZGltZW5zaW9uc1xuICAgICAgICB1cmlzID0gZ2V0Q2xpZW50SGlzdG9yeVVSSXMoY2xpZW50TmFtZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVudF9tZXRyaWNzXCI6XG4gICAgICBjYXNlIFwiZXZlbnRfbWV0cmljc19qc29uXCI6XG4gICAgICBjYXNlIFwiZXZlbnRzXCI6XG4gICAgICBjYXNlIFwiZXZlbnRzX2pzb25cIjpcbiAgICAgICAgLy8gaHR0cHM6Ly9zZW5zdWFwcC5vcmcvZG9jcy8wLjI4L2FwaS9ldmVudHMtYXBpLmh0bWxcbiAgICAgICAgdXJpcyA9IGdldEV2ZW50c1VSSXMoY2hlY2tOYW1lcywgY2xpZW50TmFtZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXN1bHRzX2pzb25cIjpcbiAgICAgIGNhc2UgXCJyZXN1bHRzX3RhYmxlXCI6XG4gICAgICAgIC8vIGh0dHBzOi8vc2Vuc3VhcHAub3JnL2RvY3MvMC4yOC9hcGkvcmVzdWx0cy1hcGkuaHRtbFxuICAgICAgICB1cmlzID0gZ2V0UmVzdWx0VVJJcyhjaGVja05hbWVzLCBjbGllbnROYW1lcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNlbnN1X2hlYWx0aF9qc29uXCI6XG4gICAgICAgIC8vIGh0dHBzOi8vc2Vuc3VhcHAub3JnL2RvY3MvMC4yOC9hcGkvaGVhbHRoLWFuZC1pbmZvLWFwaS5odG1sXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNpbGVuY2VkX2VudHJpZXNfanNvblwiOlxuICAgICAgICAvLyBodHRwczovL3NlbnN1YXBwLm9yZy9kb2NzLzAuMjgvYXBpL3NpbGVuY2VkLWFwaS5odG1sXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0YXNoZXNfanNvblwiOlxuICAgICAgICAvLyBodHRwczovL3NlbnN1YXBwLm9yZy9kb2NzLzAuMjgvYXBpL3N0YXNoZXMtYXBpLmh0bWxcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB1cmlzO1xuICB9XG5cbiAgZ2V0QnVja2V0cyhyZXNwb25zZXMpIHtcbiAgICB2YXIgYnVja2V0cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2VzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZWZJZCA9IHJlc3BvbnNlcy5kYXRhW2ldLnRhcmdldC5yZWZJZDtcbiAgICAgIGlmIChidWNrZXRzLmhhc093blByb3BlcnR5KHJlZklkKSkge1xuICAgICAgICBidWNrZXRzW3JlZklkXS5wdXNoKHJlc3BvbnNlcy5kYXRhW2ldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1Y2tldHNbcmVmSWRdID0gW3Jlc3BvbnNlcy5kYXRhW2ldXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1Y2tldHM7XG4gIH1cblxuICBwcm9jZXNzQ29udmVyc2lvbnMoc291cmNlVHlwZSwgYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHsgZGF0YTogW10gfTtcbiAgICBzd2l0Y2ggKHNvdXJjZVR5cGUpIHtcbiAgICAgIGNhc2UgXCJhZ2dyZWdhdGVzXCI6XG4gICAgICAgIHJlc3VsdCA9IGNvbnZlcnRBZ2dyZWdhdGVzVG9EYXRhUG9pbnRzKGFUYXJnZXQsIHJlc3BvbnNlcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFnZ3JlZ2F0ZXNfanNvblwiOlxuICAgICAgICByZXN1bHQgPSBjb252ZXJ0QWdncmVnYXRlc1RvSlNPTihhVGFyZ2V0LCByZXNwb25zZXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgY2FzZSBcImNsaWVudHNcIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydENsaWVudHNUb0RhdGFQb2ludHMoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGNhc2UgXCJjbGllbnRzX2pzb25cIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydENsaWVudHNUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGNhc2UgXCJjbGllbnRfaGVhbHRoX2pzb25cIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydENsaWVudEhlYWx0aFRvSlNPTihhVGFyZ2V0LCByZXNwb25zZXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgY2FzZSBcImNsaWVudGhpc3RvcnlcIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydENsaWVudEhpc3RvcnlUb0RhdGFQb2ludHMoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXZlbnRzXCI6XG4gICAgICAgIHJlc3VsdCA9IGNvbnZlcnRFdmVudHNUb0RhdGFQb2ludHMoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXZlbnRzX2pzb25cIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydEV2ZW50c1RvSlNPTihhVGFyZ2V0LCByZXNwb25zZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVudF9tZXRyaWNzXCI6XG4gICAgICAgIHJlc3VsdCA9IGNvbnZlcnRFdmVudHNUb0V2ZW50TWV0cmljcyhhVGFyZ2V0LCByZXNwb25zZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVudF9tZXRyaWNzX2pzb25cIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydEV2ZW50c1RvRXZlbnRNZXRyaWNzSlNPTihhVGFyZ2V0LCByZXNwb25zZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXN1bHRzX2pzb25cIjpcbiAgICAgICAgcmVzdWx0ID0gY29udmVydFJlc3VsdHNUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmVzdWx0c190YWJsZVwiOlxuICAgICAgICByZXN1bHQgPSBjb252ZXJ0UmVzdWx0c1RvVGFibGUoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gc291cmNlIHR5cGVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc2V0UmF3VGFyZ2V0cyhhVGFyZ2V0LCByZXN1bHQpIHtcbiAgICAvLyBrZWVwIHRoZSBhY3R1YWwgbmFtZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdC5kYXRhW2ldLnJhd1RhcmdldCA9IHJlc3VsdC5kYXRhW2ldLnRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByb2Nlc3NGaWx0ZXJzKGFUYXJnZXQsIHJlc3VsdCkge1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBmaWx0ZXJzLCByZXR1cm4gYWxsIGRhdGFbXSBpdGVtc1xuICAgIGlmICgoYVRhcmdldC5maWx0ZXJzICE9PSB1bmRlZmluZWQpICYmIChhVGFyZ2V0LmZpbHRlcnMubGVuZ3RoID4gMCkpIHtcbiAgICAgIHZhciBmaWx0ZXJEYXRhID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFUYXJnZXQuZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYUZpbHRlciA9IGFUYXJnZXQuZmlsdGVyc1tpXTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBkYXRhLCBmaW5kIG1hdGNoaW5nIHRhcmdldHNcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHQuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBhUmF3VGFyZ2V0ID0gcmVzdWx0LmRhdGFbal0ucmF3VGFyZ2V0O1xuICAgICAgICAgIGlmIChhRmlsdGVyLmZpbHRlclR5cGUgPT09IGFSYXdUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFByZXBlbmQgQWxpYXNcbiAgICAgICAgICAgIGlmIChhVGFyZ2V0LmFsaWFzUmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LmRhdGFbal0udGFyZ2V0ID0gYVRhcmdldC5hbGlhc1JlcGxhY2VkICsgXCIgXCIgKyBhUmF3VGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2F2ZSB0aGlzIHJlc3VsdFxuICAgICAgICAgICAgZmlsdGVyRGF0YS5wdXNoKHJlc3VsdC5kYXRhW2pdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGlmIHdlIGhhdmUgZmlsdGVyZWQgZGF0YSwgcmVwbGFjZSB0aGUgcmVzdWx0IHdpdGggaXRcbiAgICAgIGlmIChmaWx0ZXJEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0LmRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gZmlsdGVycywgYXBwbHkgdGhlIGFsaWFzICh0aGlzIGlzIHByb2JhYmx5IG5vdCB3aGF0IHlvdSB3YW50LCBidXQgYWxsb3cgaXQuLi4pXG4gICAgICBpZiAoYVRhcmdldC5hbGlhc1JlcGxhY2VkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQuZGF0YVtpXS50YXJnZXQgPSBhVGFyZ2V0LmFsaWFzUmVwbGFjZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBbcGFyc2VRdWVyeVJlc3VsdCBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSBhVGFyZ2V0ICBbZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2VzIEFycmF5IG9mIFJlc3BvbnNlcywgY29udGFpbmluZyBkYXRhW3sgdGFyZ2V0OiBhVGFyZ2V0LCByZXNwb25zZTogcmVzcG9uc2V9XVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHBhcnNlUXVlcnlSZXN1bHQocmVzcG9uc2VzKSB7XG5cbiAgICAvLyBUaGlzIHdpbGwgbWF0Y2ggcmVmSWQncyBmb3IgcmVzcG9uc2VzIGFuZCBidWNrZXQgdGhlbSB0b2dldGhlciwgdGhlbiBwYXNzIHRoZSBidWNrZXQgdG8gdGhlIGNvbnZlcnNpb24gcm91dGluZXNcbiAgICAvLyBUaGlzIGFsbG93cyBtdWx0aXBsZSByZXNwb25zZXMgaW50ZW5kZWQgZm9yIGEgc2luZ2xlIHRhcmdldCB0byBhbGwgYmUgcHJvY2Vzc2VkIGF0IG9uY2VcbiAgICAvLyBJdCBpcyB1cCB0byB0aGUgcHJvY2Vzc29yIHRvIHVzZSB0aGUgZGF0YSBzZW50LCBhbmQgcmV0dXJuIGEgcmVzdWx0IHRoYXQgY2FuIGJlIHVzZWQuXG4gICAgdmFyIGFsbFJlc3VsdHMgPSB7IGRhdGE6IFtdIH07XG4gICAgaWYgKCFyZXNwb25zZXMgfHwgIXJlc3BvbnNlcy5kYXRhKSB7XG4gICAgICByZXR1cm4gYWxsUmVzdWx0cztcbiAgICB9XG4gICAgdmFyIGJ1Y2tldHMgPSB0aGlzLmdldEJ1Y2tldHMocmVzcG9uc2VzKTtcblxuICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUga2V5cyBpbiB0aGUgYnVja2V0cyB0byBnZXQgdGhlIHRhcmdldCBhbmQgc291cmNlIHR5cGVcbiAgICB2YXIgYnVja2V0S2V5cyA9IE9iamVjdC5rZXlzKGJ1Y2tldHMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVja2V0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGFLZXkgPSBidWNrZXRLZXlzW2ldO1xuICAgICAgbGV0IHNvdXJjZVR5cGUgPSBidWNrZXRzW2FLZXldWzBdLnRhcmdldC5zb3VyY2VUeXBlO1xuICAgICAgLy8gYWxzbyB1c2UgdGhlIHRhcmdldCBmcm9tIHRoZSBmaXJzdCByZXNwb25zZVxuICAgICAgbGV0IGFUYXJnZXQgPSBidWNrZXRzW2FLZXldWzBdLnRhcmdldDtcbiAgICAgIC8vIGNvbnZlcnQgcmVzdWx0cyBhY2NvcmRpbmcgdG8gdGhlIHNvdXJjZVR5cGVcbiAgICAgIC8vIElNUE9SVEFOVDogZG8gbm90IGFsbG93IHJlc3BvbnNlcyB0byBiZSBtb2RpZmVkLCByZXR1cm4gYSBuZXcgb2JqZWN0IVxuICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc0NvbnZlcnNpb25zKHNvdXJjZVR5cGUsIGFUYXJnZXQsIHJlc3BvbnNlcyk7XG4gICAgICAvLyB1cGRhdGUgcmVzdWx0IHdpdGggdGhlIHJhd1RhcmdldCBuYW1lIChwcmVzZXJ2ZSBuYW1lIGZyb20gYWxpYXNpbmcpXG4gICAgICByZXN1bHQgPSB0aGlzLnNldFJhd1RhcmdldHMoYVRhcmdldCwgcmVzdWx0KTtcbiAgICAgIC8vIGFwcGx5IGZpbHRlcnNcbiAgICAgIHJlc3VsdCA9IHRoaXMucHJvY2Vzc0ZpbHRlcnMoYVRhcmdldCwgcmVzdWx0KTtcbiAgICAgIC8vIGl0ZXJhdGUgb3ZlciBhbGwgb2YgdGhlIHJlc3VsdHMgYW5kIHB1c2ggaW50byBhbGxSZXN1bHRzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFsbFJlc3VsdHMuZGF0YS5wdXNoKHJlc3VsdC5kYXRhW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbFJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGdldENoZWNrSW50ZXJ2YWwoY2xpZW50LCBjaGVja05hbWUpIHtcbiAgICAvLyBodHRwOi8vMTAuMjI3Ljg2LjYyL3Jlc3VsdHMvZGVmYXVsdC1vZWwtNjcteDg2LTY0L2tlZXBhbGl2ZVxuICAgIC8qIFRoZSBjaGVjayBtYXkgbm90IGhhdmUgaW50ZXJ2YWwgZGVmaW5lZCwgd2hpY2ggbWVhbnMgaXQgaXMgZGVmYXVsdGVkIHRvIDYwIHNlY29uZHNcbiAgICB7XG4gICAgICBcImNsaWVudFwiOiBcImRlZmF1bHQtb2VsLTY3LXg4Ni02NFwiLFxuICAgICAgXCJjaGVja1wiOiB7XG4gICAgICAgIFwidGhyZXNob2xkc1wiOiB7XG4gICAgICAgICAgXCJ3YXJuaW5nXCI6IDEyMCxcbiAgICAgICAgICBcImNyaXRpY2FsXCI6IDE4MFxuICAgICAgICB9LFxuICAgICAgICBcIm5hbWVcIjogXCJrZWVwYWxpdmVcIixcbiAgICAgICAgXCJpc3N1ZWRcIjogMTQ3NjI3NzAzOSxcbiAgICAgICAgXCJleGVjdXRlZFwiOiAxNDc2Mjc3MDM5LFxuICAgICAgICBcIm91dHB1dFwiOiBcIk5vIGtlZXBhbGl2ZSBzZW50IGZyb20gY2xpZW50IGZvciA0MDg2MCBzZWNvbmRzICg+PTE4MClcIixcbiAgICAgICAgXCJzdGF0dXNcIjogMixcbiAgICAgICAgXCJ0eXBlXCI6IFwic3RhbmRhcmRcIlxuICAgICAgfVxuICAgIH1cbiAgICAgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBbZGltZW5zaW9uRmluZFZhbHVlcyBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSB0YXJnZXQgICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGRpbWVuc2lvbiBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGRpbWVuc2lvbkZpbmRWYWx1ZXModGFyZ2V0LCBkaW1lbnNpb24pIHtcbiAgICB2YXIgZGltZW5zaW9uVVJJID0gXCIvY2xpZW50c1wiO1xuICAgIHN3aXRjaCAoZGltZW5zaW9uLmRpbWVuc2lvblR5cGUpIHtcbiAgICAgIGNhc2UgXCJjbGllbnROYW1lXCI6XG4gICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2NsaWVudHNcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2hlY2tOYW1lXCI6XG4gICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2NoZWNrc1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhZ2dyZWdhdGVOYW1lXCI6XG4gICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2FnZ3JlZ2F0ZXNcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJhY2tlbmRTcnYuZGF0YXNvdXJjZVJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLnVybCArIGRpbWVuc2lvblVSSSxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiB0aGlzLmJhc2ljQXV0aFxuICAgICAgfVxuICAgIH0pLnRoZW4odGhpcy5tYXBUb1RleHRWYWx1ZSk7XG4gIH1cblxuICBtYXBUb1RleHRWYWx1ZShyZXN1bHQpIHtcbiAgICByZXR1cm4gXy5tYXAocmVzdWx0LmRhdGEsIChkLCBpKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBkLm5hbWUsXG4gICAgICAgIHZhbHVlOiBkLm5hbWVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogW2RpbWVuc2lvbkZpbmRWYWx1ZXMgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gdGFyZ2V0ICAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSBmaWx0ZXIgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBmaWx0ZXJGaW5kVmFsdWVzKHRhcmdldCwgZmlsdGVyKSB7XG4gICAgdmFyIGZpbHRlclVSSSA9IFwiL2NsaWVudHNcIjtcbiAgICBzd2l0Y2ggKGZpbHRlci5maWx0ZXJUeXBlKSB7XG4gICAgICBjYXNlIFwiY2xpZW50TmFtZVwiOlxuICAgICAgICBmaWx0ZXJVUkkgPSBcIi9jbGllbnRzXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNoZWNrTmFtZVwiOlxuICAgICAgICBmaWx0ZXJVUkkgPSBcIi9jaGVja3NcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWdncmVnYXRlTmFtZVwiOlxuICAgICAgICBmaWx0ZXJVUkkgPSBcIi9hZ2dyZWdhdGVzXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYWNrZW5kU3J2LmRhdGFzb3VyY2VSZXF1ZXN0KHtcbiAgICAgIHVybDogdGhpcy51cmwgKyBmaWx0ZXJVUkksXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogdGhpcy5iYXNpY0F1dGhcbiAgICAgIH1cbiAgICB9KS50aGVuKHRoaXMubWFwVG9UZXh0VmFsdWUpO1xuICB9XG5cbiAgcXVlcnkob3B0aW9ucykge1xuICAgIHZhciBxdWVyaWVzOiBhbnlbXSA9IFtdO1xuICAgIC8vdmFyIHF1ZXJpZXMgPSBbXTtcbiAgICB2YXIgdGhpc1JlZiA9IHRoaXM7XG4gICAgdmFyIHNpbmdsZVRhcmdldCA9IG51bGw7XG4gICAgb3B0aW9ucy50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAvLyBUT0RPIGhhbmRsZSBoaWRlIGFuZCBubyB0YXJnZXQgc3BlY2lmaWVkXG4gICAgICAvL2lmICh0YXJnZXQuaGlkZSB8fCAhdGFyZ2V0LnRhcmdldCkge1xuICAgICAgLy8gIGNvbnRpbnVlO1xuICAgICAgLy99XG4gICAgICBxdWVyaWVzLnB1c2godGFyZ2V0KTtcbiAgICB9KTtcbiAgICB2YXIgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuICAgIC8vY29uc29sZS5sb2coXCJvcHRpb25zIGludGVydmFsID0gXCIgKyBpbnRlcnZhbCk7XG4gICAgLy9sZXQgeXkgPSBrYm4uc2Vjb25kc1RvSG1zKHRoaXMubWluaW11bUludGVydmFsIC8gMTAwMCk7XG4gICAgbGV0IHp6ID0gaW50ZXJ2YWxfdG9fbXMoaW50ZXJ2YWwpO1xuICAgIGlmIChpbnRlcnZhbF90b19tcyhpbnRlcnZhbCkgPCB0aGlzLm1pbmltdW1JbnRlcnZhbCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJEZXRlY3RlZCBpbnRlcnZhbCBzbWFsbGVyIHRoYW4gYWxsb3dlZDogXCIgKyBpbnRlcnZhbCk7XG4gICAgICBpbnRlcnZhbCA9IHNlY29uZHNUb0htcyh0aGlzLm1pbmltdW1JbnRlcnZhbCAvIDEwMDApO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJOZXcgSW50ZXJ2YWw6IFwiICsgaW50ZXJ2YWwpO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwiaW50ZXJ2YWwgYWZ0ZXIgbWluIGNoZWNrID0gXCIgKyBpbnRlcnZhbCk7XG4gICAgdmFyIGRlZmVycmVkID0gdGhpcy5xLmRlZmVyKCk7XG5cbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcXVlcmllcywgcmV0dXJuIGVtcHR5IGRhdGFcbiAgICBpZiAocXVlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwibm8gdGFncyB2aXNpYmxlIG9yIHNwZWNpZmllZCwgbm8gZGF0YSB0byBmZXRjaFwiKTtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICBkYXRhOiBbXVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGFsbFF1ZXJpZXMgPSB0aGlzLnEuYWxsKHtcbiAgICAgIGZpcnN0OiB0aGlzUmVmLm11bHRpcGxlRGF0YVF1ZXJpZXMocXVlcmllcyksXG4gICAgfSk7XG4gICAgYWxsUXVlcmllcy50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgIC8vIHJldHVybiByZXN1bHRzIGZyb20gcXVlcmllc1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzLmZpcnN0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIHNpbmdsZURhdGFRdWVyeShzaW5nbGVUYXJnZXQsIHVyaVR5cGUpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2luZ2xlRGF0YVF1ZXJ5IGVudGVyZWRcIik7XG4gICAgLy92YXIgdGhpc1JlZiA9IHRoaXM7XG4gICAgdmFyIGRlZmVycmVkID0gdGhpcy5xLmRlZmVyKCk7XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIHZhciBodHRwT3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIHVybDogdGhpcy51cmwgKyB1cmlUeXBlLFxuICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogdGhpcy5iYXNpY0F1dGhcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYmFja2VuZFNydi5kYXRhc291cmNlUmVxdWVzdChodHRwT3B0aW9ucylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBhbkVycm9yID0gbnVsbDtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvci4uLlwiKTtcbiAgICAgICAgICBhbkVycm9yID0gbmV3IEVycm9yKFwiQmFkIFN0YXR1czogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhbkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICBhbkVycm9yID0gbmV3IEVycm9yKFwiTm8gZGF0YVwiKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYW5FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyB1c2VkIHRvIHBhcnNlIHBlciByZXNwb25zZSwgaW5zdGVhZCB0aGlzIGlzIHJldHVybmluZyB0aGUgdGFyZ2V0IGFuZCByZXNwb25zZSB0byBiZSBsYXRlclxuICAgICAgICAvLyB1c2VkIGJ5IG11bHRpRG9uZVxuICAgICAgICAvLyBPTEQ6IGRlZmVycmVkLnJlc29sdmUoX3RoaXMucGFyc2VRdWVyeVJlc3VsdChzaW5nbGVUYXJnZXQsIHJlc3BvbnNlKSk7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoeyB0YXJnZXQ6IHNpbmdsZVRhcmdldCwgcmVzcG9uc2U6IHJlc3BvbnNlIH0pO1xuICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBsb2FkIGRhdGEuIFJlc3BvbnNlOiAlb1wiLCByZXNwb25zZS5kYXRhID8gcmVzcG9uc2UuZGF0YS5tZXNzYWdlIDogcmVzcG9uc2UpO1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9hZCBkYXRhXCIpO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcGVyIGNhbGxlZCB3aGVuIGFsbCBxdWVyaWVzIGhhdmUgYmVlbiBjb21wbGV0ZWQuXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2VzIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgbXVsdGlEb25lKHJlc3BvbnNlcykge1xuICAgIHJldHVybiB0aGlzLnBhcnNlUXVlcnlSZXN1bHQocmVzcG9uc2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMZXZlcmFnZXMgcHJvbWlzZXMgdG8gcGVyZm9ybSBtdWx0aXBsZSBhc3luYyBxdWVyaWVzXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gcGVuZGluZ1F1ZXJpZXMgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIG11bHRpcGxlRGF0YVF1ZXJpZXMocGVuZGluZ1F1ZXJpZXMpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLnEuZGVmZXIoKTtcbiAgICB2YXIgZGF0YUNhbGxzID0gW107XG4gICAgdmFyIHRoaXNSZWYgPSB0aGlzO1xuICAgIC8vIGZvciBlYWNoIHF1ZXJ5LCB3ZSBnZXQgYSBsaXN0IG9mIHNlbnN1IHVyaXMnIHRvIGhpdFxuICAgIC8vIHRvIHJldHJpZXZlIHRoZSBkYXRhXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBwZW5kaW5nUXVlcmllcy5sZW5ndGgpIHtcbiAgICAgIGxldCBhVGFyZ2V0ID0gcGVuZGluZ1F1ZXJpZXNbaW5kZXhdO1xuICAgICAgdmFyIHVyaUxpc3QgPSB0aGlzLmdldFF1ZXJ5VVJJQnlUeXBlKGFUYXJnZXQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cmlMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRhdGFDYWxscy5wdXNoKHRoaXNSZWYuc2luZ2xlRGF0YVF1ZXJ5KGFUYXJnZXQsIHVyaUxpc3RbaV0pKTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIC8qXG4gICAgYW5ndWxhci5mb3JFYWNoKHBlbmRpbmdRdWVyaWVzLCBmdW5jdGlvbihhVGFyZ2V0KSB7XG4gICAgICB2YXIgdXJpTGlzdCA9IHRoaXNSZWYuZ2V0UXVlcnlVUklCeVR5cGUoYVRhcmdldCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVyaUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGF0YUNhbGxzLnB1c2godGhpc1JlZi5zaW5nbGVEYXRhUXVlcnkoYVRhcmdldCwgdXJpTGlzdFtpXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICovXG4gICAgdGhpcy5xLmFsbChkYXRhQ2FsbHMpXG4gICAgICAudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVzdWx0cykge1xuICAgICAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgICAgIGRhdGE6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgLy8gbWVyZ2UgYWxsIG9mIHRoZSByZXN1bHRzIGludG8gb25lIHJlc3BvbnNlXG4gICAgICAgICAgd2hpbGUgKGkgPCByZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5wdXNoKHJlc3VsdHNbaV0pO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKlxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXN1bHRzLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgLy9hbmd1bGFyLmZvckVhY2gocmVzdWx0LmRhdGEsIGZ1bmN0aW9uKGRhdGFTZXQpIHtcbiAgICAgICAgICAgIC8vICByZXNwb25zZS5kYXRhLnB1c2goZGF0YVNldCk7XG4gICAgICAgICAgICAvL30pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICovXG4gICAgICAgICAgLy8gbXVsdGlEb25lIG5lZWRzIHRvIHJldHVybiBhbGwgb2YgdGhlIHBhcnNlZCByZXN1bHRzIGluc2lkZSBzb21ldmFyLmRhdGFbXVxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpc1JlZi5tdWx0aURvbmUocmVzcG9uc2UpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZXJyb3JzKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9ycyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKHVwZGF0ZXMpIHtcbiAgICAgICAgICBkZWZlcnJlZC51cGRhdGUodXBkYXRlcyk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBnZXRTZXJ2ZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLmJhY2tlbmRTcnYuZGF0YXNvdXJjZVJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLnVybCArIFwiL2luZm9cIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiB0aGlzLmJhc2ljQXV0aFxuICAgICAgfSxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH1cblxuICAvLyBSZXF1aXJlZFxuICAvLyBVc2VkIGZvciB0ZXN0aW5nIGRhdGFzb3VyY2UgaW4gZGF0YXNvdXJjZSBjb25maWd1cmF0aW9uIHBhbmdlXG4gIC8vICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiXG4gIC8vXG5cbiAgdGVzdERhdGFzb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2VuZFNydi5kYXRhc291cmNlUmVxdWVzdCh7XG4gICAgICB1cmw6IHRoaXMudXJsICsgXCIvaW5mb1wiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHRoaXMuYmFzaWNBdXRoXG4gICAgICB9LFxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlOiB7IHN0YXR1czogbnVtYmVyOyB9KSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRGF0YSBzb3VyY2UgaXMgd29ya2luZ1wiLFxuICAgICAgICAgIHRpdGxlOiBcIlN1Y2Nlc3NcIlxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiRGF0YSBzb3VyY2UgaXMgbm90IHdvcmtpbmdcIixcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIlxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKlxuICovXG5cbmZ1bmN0aW9uIGdldEFnZ3JlZ2F0ZVVSSXModGFyZ2V0LCBhZ2dyZWdhdGVOYW1lcykge1xuICAvLyBodHRwczovL3NlbnN1YXBwLm9yZy9kb2NzLzAuMjgvYXBpL2FnZ3JlZ2F0ZXMtYXBpLmh0bWxcbiAgdmFyIHVyaXMgPSBbXTtcbiAgdmFyIGRpbWVuc2lvblVSSSA9IFwiL2FnZ3JlZ2F0ZXNcIjtcbiAgdmFyIGFuQWdncmVnYXRlTmFtZSA9IG51bGw7XG4gIC8vIG5hbWUsIG5hbWUvY2xpZW50cywgbmFtZS9jaGVja3MsIG5hbWUvcmVzdWx0cy9zZXZlcml0eVxuICBpZiAoYWdncmVnYXRlTmFtZXMubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZ2dyZWdhdGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgYW5BZ2dyZWdhdGVOYW1lID0gYWdncmVnYXRlTmFtZXNbaV07XG4gICAgICBkaW1lbnNpb25VUkkgPSBcIi9hZ2dyZWdhdGVzL1wiICsgYW5BZ2dyZWdhdGVOYW1lO1xuICAgICAgc3dpdGNoICh0YXJnZXQuYWdncmVnYXRlTW9kZSkge1xuICAgICAgICBjYXNlIFwiY2hlY2tzXCI6XG4gICAgICAgICAgZGltZW5zaW9uVVJJID0gXCIvYWdncmVnYXRlcy9cIiArIGFuQWdncmVnYXRlTmFtZSArIFwiL2NoZWNrc1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2xpZW50c1wiOlxuICAgICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2FnZ3JlZ2F0ZXMvXCIgKyBhbkFnZ3JlZ2F0ZU5hbWUgKyBcIi9jbGllbnRzXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgZGltZW5zaW9uVVJJID0gXCIvYWdncmVnYXRlcy9cIiArIGFuQWdncmVnYXRlTmFtZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlc3VsdHNfY3JpdGljYWxcIjpcbiAgICAgICAgICBkaW1lbnNpb25VUkkgPSBcIi9hZ2dyZWdhdGVzL1wiICsgYW5BZ2dyZWdhdGVOYW1lICsgXCIvcmVzdWx0cy9jcml0aWNhbFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVzdWx0c19va1wiOlxuICAgICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2FnZ3JlZ2F0ZXMvXCIgKyBhbkFnZ3JlZ2F0ZU5hbWUgKyBcIi9yZXN1bHRzL29rXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZXN1bHRzX3Vua25vd25cIjpcbiAgICAgICAgICBkaW1lbnNpb25VUkkgPSBcIi9hZ2dyZWdhdGVzL1wiICsgYW5BZ2dyZWdhdGVOYW1lICsgXCIvcmVzdWx0cy91bmtub3duXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZXN1bHRzX3dhcm5pbmdcIjpcbiAgICAgICAgICBkaW1lbnNpb25VUkkgPSBcIi9hZ2dyZWdhdGVzL1wiICsgYW5BZ2dyZWdhdGVOYW1lICsgXCIvcmVzdWx0cy93YXJuaW5nXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB1cmlzLnB1c2goZGltZW5zaW9uVVJJKTtcbiAgICB9XG4gIH1cbiAgaWYgKHVyaXMubGVuZ3RoID09PSAwKSB7XG4gICAgdXJpcy5wdXNoKGRpbWVuc2lvblVSSSk7XG4gIH1cbiAgcmV0dXJuIHVyaXM7XG59XG5cbmV4cG9ydCB7XG4gIGdldEFnZ3JlZ2F0ZVVSSXNcbn07XG4iLCIvKlxuXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q2xpZW50c1VSSXMoY2hlY2tOYW1lcywgY2xpZW50TmFtZXMpIHtcbiAgdmFyIHVyaXMgPSBbXTtcbiAgdmFyIGRpbWVuc2lvblVSSSA9IFwiL2NsaWVudHNcIjtcbiAgLy8gbG9vayBmb3IgY2xpZW50TmFtZSBpbiBkaW1lbnNpb25zXG4gIGlmIChjbGllbnROYW1lcy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaWVudE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2NsaWVudHMvXCIgKyBhQ2xpZW50TmFtZTtcbiAgICAgIHVyaXMucHVzaChkaW1lbnNpb25VUkkpO1xuICAgIH1cbiAgfVxuICBpZiAodXJpcy5sZW5ndGggPT09IDApIHtcbiAgICB1cmlzLnB1c2goZGltZW5zaW9uVVJJKTtcbiAgfVxuICB1cmlzLnB1c2goXCIvZXZlbnRzXCIpO1xuICB1cmlzLnB1c2goXCIvcmVzdWx0c1wiKTtcblxuICByZXR1cm4gdXJpcztcbn1cblxuLyoqXG4gKiBbZ2V0Q2xpZW50SGVhbHRoVVJJcyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gY2xpZW50TmFtZXMgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmZ1bmN0aW9uIGdldENsaWVudEhlYWx0aFVSSXMoY2xpZW50TmFtZXMpIHtcbiAgdmFyIHVyaXMgPSBbXTtcbiAgLy8gbG9vayBmb3IgY2xpZW50TmFtZSBpbiBkaW1lbnNpb25zXG4gIGlmIChjbGllbnROYW1lcy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaWVudE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIHZhciByZXN1bHRzVVJJID0gXCIvcmVzdWx0cy9cIiArIGFDbGllbnROYW1lO1xuICAgICAgdXJpcy5wdXNoKHJlc3VsdHNVUkkpO1xuICAgICAgdmFyIGV2ZW50c1VSSSA9IFwiL2V2ZW50cy9cIiArIGFDbGllbnROYW1lO1xuICAgICAgdXJpcy5wdXNoKGV2ZW50c1VSSSk7XG4gICAgfVxuICB9XG4gIGlmICh1cmlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHVyaXMucHVzaChcIi9yZXN1bHRzXCIpO1xuICAgIHVyaXMucHVzaChcIi9ldmVudHNcIik7XG4gIH1cbiAgcmV0dXJuIHVyaXM7XG59XG5cbi8qKlxuICogW2dldENsaWVudEhpc3RvcnlVUklzIGRlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7W3R5cGVdfSBjbGllbnROYW1lcyBbZGVzY3JpcHRpb25dXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50SGlzdG9yeVVSSXMoY2xpZW50TmFtZXMpIHtcbiAgdmFyIHVyaXMgPSBbXTtcbiAgdmFyIGRpbWVuc2lvblVSSSA9IFwiL2NsaWVudHNcIjtcbiAgLy8gbG9vayBmb3IgY2xpZW50TmFtZSBpbiBkaW1lbnNpb25zXG4gIGlmIChjbGllbnROYW1lcy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaWVudE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2NsaWVudHMvXCIgKyBhQ2xpZW50TmFtZSArIFwiL2hpc3RvcnlcIjtcbiAgICAgIHVyaXMucHVzaChkaW1lbnNpb25VUkkpO1xuICAgIH1cbiAgfVxuICBpZiAodXJpcy5sZW5ndGggPT09IDApIHtcbiAgICB1cmlzLnB1c2goZGltZW5zaW9uVVJJKTtcbiAgfVxuICByZXR1cm4gdXJpcztcbn1cblxuZXhwb3J0IHtcbiAgZ2V0Q2xpZW50c1VSSXMsXG4gIGdldENsaWVudEhlYWx0aFVSSXMsXG4gIGdldENsaWVudEhpc3RvcnlVUklzXG59O1xuIiwiLyoqXG4gKlxuICovXG5cbmZ1bmN0aW9uIGdldEV2ZW50c1VSSXMoY2hlY2tOYW1lcywgY2xpZW50TmFtZXMpIHtcbiAgLy8gaHR0cHM6Ly9zZW5zdWFwcC5vcmcvZG9jcy8wLjI4L2FwaS9ldmVudHMtYXBpLmh0bWxcbiAgdmFyIHVyaXMgPSBbXTtcbiAgdmFyIGRpbWVuc2lvblVSSSA9IFwiL2V2ZW50c1wiO1xuICB2YXIgYUNsaWVudE5hbWUgPSBudWxsO1xuICB2YXIgYUNoZWNrTmFtZSA9IG51bGw7XG4gIHZhciBhbkFnZ3JlZ2F0ZU5hbWUgPSBudWxsO1xuICBpZiAoY2xpZW50TmFtZXMubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGllbnROYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIGRpbWVuc2lvblVSSSA9IFwiL2V2ZW50cy9cIiArIGFDbGllbnROYW1lO1xuICAgICAgdXJpcy5wdXNoKGRpbWVuc2lvblVSSSk7XG4gICAgfVxuICB9XG4gIGlmICgoY2hlY2tOYW1lcy5sZW5ndGgpICYmIChjbGllbnROYW1lcy5sZW5ndGgpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGllbnROYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hlY2tOYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgICBhQ2hlY2tOYW1lID0gY2hlY2tOYW1lc1tpXTtcbiAgICAgICAgZGltZW5zaW9uVVJJID0gXCIvZXZlbnRzL1wiICsgYUNsaWVudE5hbWUgKyBcIi9cIiArIGFDaGVja05hbWU7XG4gICAgICAgIHVyaXMucHVzaChkaW1lbnNpb25VUkkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodXJpcy5sZW5ndGggPT09IDApIHtcbiAgICB1cmlzLnB1c2goZGltZW5zaW9uVVJJKTtcbiAgfVxuICByZXR1cm4gdXJpcztcbn1cblxuZXhwb3J0IHtcbiAgZ2V0RXZlbnRzVVJJc1xufTtcbiIsIlxuZnVuY3Rpb24gZ2V0UmVzdWx0VVJJcyhjaGVja05hbWVzLCBjbGllbnROYW1lcykge1xuICB2YXIgdXJpcyA9IFtdO1xuICB2YXIgZGltZW5zaW9uVVJJID0gXCIvcmVzdWx0c1wiO1xuICB2YXIgYUNsaWVudE5hbWUgPSBudWxsO1xuICB2YXIgYUNoZWNrTmFtZSA9IG51bGw7XG4gIHZhciBhbkFnZ3JlZ2F0ZU5hbWUgPSBudWxsO1xuICBpZiAoY2xpZW50TmFtZXMubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGllbnROYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgYUNsaWVudE5hbWUgPSBjbGllbnROYW1lc1tpXTtcbiAgICAgIGRpbWVuc2lvblVSSSA9IFwiL3Jlc3VsdHMvXCIgKyBhQ2xpZW50TmFtZTtcbiAgICAgIHVyaXMucHVzaChkaW1lbnNpb25VUkkpO1xuICAgIH1cbiAgfVxuICBpZiAoKGNoZWNrTmFtZXMubGVuZ3RoKSAmJiAoY2xpZW50TmFtZXMubGVuZ3RoKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFDbGllbnROYW1lID0gY2xpZW50TmFtZXNbaV07XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoZWNrTmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgYUNoZWNrTmFtZSA9IGNoZWNrTmFtZXNbaV07XG4gICAgICAgIGRpbWVuc2lvblVSSSA9IFwiL3Jlc3VsdHMvXCIgKyBhQ2xpZW50TmFtZSArIFwiL1wiICsgYUNoZWNrTmFtZTtcbiAgICAgICAgdXJpcy5wdXNoKGRpbWVuc2lvblVSSSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh1cmlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHVyaXMucHVzaChkaW1lbnNpb25VUkkpO1xuICB9XG4gIHJldHVybiB1cmlzO1xufVxuXG5leHBvcnQge1xuICBnZXRSZXN1bHRVUklzXG59O1xuIiwiLypcblxuICovXG5pbXBvcnQgeyBnZXRSZXNwb25zZUZvclRhcmdldCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRzV2l0aEZpbHRlciB9IGZyb20gXCIuL2NsaWVudF9maWx0ZXJzXCI7XG5cbiAvKipcbiAqIFtjb252ZXJ0Q2xpZW50c1RvRGF0YVBvaW50cyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRDbGllbnRzVG9EYXRhUG9pbnRzKGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICB2YXIgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvclRhcmdldChhVGFyZ2V0LCByZXNwb25zZXMpO1xuXG4gIC8vIHRoZSByZXN1bHQgaGFzIG5vIFwiZGF0YXBvaW50c1wiLCBuZWVkIHRvIGNyZWF0ZSBpdCBiYXNlZCBvbiB0aGUgY2hlY2sgZGF0YVxuICAvLyB3aGVuIHdlIGhhdmUgYSBjaGVja25hbWUgYW5kIGFuIGNsaWVudE5hbWUsIHRoZSByZXNwb25zZSBpcyBkaWZmZXJlbnQsIHRoZVxuICAvLyBkYXRhIGlzIG5vdCBhbiBhcnJheSwgYnV0IGNvbnRhaW5zIHRoZSBzYW1lIGluZm9ybWF0aW9uLCByZWNyZWF0ZSBhbmQgcHVzaFxuICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBzaW5nbGVEYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICByZXNwb25zZS5kYXRhID0gW107XG4gICAgcmVzcG9uc2UuZGF0YS5wdXNoKHNpbmdsZURhdGEpO1xuICB9XG4gIHN3aXRjaCAoYVRhcmdldC5jbGllbnRRdWVyeU1vZGUpIHtcbiAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgbGV0IGZpbHRlckRhdGEgPSBbXTtcbiAgICAgIGxldCBhcnJDbGllbnROYW1lcyA9IFtdO1xuICAgICAgaWYgKChhVGFyZ2V0LmZpbHRlcnMgIT09IHVuZGVmaW5lZCkgJiYgKGFUYXJnZXQuZmlsdGVycy5sZW5ndGggPiAwKSkge1xuICAgICAgICBhcnJDbGllbnROYW1lcyA9IGdldENsaWVudHNXaXRoRmlsdGVyKGFUYXJnZXQsIHJlc3BvbnNlKTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBkYXRhIGFuZCBzdG9yZSB0aGUgbWF0Y2hpbmcgY2xpZW50cyBpbiB0aGUgbmV3IGZpbHRlcmVkRGF0YVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBwdXNoIG1hdGNoaW5nIGNsaWVudCBuYW1lc1xuICAgICAgICAgIGlmIChhcnJDbGllbnROYW1lcy5pbmRleE9mKHJlc3BvbnNlLmRhdGFbaV0ubmFtZSkgPj0gMCkge1xuICAgICAgICAgICAgZmlsdGVyRGF0YS5wdXNoKHJlc3BvbnNlLmRhdGFbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBub3cgcmVwbGFjZSBkYXRhIHdpdGggZmlsdGVyZWQgZGF0YVxuICAgICAgICByZXNwb25zZS5kYXRhID0gZmlsdGVyRGF0YTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgICAgIGxldCBkYXRhcG9pbnRzID0gW107XG4gICAgICAgIGlmIChkYXRhLnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGF0YXBvaW50c1swXSA9IFsxLCAoZGF0YS50aW1lc3RhbXAgKiAxMDAwKV07XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5kYXRhcG9pbnRzID0gZGF0YXBvaW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0YXJnZXRcbiAgICAgICAgZGF0YS50YXJnZXQgPSBkYXRhLm5hbWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY291bnRcIjpcbiAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhWzBdO1xuICAgICAgICBsZXQgZGF0YXBvaW50cyA9IFtdO1xuICAgICAgICBsZXQgY2xpZW50Q291bnQgPSAwO1xuICAgICAgICBsZXQgYXJyQ2xpZW50TmFtZXMgPSBbXTtcbiAgICAgICAgaWYgKChhVGFyZ2V0LmZpbHRlcnMgIT09IHVuZGVmaW5lZCkgJiYgKGFUYXJnZXQuZmlsdGVycy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgIGFyckNsaWVudE5hbWVzID0gZ2V0Q2xpZW50c1dpdGhGaWx0ZXIoYVRhcmdldCwgcmVzcG9uc2UpO1xuICAgICAgICAgIGNsaWVudENvdW50ID0gYXJyQ2xpZW50TmFtZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWVudENvdW50ID0gcmVzcG9uc2UuZGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkYXRhcG9pbnRzWzBdID0gW2NsaWVudENvdW50LCAoZGF0YS50aW1lc3RhbXAgKiAxMDAwKV07XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5kYXRhcG9pbnRzID0gZGF0YXBvaW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0YXJnZXRcbiAgICAgICAgZGF0YS5hZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICBkYXRhLm5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRhdGEuc29ja2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBkYXRhLnN1YnNjcmlwdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRhdGEudmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGF0YS50YXJnZXQgPSBcIkNsaWVudENvdW50XCI7XG4gICAgICAgIGlmIChhVGFyZ2V0LmFsaWFzUmVwbGFjZWQpIHtcbiAgICAgICAgICBkYXRhLnRhcmdldCA9IGFUYXJnZXQuYWxpYXNSZXBsYWNlZDtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZS5kYXRhID0gW2RhdGFdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vKipcbiAqIFtjb252ZXJ0Q2xpZW50c1RvSlNPTiBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7W3R5cGVdfSBhVGFyZ2V0ICBbZGVzY3JpcHRpb25dXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydENsaWVudHNUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG5cbiAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgIHJlc3BvbnNlLmRhdGEucHVzaChkYXRhKTtcbiAgfVxuICAvLyBzdGFydCB3aXRoIGFuIGVtcHR5IGxpc3RcbiAgdmFyIG5ld0RhdGEgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gZGVmYXVsdCB0byBhZGRpbmcgdGhlIGl0ZW1zLCBmaWx0ZXJzIHdpbGwgc2V0IHRoaXMgdG8gZmFsc2UgYXMgbmVlZGVkXG4gICAgbGV0IHB1c2hJdGVtID0gdHJ1ZTtcbiAgICAvLyBjbG9uZSBpdFxuICAgIGxldCBpdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhW2ldKSk7XG4gICAgLy8gZW1wdHkgZGF0YXBvaW50c1xuICAgIGl0ZW0uZGF0YXBvaW50cyA9IFtdO1xuICAgIC8vIHNldCB0aGUgdHlwZSB0byBkb2NzXG4gICAgaXRlbS50eXBlID0gXCJkb2NzXCI7XG4gICAgLy9pdGVtLnZhbHVlID0gMDtcbiAgICAvLyBpZiB0aGVyZVwicyBubyBhZGRyZXNzLCBpdCBpcyBhIEpJVCBjbGllbnRcbiAgICB2YXIgYWRkcmVzcyA9IGl0ZW0uYWRkcmVzcztcbiAgICBpZiAoaXRlbS5hZGRyZXNzID09PSBcInVua25vd25cIikge1xuICAgICAgaXRlbS5hZGRyZXNzID0gXCJKSVQgQ2xpZW50XCI7XG4gICAgfVxuICAgIC8vIGNoZWNrIGZpbHRlcnNcbiAgICBpZiAoYVRhcmdldC5maWx0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChhVGFyZ2V0LmZpbHRlcnMubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhVGFyZ2V0LmZpbHRlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYUZpbHRlciA9IGFUYXJnZXQuZmlsdGVyc1tqXTtcbiAgICAgICAgICBzd2l0Y2ggKGFGaWx0ZXIuZmlsdGVyVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInJlZ2V4XCI6XG4gICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgcmVnZXggaXMgdmFsaWRcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSBhRmlsdGVyLmZpbHRlclJlZ2V4RmxhZ3M7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChhRmlsdGVyLmZpbHRlclJlZ2V4LCBmbGFncyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlLnRlc3QoaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgLy8gcHVzaCB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIm1hdGNoZWQgcmVnZXhcIik7XG4gICAgICAgICAgICAgICAgICBhRmlsdGVyLmZpbHRlck1lc3NhZ2UgPSBcIk9LXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHB1c2hJdGVtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhRmlsdGVyLmZpbHRlck1lc3NhZ2UgPSBcIkludmFsaWQgUmVndWxhciBFeHByZXNzaW9uXCI7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkludmFsaWQgUmVnZXggRGV0ZWN0ZWQhXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZpZWxkXCI6XG4gICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KGFGaWx0ZXIuZmlsdGVyRmllbGROYW1lKSkge1xuICAgICAgICAgICAgICAgIGxldCBmaWVsZFZhbCA9IGl0ZW1bYUZpbHRlci5maWx0ZXJGaWVsZE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZFZhbCAhPT0gYUZpbHRlci5maWx0ZXJGaWVsZFZhbHVlUmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgICAgIHB1c2hJdGVtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZpZWxkLCBubyBwdXNoXG4gICAgICAgICAgICAgICAgcHVzaEl0ZW0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcHVzaCBpbnRvIHRoZSBkYXRhcG9pbnRzXG4gICAgaWYgKHB1c2hJdGVtKSB7XG4gICAgICAvL2l0ZW1EYXRhLmRhdGFwb2ludHMucHVzaChpdGVtRGF0YSk7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIHR5cGU6IFwiZG9jc1wiLFxuICAgICAgICBkYXRhcG9pbnRzOiBbaXRlbV1cbiAgICAgIH07XG4gICAgICBuZXdEYXRhLnB1c2goZW50cnkpO1xuICAgIH1cbiAgfVxuICByZXNwb25zZS5kYXRhID0gbmV3RGF0YTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vKipcbiAqIFtjb252ZXJ0Q2xpZW50SGlzdG9yeVRvRGF0YVBvaW50cyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5mdW5jdGlvbiBjb252ZXJ0Q2xpZW50SGlzdG9yeVRvRGF0YVBvaW50cyhhVGFyZ2V0LCByZXNwb25zZXMpIHtcbiAgdmFyIHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JUYXJnZXQoYVRhcmdldCwgcmVzcG9uc2VzKTtcblxuICAvLyB0aGUgcmVzdWx0IGhhcyBubyBcImRhdGFwb2ludHNcIiwgbmVlZCB0byBjcmVhdGUgaXQgYmFzZWQgb24gdGhlIGNoZWNrIGRhdGFcbiAgLy8gd2hlbiB3ZSBoYXZlIGEgY2hlY2tuYW1lIGFuZCBhbiBjbGllbnROYW1lLCB0aGUgcmVzcG9uc2UgaXMgZGlmZmVyZW50LCB0aGVcbiAgLy8gZGF0YSBpcyBub3QgYW4gYXJyYXksIGJ1dCBjb250YWlucyB0aGUgc2FtZSBpbmZvcm1hdGlvbiwgcmVjcmVhdGUgYW5kIHB1c2hcbiAgLy9pZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAvLyAgdmFyIHNpbmdsZURhdGEgPSByZXNwb25zZS5kYXRhO1xuICAvLyAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAvLyAgcmVzcG9uc2UuZGF0YS5wdXNoKHNpbmdsZURhdGEpO1xuICAvL31cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFuRXZlbnQgPSByZXNwb25zZS5kYXRhW2ldO1xuICAgIHZhciBkYXRhcG9pbnRzID0gW107XG4gICAgdmFyIHN0YXJ0aW5nVGltZXN0YW1wID0gMDtcbiAgICBpZiAoYW5FdmVudC5sYXN0X2V4ZWN1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGFydGluZ1RpbWVzdGFtcCA9IGFuRXZlbnQubGFzdF9leGVjdXRpb24gLSAoNjAgKiBhbkV2ZW50Lmhpc3RvcnkubGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gdGltZSBuZWVkcyB0byBiZSBpbiBNUywgd2UgZ2V0IEVQT0NIIGZyb20gU2Vuc3VcbiAgICBpZiAoYW5FdmVudC5oaXN0b3J5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgYW5FdmVudC5oaXN0b3J5Lmxlbmd0aDsgeSsrKSB7XG4gICAgICAgIGRhdGFwb2ludHNbeV0gPSBbYW5FdmVudC5oaXN0b3J5W3ldLCAoc3RhcnRpbmdUaW1lc3RhbXAgKyAoNjAgKiB5KSkgKiAxMDAwXTtcbiAgICAgIH1cbiAgICB9XG4gICAgYW5FdmVudC5kYXRhcG9pbnRzID0gZGF0YXBvaW50cztcbiAgICAvLyBzZXQgdGhlIHRhcmdldCB0byBiZSB0aGUgY2hlY2sgbmFtZVxuICAgIGFuRXZlbnQudGFyZ2V0ID0gXCJ1bmtub3duXCI7XG4gICAgaWYgKGFuRXZlbnQubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhbkV2ZW50LnRhcmdldCA9IGFuRXZlbnQubmFtZTtcbiAgICB9XG4gICAgaWYgKGFuRXZlbnQuY2hlY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgYW5FdmVudC50YXJnZXQgPSBhbkV2ZW50LmNoZWNrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBKU09OIHdpdGggdGhlIGZvbGxvd2luZzpcbiAqICAgICNDaGVja3NcbiAqICAgICNDaGVja3Mgc2lsZW5jZWRcbiAqICAgICNDaGVja3MgT0tcbiAqICAgICNDaGVja3Mgd2FybmluZ1xuICogICAgI0NoZWNrcyBDcml0aWNhbFxuICogICAgI0NsaWVudHNcbiAqICAgICNDbGllbnRzIHNpbGVuY2VkXG4gKiAgICAjQ2xpZW50cyBPS1xuICogICAgI0NsaWVudHMgd2FybmluZ1xuICogICAgI0NsaWVudHMgQ3JpdGljYWxcbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2VzIFtkZXNjcmlwdGlvbl1cbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydENsaWVudFN1bW1hcnlNZXRyaWNzVG9KU09OKGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICB2YXIgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvclRhcmdldChhVGFyZ2V0LCByZXNwb25zZXMpO1xuXG59XG5cbi8qXG4gIENsaWVudCBIZWFsdGhcblxuICBIZWFsdGggaXMgZGV0ZXJtaW5lZCBieSB0YWtpbmcgdGhlIHdvcnN0IG9mIHRoZSBub24tc2lsZW5jZWQgcmVzdWx0cyBmb3IgYSBjbGllbnRcblxuICBUaGUgXCJ1bmtub3duXCIgc3RhdGUgY2FuIG9wdGlvbmFsbHkgYmUgdXNlZCBhcyB0aGUgd29yc3Qgc3RhdGVcbiAgU3BlY2lmaWNhbGx5OlxuICAgIC9yZXN1bHRzLzpjbGllbnRcbiAgICAgICAgc3RhdHVzIGZpZWxkIGlzIGluc3BlY3RlZCBmb3I6XG4gICAgICAgIDAgPSBPS1xuICAgICAgICAxID0gV0FSTklOR1xuICAgICAgICAyID0gQ1JJVElDQUxcbiAgICAgICAgMyA9IFVOS05PV05cbiAgICAvZXZlbnRzLzpjbGllbnRcbiAgICAgICAgc3RhdHVzIGZpZWxkIGlzIGluc3BlY3RlZFxuXG4gKi9cblxuLyoqXG4gKiBbY29udmVydENsaWVudEhlYWx0aFRvSlNPTiBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gdGFyZ2V0ICAgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7W3R5cGVdfSByZXNwb25zZSBbZGVzY3JpcHRpb25dXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydENsaWVudEhlYWx0aFRvSlNPTihhVGFyZ2V0LCByZXNwb25zZXMpIHtcbiAgdmFyIHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JUYXJnZXQoYVRhcmdldCwgcmVzcG9uc2VzKTtcblxuICB2YXIgZmlsdGVyZWREYXRhID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICB2YXIgZGF0YXBvaW50cyA9IFtdO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYW5FdmVudCkpO1xuICAgIGlmIChhbkV2ZW50LmNoZWNrLmlzc3VlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgdGltZXN0YW1wOiAoYW5FdmVudC5jaGVjay5pc3N1ZWQgKiAxMDAwKSxcbiAgICAgICAgY2hlY2tfbmFtZTogYW5FdmVudC5jaGVjay5uYW1lLFxuICAgICAgICBjbGllbnQ6IGFuRXZlbnQuY2xpZW50LFxuICAgICAgICBjaGVjazogYW5FdmVudC5jaGVjayxcbiAgICAgICAgb2NjdXJyZW5jZXM6IGFuRXZlbnQub2NjdXJyZW5jZXMsXG4gICAgICAgIG9jY3VycmVuY2VzX3dhdGVybWFyazogYW5FdmVudC5vY2N1cnJlbmNlc193YXRlcm1hcmssXG4gICAgICAgIGFjdGlvbjogYW5FdmVudC5hY3Rpb24sXG4gICAgICAgIGlkOiBhbkV2ZW50LmlkLFxuICAgICAgICBsYXN0X3N0YXRlX2NoYW5nZTogKGFuRXZlbnQubGFzdF9zdGF0ZV9jaGFuZ2UgKiAxMDAwKSxcbiAgICAgICAgbGFzdF9vazogKGFuRXZlbnQubGFzdF9vayAqIDEwMDApLFxuICAgICAgICBzaWxlbmNlZDogYW5FdmVudC5zaWxlbmNlZCxcbiAgICAgICAgc2lsZW5jZWRfYnk6IGFuRXZlbnQuc2lsZW5jZWRfYnlcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhLmNoZWNrLmlzc3VlZCA9IGRhdGEuY2hlY2suaXNzdWVkICogMTAwMDtcbiAgICAgICAgZGF0YS5jaGVjay5leGVjdXRlZCA9IGRhdGEuY2hlY2suZXhlY3V0ZWQgKiAxMDAwO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICAgIGRhdGFwb2ludHMucHVzaChkYXRhKTtcbiAgICAgIGFuRXZlbnQuZGF0YXBvaW50cyA9IGRhdGFwb2ludHM7XG4gICAgICBkZWxldGUgYW5FdmVudC5jaGVjaztcbiAgICAgIGRlbGV0ZSBhbkV2ZW50LmNsaWVudDtcbiAgICAgIGFuRXZlbnQudHlwZSA9IFwiZG9jc1wiO1xuICAgICAgaWYgKCFhbkV2ZW50LnNpbGVuY2VkKSB7XG4gICAgICAgIGZpbHRlcmVkRGF0YS5wdXNoKGFuRXZlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKGFuRXZlbnQuc2lsZW5jZWQgJiYgIWFUYXJnZXQuaGlkZVNpbGVuY2VkRXZlbnRzKSB7XG4gICAgICAgIGZpbHRlcmVkRGF0YS5wdXNoKGFuRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXNwb25zZS5kYXRhID0gZmlsdGVyZWREYXRhO1xuICAvL3ZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMik7XG4gIC8vY29uc29sZS5sb2coc3RyKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vLyBUT0RPXG4vLyAgVGhpcyBuZWVkcyB0byByZXR1cm4gaGVhbHRoIG9mIGluZGl2aWR1YWwgY2xpZW50c1xuZnVuY3Rpb24gY29udmVydENsaWVudEhlYWx0aE1ldHJpY3NUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG59XG5cblxuZXhwb3J0IHtcbiAgY29udmVydENsaWVudHNUb0RhdGFQb2ludHMsXG4gIGNvbnZlcnRDbGllbnRzVG9KU09OLFxuICBjb252ZXJ0Q2xpZW50SGlzdG9yeVRvRGF0YVBvaW50cyxcbiAgY29udmVydENsaWVudFN1bW1hcnlNZXRyaWNzVG9KU09OLFxuICBjb252ZXJ0Q2xpZW50SGVhbHRoVG9KU09OLFxuICBjb252ZXJ0Q2xpZW50SGVhbHRoTWV0cmljc1RvSlNPTlxufTtcbiIsIi8qKlxuICpcbiAqL1xuaW1wb3J0IHsgZ2V0UmVzcG9uc2VGb3JUYXJnZXQgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgaW5jbHVkZUV2ZW50VGFyZ2V0IH0gZnJvbSBcIi4vZXZlbnRfZmlsdGVyc1wiO1xuLyoqXG4gKiBbY29udmVydEV2ZW50c1RvRGF0YVBvaW50cyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5mdW5jdGlvbiBjb252ZXJ0RXZlbnRzVG9EYXRhUG9pbnRzKGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICB2YXIgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvclRhcmdldChhVGFyZ2V0LCByZXNwb25zZXMpO1xuXG4gIC8vIGNvbnZlcnQgaGlzdG9yeSB0byBkYXRhcG9pbnRzXG5cbiAgLy8gdGhlIHJlc3VsdCBoYXMgbm8gXCJkYXRhcG9pbnRzXCIsIG5lZWQgdG8gY3JlYXRlIGl0IGJhc2VkIG9uIHRoZSBjaGVjayBkYXRhXG5cbiAgLy8gd2hlbiB3ZSBoYXZlIGEgY2hlY2tuYW1lIGFuZCBhbiBjbGllbnROYW1lLCB0aGUgcmVzcG9uc2UgaXMgZGlmZmVyZW50LCB0aGVcbiAgLy8gZGF0YSBpcyBub3QgYW4gYXJyYXksIGJ1dCBjb250YWlucyB0aGUgc2FtZSBpbmZvcm1hdGlvbiwgcmVjcmVhdGUgYW5kIHB1c2hcbiAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgc2luZ2xlRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgIHJlc3BvbnNlLmRhdGEucHVzaChzaW5nbGVEYXRhKTtcbiAgfVxuICB2YXIgZmlsdGVyZWREYXRhID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICB2YXIgZGF0YXBvaW50cyA9IFtdO1xuICAgIHZhciBzdGFydGluZ1RpbWVzdGFtcCA9IDA7XG4gICAgLy8gYW4gZXZlbnQgd2l0aCBjbGllbnQgcGFyYW0gaGFzIGEgdGltZXN0YW1wIGF0IHRoZSB0b3BsZXZlbFxuICAgIGlmIChhbkV2ZW50LnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGFydGluZ1RpbWVzdGFtcCA9IGFuRXZlbnQudGltZXN0YW1wIC0gKDYwICogYW5FdmVudC5jaGVjay5oaXN0b3J5Lmxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChhbkV2ZW50Lmxhc3RfZXhlY3V0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0YXJ0aW5nVGltZXN0YW1wID0gYW5FdmVudC5sYXN0X2V4ZWN1dGlvbiAtICg2MCAqIGFuRXZlbnQuaGlzdG9yeS5sZW5ndGgpO1xuICAgIH1cbiAgICAvLyB0aW1lIG5lZWRzIHRvIGJlIGluIE1TLCB3ZSBnZXQgRVBPQ0ggZnJvbSBTZW5zdVxuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgYW5FdmVudC5jaGVjay5oaXN0b3J5Lmxlbmd0aDsgeSsrKSB7XG4gICAgICBkYXRhcG9pbnRzW3ldID0gW2FuRXZlbnQuY2hlY2suaGlzdG9yeVt5XSwgKHN0YXJ0aW5nVGltZXN0YW1wICsgKDYwICogeSkpICogMTAwMF07XG4gICAgfVxuICAgIGFuRXZlbnQuZGF0YXBvaW50cyA9IGRhdGFwb2ludHM7XG4gICAgLy8gc2V0IHRoZSB0YXJnZXQgdG8gYmUgdGhlIGNoZWNrIG5hbWVcbiAgICBhbkV2ZW50LnRhcmdldCA9IGFuRXZlbnQuY2xpZW50Lm5hbWU7XG4gICAgLypcbiAgICBpZiAoYW5FdmVudC5jaGVjay5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFuRXZlbnQudGFyZ2V0ID0gYW5FdmVudC5jaGVjay5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbkV2ZW50LnRhcmdldCA9IGFuRXZlbnQuY2hlY2s7XG4gICAgfVxuICAgICovXG4gICAgYW5FdmVudC5jbGllbnROYW1lID0gYW5FdmVudC5jbGllbnQubmFtZTtcbiAgICBpZiAoaW5jbHVkZUV2ZW50VGFyZ2V0KGFUYXJnZXQsIGFuRXZlbnQpKSB7XG4gICAgICBpZiAoIWFuRXZlbnQuc2lsZW5jZWQpIHtcbiAgICAgICAgZmlsdGVyZWREYXRhLnB1c2goYW5FdmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCAmJiAhYVRhcmdldC5oaWRlU2lsZW5jZWRFdmVudHMpIHtcbiAgICAgICAgZmlsdGVyZWREYXRhLnB1c2goYW5FdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBuZXdSZXNwb25zZSA9IHsgZGF0YTogZmlsdGVyZWREYXRhIH07XG5cbiAgcmV0dXJuIG5ld1Jlc3BvbnNlO1xufVxuXG5cbmZ1bmN0aW9uIGNvbnZlcnRFdmVudHNUb0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG4gIC8vIGRvIG5vdCBhbGxvdyBtb2RpZmljYXRpb24gb2YgcmVzcG9uc2VcbiAgLy92YXIgbmV3UmVzcG9uc2UgPSB7fTtcblxuICB2YXIgZmlsdGVyZWREYXRhID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICB2YXIgZGF0YXBvaW50cyA9IFtdO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYW5FdmVudCkpO1xuICAgIGlmICgoYW5FdmVudC5jaGVjay5pc3N1ZWQgIT09IHVuZGVmaW5lZCkgJiYgaW5jbHVkZUV2ZW50VGFyZ2V0KGFUYXJnZXQsIGFuRXZlbnQpKSB7XG4gICAgICB2YXIgY2xpZW50U2hvcnRuYW1lID0gYW5FdmVudC5jbGllbnQubmFtZTtcbiAgICAgIC8vIHRyeSB0byBzcGxpdCBvbiBkb3Qgbm90YXRpb24sIHRha2UgdGhlIGZpcnN0IGl0ZW1cbiAgICAgIHZhciBwYXJ0cyA9IGFuRXZlbnQuY2xpZW50Lm5hbWUuc3BsaXQoXCIuXCIpO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2xpZW50U2hvcnRuYW1lID0gcGFydHNbMF07XG4gICAgICB9XG4gICAgICBhbkV2ZW50LmNsaWVudC5jbGllbnRfc2hvcnRfbmFtZSA9IGNsaWVudFNob3J0bmFtZTtcbiAgICAgIC8vIG5vdyBjcmVhdGUgdGV4dC1iYXNlZCB2ZXJzaW9uIG9mIHN0YXR1c1xuICAgICAgdmFyIHN0YXR1c1RleHQgPSBcIlVOS05PV05cIjtcbiAgICAgIGlmICgoYW5FdmVudC5jaGVjayAhPT0gdW5kZWZpbmVkKSAmJiAoYW5FdmVudC5jaGVjay5zdGF0dXMgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc3dpdGNoIChhbkV2ZW50LmNoZWNrLnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHN0YXR1c1RleHQgPSBcIk9LXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJXQVJOSU5HXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBzdGF0dXNUZXh0ID0gXCJDUklUSUNBTFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgc3RhdHVzVGV4dCA9IFwiVU5LTk9XTlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN0YXR1c1RleHQgPSBcIlVOS05PV05cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhbkV2ZW50LmNoZWNrLnN0YXR1c190ZXh0ID0gc3RhdHVzVGV4dDtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICB0aW1lc3RhbXA6IChhbkV2ZW50LmNoZWNrLmlzc3VlZCAqIDEwMDApLFxuICAgICAgICBjaGVja19uYW1lOiBhbkV2ZW50LmNoZWNrLm5hbWUsXG4gICAgICAgIGNsaWVudDogYW5FdmVudC5jbGllbnQsXG4gICAgICAgIGNoZWNrOiBhbkV2ZW50LmNoZWNrLFxuICAgICAgICBvY2N1cnJlbmNlczogYW5FdmVudC5vY2N1cnJlbmNlcyxcbiAgICAgICAgb2NjdXJyZW5jZXNfd2F0ZXJtYXJrOiBhbkV2ZW50Lm9jY3VycmVuY2VzX3dhdGVybWFyayxcbiAgICAgICAgYWN0aW9uOiBhbkV2ZW50LmFjdGlvbixcbiAgICAgICAgaWQ6IGFuRXZlbnQuaWQsXG4gICAgICAgIGxhc3Rfc3RhdGVfY2hhbmdlOiAoYW5FdmVudC5sYXN0X3N0YXRlX2NoYW5nZSAqIDEwMDApLFxuICAgICAgICBsYXN0X29rOiAoYW5FdmVudC5sYXN0X29rICogMTAwMCksXG4gICAgICAgIHNpbGVuY2VkOiBhbkV2ZW50LnNpbGVuY2VkLFxuICAgICAgICBzaWxlbmNlZF9ieTogYW5FdmVudC5zaWxlbmNlZF9ieVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEuY2hlY2suaXNzdWVkID0gZGF0YS5jaGVjay5pc3N1ZWQgKiAxMDAwO1xuICAgICAgICBkYXRhLmNoZWNrLmV4ZWN1dGVkID0gZGF0YS5jaGVjay5leGVjdXRlZCAqIDEwMDA7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgfVxuICAgICAgZGF0YXBvaW50cy5wdXNoKGRhdGEpO1xuICAgICAgYW5FdmVudC5kYXRhcG9pbnRzID0gZGF0YXBvaW50cztcbiAgICAgIGRlbGV0ZSBhbkV2ZW50LmNoZWNrO1xuICAgICAgZGVsZXRlIGFuRXZlbnQuY2xpZW50O1xuICAgICAgYW5FdmVudC50eXBlID0gXCJkb2NzXCI7XG4gICAgICBpZiAoIWFuRXZlbnQuc2lsZW5jZWQpIHtcbiAgICAgICAgZmlsdGVyZWREYXRhLnB1c2goYW5FdmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCAmJiAhYVRhcmdldC5oaWRlU2lsZW5jZWRFdmVudHMpIHtcbiAgICAgICAgZmlsdGVyZWREYXRhLnB1c2goYW5FdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBuZXdSZXNwb25zZSA9IHsgZGF0YTogZmlsdGVyZWREYXRhIH07XG5cbiAgLy92YXIgc3RyID0gSlNPTi5zdHJpbmdpZnkobmV3UmVzcG9uc2UsIG51bGwsIDIpO1xuICAvL2NvbnNvbGUubG9nKHN0cik7XG4gIHJldHVybiBuZXdSZXNwb25zZTtcbn1cblxuLyoqXG4gKiBUaGUgdGFrZXMgL2V2ZW50cyBvdXRwdXQgZnJvbSBTZW5zdSBhbmQgcmV0dXJucyB0aGUgZm9sbG93aW5nOlxuICogQ291bnQgb2YgV0FSTklORywgYW5kIE51bWJlciBTaWxlbmNlZFxuICogQ291bnQgb2YgQ1JJVElDQUwsIGFuZCBudW1iZXIgc2lsZW5jZWRcbiAqIENvdW50IG9mIFVOS05PV04sIGFuZCBudW1iZXIgc2lsZW5jZWRcbiAqIENvdW50IG9mIGFsbCBFdmVudHNcbiAqIENvdW50IG9mIGFsbCBFdmVudHMgbm90IFNpbGVuY2VkXG4gKiBDb3VudCBvZiBhbGwgU2lsZW5jZWQgRXZlbnRzXG4gKiBDb3VudCBvZiBDbGllbnRzIFNpbGVuY2VkXG4gKiBDb3VudCBvZiBDaGVja3MgU2lsZW5jZWRcbiAqXG4gKiBGaWx0ZXJzIGFyZSBhbHNvIGFwcGxpZWRcbiAqXG4gKiBAcGFyYW0gIHtbdHlwZV19IHRhcmdldCAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRFdmVudHNUb0V2ZW50TWV0cmljc0pTT04oYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG4gIC8vIHRpbWVzdGFtcCBpcyB0YWtlbiBmcm9tIGZpcnN0IGl0ZW0gaW4gcmVzcG9uc2VcbiAgdmFyIHRpbWVzdGFtcCA9IDA7XG4gIHRyeSB7XG4gICAgdGltZXN0YW1wID0gcmVzcG9uc2UuZGF0YVswXS5jaGVjay5pc3N1ZWQgKiAxMDAwO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBkbyBub3RoaW5nXG4gIH1cbiAgdmFyIGV2ZW50TWV0cmljcyA9IHtcbiAgICB0YXJnZXQ6IFwiYWxsRXZlbnRzXCIsXG4gICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgbnVtRXZlbnRzOiAwLFxuICAgIG51bVNpbGVuY2VkOiAwLFxuICAgIG51bUNsaWVudHNTaWxlbmNlZDogMCxcbiAgICBudW1DaGVja3NTaWxlbmNlZDogMCxcbiAgICBudW1XYXJuaW5nRXZlbnRzOiAwLFxuICAgIG51bVdhcm5pbmdFdmVudHNTaWxlbmNlZDogMCxcbiAgICBudW1Dcml0aWNhbEV2ZW50czogMCxcbiAgICBudW1Dcml0aWNhbEV2ZW50c1NpbGVuY2VkOiAwLFxuICAgIG51bVVua25vd25FdmVudHM6IDAsXG4gICAgbnVtVW5rbm93bkV2ZW50c1NpbGVuY2VkOiAwXG4gIH07XG4gIHZhciBjbGllbnROYW1lcyA9IFtdO1xuICB2YXIgY2hlY2tOYW1lcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYW5FdmVudCA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgaWYgKGFuRXZlbnQuY2hlY2suaXNzdWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICgoYW5FdmVudC5jaGVjayAhPT0gdW5kZWZpbmVkKSAmJiAoYW5FdmVudC5jaGVjay5zdGF0dXMgIT09IHVuZGVmaW5lZCkgJiYgaW5jbHVkZUV2ZW50VGFyZ2V0KGFUYXJnZXQsIGFuRXZlbnQpKSB7XG4gICAgICAgIGV2ZW50TWV0cmljcy5udW1FdmVudHMgKz0gMTtcbiAgICAgICAgc3dpdGNoIChhbkV2ZW50LmNoZWNrLnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1XYXJuaW5nRXZlbnRzICs9IDE7XG4gICAgICAgICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCkge1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtV2FybmluZ0V2ZW50c1NpbGVuY2VkICs9IDE7XG4gICAgICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1TaWxlbmNlZCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgZXZlbnRNZXRyaWNzLm51bUNyaXRpY2FsRXZlbnRzICs9IDE7XG4gICAgICAgICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCkge1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtQ3JpdGljYWxFdmVudHNTaWxlbmNlZCArPSAxO1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtU2lsZW5jZWQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBldmVudE1ldHJpY3MubnVtVW5rbm93bkV2ZW50cyArPSAxO1xuICAgICAgICAgICAgaWYgKGFuRXZlbnQuc2lsZW5jZWQpIHtcbiAgICAgICAgICAgICAgZXZlbnRNZXRyaWNzLm51bVVua25vd25FdmVudHNTaWxlbmNlZCArPSAxO1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtU2lsZW5jZWQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBzdG9yZSB0aGUgY2xpZW50IG5hbWVzIHRvIGNvdW50IGxhdGVyXG4gICAgICBpZiAoY2xpZW50TmFtZXMuaW5kZXhPZihhbkV2ZW50LmNsaWVudC5uYW1lKSA8IDApIHtcbiAgICAgICAgY2xpZW50TmFtZXMucHVzaChhbkV2ZW50LmNsaWVudC5uYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIHN0b3JlIHRoZSBjaGVjayBuYW1lcyB0byBjb3VudCBsYXRlclxuICAgICAgaWYgKGNoZWNrTmFtZXMuaW5kZXhPZihhbkV2ZW50LmNoZWNrLm5hbWUpIDwgMCkge1xuICAgICAgICBjaGVja05hbWVzLnB1c2goYW5FdmVudC5jaGVjay5uYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIGluc3BlY3Qgc2lsZW5jZWRfYnkgZm9yIGNsaWVudG5hbWU6Kiwgd2ljaCBtZWFucyB0aGUgY2xpZW50IGlzIHNpbGVuY2VkXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuRXZlbnQuc2lsZW5jZWRfYnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFuRXZlbnQuc2lsZW5jZWRfYnlbaV0uaW5kZXhPZihcIipcIikgPj0gMCkge1xuICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1DbGllbnRzU2lsZW5jZWQgKz0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudE1ldHJpY3MubnVtQ2hlY2tzU2lsZW5jZWQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBldmVudE1ldHJpY3MubnVtQ2xpZW50c1NpbGVuY2VkID0gY2xpZW50TmFtZXMubGVuZ3RoO1xuICBldmVudE1ldHJpY3MubnVtQ2hlY2tzU2lsZW5jZWQgPSBjaGVja05hbWVzLmxlbmd0aDtcbiAgcmVzcG9uc2UuZGF0YSA9IFt7XG4gICAgdGFyZ2V0OiBcImFsbEV2ZW50c1wiLFxuICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgIHR5cGU6IFwiZG9jc1wiLFxuICAgIGRhdGFwb2ludHM6IFtldmVudE1ldHJpY3NdXG4gIH1dO1xuICAvL3ZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMik7XG4gIC8vY29uc29sZS5sb2coc3RyKTtcbiAgLy92YXIgeCA9IHJlc3BvbnNlLmRhdGFbMF0uZGF0YXBvaW50c1swXVsxXTtcbiAgLy9jb25zb2xlLmxvZyhcIlggPSBcIiArIHgpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbi8qKlxuICogW2NvbnZlcnRFdmVudHNUb0V2ZW50TWV0cmljcyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gYVRhcmdldCAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2VzIFtkZXNjcmlwdGlvbl1cbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydEV2ZW50c1RvRXZlbnRNZXRyaWNzKGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICAvLyBmaW5kIGEgcmVzcG9uc2UgdGhhdCBtYXRjaGVzIHRoZSB0YXJnZXRcbiAgdmFyIHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JUYXJnZXQoYVRhcmdldCwgcmVzcG9uc2VzKTtcbiAgdmFyIG5ld1Jlc3BvbnNlID0geyBkYXRhOiBbXX07XG4gIC8vIHRpbWVzdGFtcCBpcyB0YWtlbiBmcm9tIGZpcnN0IGl0ZW0gaW4gcmVzcG9uc2VcbiAgdmFyIHRpbWVzdGFtcCA9IDA7XG4gIHRyeSB7XG4gICAgdGltZXN0YW1wID0gcmVzcG9uc2UuZGF0YVswXS5jaGVjay5pc3N1ZWQgKiAxMDAwO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBkbyBub3RoaW5nXG4gIH1cbiAgdmFyIGV2ZW50TWV0cmljcyA9IHtcbiAgICB0YXJnZXQ6IFwiYWxsRXZlbnRzXCIsXG4gICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgbnVtRXZlbnRzOiAwLjAsXG4gICAgbnVtU2lsZW5jZWQ6IDAuMCxcbiAgICBudW1DbGllbnRzU2lsZW5jZWQ6IDAuMCxcbiAgICBudW1DaGVja3NTaWxlbmNlZDogMC4wLFxuICAgIG51bVdhcm5pbmdFdmVudHM6IDAuMCxcbiAgICBudW1XYXJuaW5nRXZlbnRzU2lsZW5jZWQ6IDAuMCxcbiAgICBudW1Dcml0aWNhbEV2ZW50czogMC4wLFxuICAgIG51bUNyaXRpY2FsRXZlbnRzU2lsZW5jZWQ6IDAuMCxcbiAgICBudW1Vbmtub3duRXZlbnRzOiAwLjAsXG4gICAgbnVtVW5rbm93bkV2ZW50c1NpbGVuY2VkOiAwLjBcbiAgfTtcbiAgdmFyIGNsaWVudE5hbWVzID0gW107XG4gIHZhciBjaGVja05hbWVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICBpZiAoYW5FdmVudC5jaGVjay5pc3N1ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKChhbkV2ZW50LmNoZWNrICE9PSB1bmRlZmluZWQpICYmIChhbkV2ZW50LmNoZWNrLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSAmJiBpbmNsdWRlRXZlbnRUYXJnZXQoYVRhcmdldCwgYW5FdmVudCkpIHtcbiAgICAgICAgZXZlbnRNZXRyaWNzLm51bUV2ZW50cyArPSAxLjA7XG4gICAgICAgIHN3aXRjaCAoYW5FdmVudC5jaGVjay5zdGF0dXMpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBldmVudE1ldHJpY3MubnVtV2FybmluZ0V2ZW50cyArPSAxLjA7XG4gICAgICAgICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCkge1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtV2FybmluZ0V2ZW50c1NpbGVuY2VkICs9IDEuMDtcbiAgICAgICAgICAgICAgZXZlbnRNZXRyaWNzLm51bVNpbGVuY2VkICs9IDEuMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1Dcml0aWNhbEV2ZW50cyArPSAxLjA7XG4gICAgICAgICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZCkge1xuICAgICAgICAgICAgICBldmVudE1ldHJpY3MubnVtQ3JpdGljYWxFdmVudHNTaWxlbmNlZCArPSAxLjA7XG4gICAgICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1TaWxlbmNlZCArPSAxLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXZlbnRNZXRyaWNzLm51bVVua25vd25FdmVudHMgKz0gMS4wO1xuICAgICAgICAgICAgaWYgKGFuRXZlbnQuc2lsZW5jZWQpIHtcbiAgICAgICAgICAgICAgZXZlbnRNZXRyaWNzLm51bVVua25vd25FdmVudHNTaWxlbmNlZCArPSAxLjA7XG4gICAgICAgICAgICAgIGV2ZW50TWV0cmljcy5udW1TaWxlbmNlZCArPSAxLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gc3RvcmUgdGhlIGNsaWVudCBuYW1lcyB0byBjb3VudCBsYXRlclxuICAgICAgaWYgKGNsaWVudE5hbWVzLmluZGV4T2YoYW5FdmVudC5jbGllbnQubmFtZSkgPCAxLjApIHtcbiAgICAgICAgY2xpZW50TmFtZXMucHVzaChhbkV2ZW50LmNsaWVudC5uYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIHN0b3JlIHRoZSBjaGVjayBuYW1lcyB0byBjb3VudCBsYXRlclxuICAgICAgaWYgKGNoZWNrTmFtZXMuaW5kZXhPZihhbkV2ZW50LmNoZWNrLm5hbWUpIDwgMS4wKSB7XG4gICAgICAgIGNoZWNrTmFtZXMucHVzaChhbkV2ZW50LmNoZWNrLm5hbWUpO1xuICAgICAgfVxuICAgICAgLy8gaW5zcGVjdCBzaWxlbmNlZF9ieSBmb3IgY2xpZW50bmFtZToqLCB3aWNoIG1lYW5zIHRoZSBjbGllbnQgaXMgc2lsZW5jZWRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5FdmVudC5zaWxlbmNlZF9ieS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYW5FdmVudC5zaWxlbmNlZF9ieVtpXS5pbmRleE9mKFwiKlwiKSA+PSAwKSB7XG4gICAgICAgICAgZXZlbnRNZXRyaWNzLm51bUNsaWVudHNTaWxlbmNlZCArPSAxLjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnRNZXRyaWNzLm51bUNoZWNrc1NpbGVuY2VkICs9IDEuMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciB0YXJnZXROYW1lID0gbnVsbDtcbiAgaWYgKGFUYXJnZXQubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGFyZ2V0TmFtZSA9IGFUYXJnZXQubmFtZTtcbiAgfVxuICBpZiAoYVRhcmdldC5hbGlhc1JlcGxhY2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICB0YXJnZXROYW1lID0gYVRhcmdldC5hbGlhc1JlcGxhY2VkO1xuICB9XG4gIG5ld1Jlc3BvbnNlLmRhdGEgPSBbe1xuICAgIHRhcmdldDogdGFyZ2V0TmFtZSxcbiAgICBkYXRhcG9pbnRzOiBbXG4gICAgICBbIDAuMDAsIHRpbWVzdGFtcCBdXG4gICAgXVxuICB9XTtcbiAgc3dpdGNoIChhVGFyZ2V0LmV2ZW50TWV0cmljTW9kZSkge1xuICAgIGNhc2UgXCJhbGxfZXZlbnRzX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwiYWxsX2V2ZW50c19jb3VudFwiO1xuICAgICAgfVxuICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS5kYXRhcG9pbnRzID0gW1sgZXZlbnRNZXRyaWNzLm51bUV2ZW50cywgdGltZXN0YW1wXV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYWN0aXZlX2V2ZW50c19jb3VudFwiOlxuICAgICAgaWYgKHRhcmdldE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS50YXJnZXQgPSBcImFjdGl2ZV9ldmVudHNfY291bnRcIjtcbiAgICAgIH1cbiAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0uZGF0YXBvaW50cyA9IFtbIGV2ZW50TWV0cmljcy5udW1FdmVudHMgLSBldmVudE1ldHJpY3MubnVtU2lsZW5jZWQsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNyaXRpY2FsX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwiY3JpdGljYWxfZXZlbnRzX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtQ3JpdGljYWxFdmVudHMsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNyaXRpY2FsX2FjdGl2ZV9jb3VudFwiOlxuICAgICAgaWYgKHRhcmdldE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS50YXJnZXQgPSBcImNyaXRpY2FsX2FjdGl2ZV9jb3VudFwiO1xuICAgICAgfVxuICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS5kYXRhcG9pbnRzID0gW1sgZXZlbnRNZXRyaWNzLm51bUNyaXRpY2FsRXZlbnRzIC0gZXZlbnRNZXRyaWNzLm51bUNyaXRpY2FsRXZlbnRzU2lsZW5jZWQsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNyaXRpY2FsX3NpbGVuY2VkX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwiY3JpdGljYWxfc2lsZW5jZWRfY291bnRcIjtcbiAgICAgIH1cbiAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0uZGF0YXBvaW50cyA9IFtbIGV2ZW50TWV0cmljcy5udW1Dcml0aWNhbEV2ZW50c1NpbGVuY2VkLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ3YXJuaW5nX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwid2FybmluZ19ldmVudHNfY291bnRcIjtcbiAgICAgIH1cbiAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0uZGF0YXBvaW50cyA9IFtbIGV2ZW50TWV0cmljcy5udW1XYXJuaW5nRXZlbnRzLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ3YXJuaW5nX2FjdGl2ZV9jb3VudFwiOlxuICAgICAgaWYgKHRhcmdldE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS50YXJnZXQgPSBcIndhcm5pbmdfYWN0aXZlX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtV2FybmluZ0V2ZW50cyAtIGV2ZW50TWV0cmljcy5udW1XYXJuaW5nRXZlbnRzU2lsZW5jZWQsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIndhcm5pbmdfc2lsZW5jZWRfY291bnRcIjpcbiAgICAgIGlmICh0YXJnZXROYW1lID09PSBudWxsKSB7XG4gICAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0udGFyZ2V0ID0gXCJ3YXJuaW5nX3NpbGVuY2VkX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtV2FybmluZ0V2ZW50c1NpbGVuY2VkLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ1bmtub3duX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwidW5rbm93bl9ldmVudHNfY291bnRcIjtcbiAgICAgIH1cbiAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0uZGF0YXBvaW50cyA9IFtbIGV2ZW50TWV0cmljcy5udW1Vbmtub3duRXZlbnRzLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ1bmtub3duX2FjdGl2ZV9jb3VudFwiOlxuICAgICAgaWYgKHRhcmdldE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS50YXJnZXQgPSBcInVua25vd25fYWN0aXZlX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtVW5rbm93bkV2ZW50cyAtIGV2ZW50TWV0cmljcy5udW1Vbmtub3duRXZlbnRzU2lsZW5jZWQsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInVua25vd25fc2lsZW5jZWRfY291bnRcIjpcbiAgICAgIGlmICh0YXJnZXROYW1lID09PSBudWxsKSB7XG4gICAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0udGFyZ2V0ID0gXCJ1bmtub3duX3NpbGVuY2VkX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtVW5rbm93bkV2ZW50c1NpbGVuY2VkLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJzaWxlbmNlZF9jb3VudFwiOlxuICAgICAgaWYgKHRhcmdldE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS50YXJnZXQgPSBcInNpbGVuY2VkX2V2ZW50c19jb3VudFwiO1xuICAgICAgfVxuICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS5kYXRhcG9pbnRzID0gW1sgZXZlbnRNZXRyaWNzLm51bVNpbGVuY2VkLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjbGllbnRzX3NpbGVuY2VkX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwiY2xpZW50c19zaWxlbmNlZF9jb3VudFwiO1xuICAgICAgfVxuICAgICAgbmV3UmVzcG9uc2UuZGF0YVswXS5kYXRhcG9pbnRzID0gW1sgZXZlbnRNZXRyaWNzLm51bUNsaWVudHNTaWxlbmNlZCwgdGltZXN0YW1wXV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2hlY2tzX3NpbGVuY2VkX2NvdW50XCI6XG4gICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLnRhcmdldCA9IFwiY2hlY2tzX3NpbGVuY2VkX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtQ2hlY2tzU2lsZW5jZWQsIHRpbWVzdGFtcF1dO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0YXJnZXROYW1lID09PSBudWxsKSB7XG4gICAgICAgIG5ld1Jlc3BvbnNlLmRhdGFbMF0udGFyZ2V0ID0gXCJhbGxfZXZlbnRzX2NvdW50XCI7XG4gICAgICB9XG4gICAgICBuZXdSZXNwb25zZS5kYXRhWzBdLmRhdGFwb2ludHMgPSBbWyBldmVudE1ldHJpY3MubnVtRXZlbnRzLCB0aW1lc3RhbXBdXTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIC8vdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KG5ld1Jlc3BvbnNlLCBudWxsLCAyKTtcbiAgLy9jb25zb2xlLmxvZyhzdHIpO1xuICByZXR1cm4gbmV3UmVzcG9uc2U7XG59XG5cbmV4cG9ydCB7XG4gIGNvbnZlcnRFdmVudHNUb0pTT04sXG4gIGNvbnZlcnRFdmVudHNUb0RhdGFQb2ludHMsXG4gIGNvbnZlcnRFdmVudHNUb0V2ZW50TWV0cmljcyxcbiAgY29udmVydEV2ZW50c1RvRXZlbnRNZXRyaWNzSlNPTlxufTtcbiIsIlxuaW1wb3J0IHsgZ2V0UmVzcG9uc2VGb3JUYXJnZXQgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5mdW5jdGlvbiBjb252ZXJ0UmVzdWx0c1RvVGFibGUoYVRhcmdldCwgcmVzcG9uc2VzKSB7XG4gIHZhciByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yVGFyZ2V0KGFUYXJnZXQsIHJlc3BvbnNlcyk7XG5cbiAgLy8gdGhlIHJlc3VsdCBoYXMgbm8gXCJkYXRhcG9pbnRzXCIsIG5lZWQgdG8gY3JlYXRlIGl0IGJhc2VkIG9uIHRoZSBjaGVjayBkYXRhXG4gIC8vIHdoZW4gd2UgaGF2ZSBhIGNoZWNrbmFtZSBhbmQgYSBjbGllbnROYW1lLCB0aGUgcmVzcG9uc2UgaXMgZGlmZmVyZW50LCB0aGVcbiAgLy8gZGF0YSBpcyBub3QgYW4gYXJyYXksIGJ1dCBjb250YWlucyB0aGUgc2FtZSBpbmZvcm1hdGlvbiwgcmVjcmVhdGUgYW5kIHB1c2hcbiAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgc2luZ2xlRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgIHJlc3BvbnNlLmRhdGEucHVzaChzaW5nbGVEYXRhKTtcbiAgfVxuICAvLyB0aGlzIHdpbGwgYmUgY29sbGFwc2VkIGludG8gdGFibGUgZm9ybWF0LCB3aGVyZSB0aGUgY29sdW1ucyBhcmUgcHJlZGVmaW5lZFxuICAvLyBhbmQgZWFjaCByb3cgaXMgYSByZXNwb25zZSBmb3JtYXR0ZWQgdG8gdGhlIGNvbHVtbnNcbiAgdmFyIHJvd0RhdGEgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJvd0luZm8gPSByZXNwb25zZS5kYXRhW2ldO1xuICAgIHZhciBhUm93ID0gW1xuICAgICAgcm93SW5mby5jaGVjay5pc3N1ZWQgKiAxMDAwLFxuICAgICAgcm93SW5mby5jbGllbnQsXG4gICAgICByb3dJbmZvLmNoZWNrLm5hbWUsXG4gICAgICByb3dJbmZvLmNoZWNrLnN0YXR1cyxcbiAgICAgIHJvd0luZm8uY2hlY2suaXNzdWVkICogMTAwMCxcbiAgICAgIHJvd0luZm8uY2hlY2suZXhlY3V0ZWQgKiAxMDAwLFxuICAgICAgcm93SW5mby5jaGVjay5vdXRwdXQsXG4gICAgICByb3dJbmZvLmNoZWNrLnR5cGUsXG4gICAgICByb3dJbmZvLmNoZWNrLnRocmVzaG9sZHMud2FybmluZyxcbiAgICAgIHJvd0luZm8uY2hlY2sudGhyZXNob2xkcy5jcml0aWNhbFxuICAgIF07XG4gICAgLy8gbm93IHB1c2ggaW50byByb3dEYXRhXG4gICAgcm93RGF0YS5wdXNoKGFSb3cpO1xuICB9XG4gIC8vIGNvbGxhcHNlIGV2ZXJ5dGhpbmcgaW50byBkYXRhWzBdXG4gIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVswXTtcbiAgdmFyIGRhdGFwb2ludHMgPSBbXTtcbiAgZGF0YXBvaW50c1swXSA9IFthbkV2ZW50LmNoZWNrLnN0YXR1cywgKGFuRXZlbnQuY2hlY2suaXNzdWVkICogMTAwMCldO1xuICBhbkV2ZW50LmRhdGFwb2ludHMgPSBkYXRhcG9pbnRzO1xuICBhbkV2ZW50LnR5cGUgPSBcInRhYmxlXCI7XG4gIGFuRXZlbnQuY29sdW1ucyA9IFtcbiAgICB7IHRleHQ6IFwiVGltZVwiLCB0eXBlOiBcImRhdGVcIn0sXG4gICAgeyB0ZXh0OiBcImNsaWVudFwiIH0sXG4gICAgeyB0ZXh0OiBcImNoZWNrLm5hbWVcIiB9LFxuICAgIHsgdGV4dDogXCJjaGVjay5zdGF0dXNcIiB9LFxuICAgIHsgdGV4dDogXCJjaGVjay5pc3N1ZWRcIiwgdHlwZTogXCJkYXRlXCIgfSxcbiAgICB7IHRleHQ6IFwiY2hlY2suZXhlY3V0ZWRcIiwgdHlwZTogXCJkYXRlXCIgfSxcbiAgICB7IHRleHQ6IFwiY2hlY2sub3V0cHV0XCIgfSxcbiAgICB7IHRleHQ6IFwiY2hlY2sudHlwZVwiIH0sXG4gICAgeyB0ZXh0OiBcImNoZWNrLnRocmVzaG9sZHMud2FybmluZ1wiIH0sXG4gICAgeyB0ZXh0OiBcImNoZWNrLnRocmVzaG9sZHMuY3JpdGljYWxcIiB9XG4gIF07XG4gIGFuRXZlbnQucm93cyA9IHJvd0RhdGE7XG4gIC8vIHRydW5jYXRlIHRoZSByZXN0XG4gIHJlc3BvbnNlLmRhdGEgPSBbYW5FdmVudF07XG4gIC8vdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLCBudWxsLCAyKTtcbiAgLy9jb25zb2xlLmxvZyhzdHIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbi8qXG5SZXNwb25zZSBjb21lIGJhY2sgYXM6XG57XG5cImNsaWVudFwiOiBcInAzLWdyYXBoaXRlLXQxXCIsXG5cImNoZWNrXCI6IHtcbiAgXCJ0aHJlc2hvbGRzXCI6IHtcbiAgICBcIndhcm5pbmdcIjogMTIwLFxuICAgIFwiY3JpdGljYWxcIjogMTgwXG4gIH0sXG4gIFwibmFtZVwiOiBcImtlZXBhbGl2ZVwiLFxuICBcImlzc3VlZFwiOiAxNDgyMDY3Mjg0LFxuICBcImV4ZWN1dGVkXCI6IDE0ODIwNjcyODQsXG4gIFwib3V0cHV0XCI6IFwiS2VlcGFsaXZlIHNlbnQgZnJvbSBjbGllbnQgMyBzZWNvbmRzIGFnb1wiLFxuICBcInN0YXR1c1wiOiAwLFxuICBcInR5cGVcIjogXCJzdGFuZGFyZFwiXG59XG59XG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRSZXN1bHRzVG9KU09OKGFUYXJnZXQsIHJlc3BvbnNlcykge1xuICB2YXIgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvclRhcmdldChhVGFyZ2V0LCByZXNwb25zZXMpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhbkV2ZW50ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICB2YXIgZGF0YXBvaW50cyA9IFtdO1xuICAgIGlmIChhbkV2ZW50LmNoZWNrLmlzc3VlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgdGltZXN0YW1wOiAoYW5FdmVudC5jaGVjay5pc3N1ZWQgKiAxMDAwKSxcbiAgICAgICAgbWVzc2FnZTogYW5FdmVudC5jaGVjay5uYW1lLFxuICAgICAgICBjbGllbnQ6IGFuRXZlbnQuY2xpZW50LFxuICAgICAgICBjaGVjazoge1xuICAgICAgICAgIG5hbWU6IGFuRXZlbnQuY2hlY2submFtZSxcbiAgICAgICAgICBpc3N1ZWQ6IChhbkV2ZW50LmNoZWNrLmlzc3VlZCAqIDEwMDApLFxuICAgICAgICAgIGV4ZWN1dGVkOiAoYW5FdmVudC5jaGVjay5leGVjdXRlZCAqIDEwMDApLFxuICAgICAgICAgIG91dHB1dDogYW5FdmVudC5jaGVjay5vdXRwdXQsXG4gICAgICAgICAgc3RhdHVzOiBhbkV2ZW50LmNoZWNrLnN0YXR1cyxcbiAgICAgICAgICB0eXBlOiBhbkV2ZW50LmNoZWNrLnR5cGVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRhdGFwb2ludHMucHVzaChkYXRhKTtcbiAgICAgIGFuRXZlbnQuZGF0YXBvaW50cyA9IGRhdGFwb2ludHM7XG4gICAgICBkZWxldGUgYW5FdmVudC5jaGVjaztcbiAgICAgIGRlbGV0ZSBhbkV2ZW50LmNsaWVudDtcbiAgICAgIGFuRXZlbnQudHlwZSA9IFwiZG9jc1wiO1xuICAgIH1cbiAgfVxuICAvL3ZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMik7XG4gIC8vY29uc29sZS5sb2coc3RyKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vKipcbiAqIFtjb252ZXJ0UmVzdWx0c1RvRGF0YVBvaW50cyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVzcG9uc2UgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5mdW5jdGlvbiBjb252ZXJ0UmVzdWx0c1RvRGF0YVBvaW50cyhhVGFyZ2V0LCByZXNwb25zZXMpIHtcbiAgdmFyIHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JUYXJnZXQoYVRhcmdldCwgcmVzcG9uc2VzKTtcblxuICAvLyB0aGUgcmVzdWx0IGhhcyBubyBcImRhdGFwb2ludHNcIiwgbmVlZCB0byBjcmVhdGUgaXQgYmFzZWQgb24gdGhlIGNoZWNrIGRhdGFcbiAgLy8gd2hlbiB3ZSBoYXZlIGEgY2hlY2tuYW1lIGFuZCBhbiBjbGllbnROYW1lLCB0aGUgcmVzcG9uc2UgaXMgZGlmZmVyZW50LCB0aGVcbiAgLy8gZGF0YSBpcyBub3QgYW4gYXJyYXksIGJ1dCBjb250YWlucyB0aGUgc2FtZSBpbmZvcm1hdGlvbiwgcmVjcmVhdGUgYW5kIHB1c2hcbiAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgc2luZ2xlRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgIHJlc3BvbnNlLmRhdGEucHVzaChzaW5nbGVEYXRhKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYW5FdmVudCA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgLy92YXIgc3RyID0gSlNPTi5zdHJpbmdpZnkoYW5FdmVudCwgbnVsbCwgMik7XG4gICAgLy9jb25zb2xlLmxvZyhzdHIpO1xuICAgIHZhciBkYXRhcG9pbnRzID0gW107XG4gICAgaWYgKGFuRXZlbnQuY2hlY2suaXNzdWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRhdGFwb2ludHNbMF0gPSBbYW5FdmVudC5jaGVjay5zdGF0dXMsIChhbkV2ZW50LmNoZWNrLmlzc3VlZCAqIDEwMDApXTtcbiAgICAgIC8vIHRoZSBkdXJhdGlvbiBpcyBoZXJlLi4uXG4gICAgICAvLyBkYXRhcG9pbnRzWzBdID0gW2FuRXZlbnQuY2hlY2suZHVyYXRpb24sIChhbkV2ZW50LmNoZWNrLmlzc3VlZCAqIDEwMDApXTtcbiAgICB9XG4gICAgYW5FdmVudC5kYXRhcG9pbnRzID0gZGF0YXBvaW50cztcbiAgICAvLyBzZXQgdGhlIHRhcmdldCB0byBiZSB0aGUgY2hlY2sgbmFtZVxuICAgIGlmIChhbkV2ZW50LmNoZWNrLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgYW5FdmVudC50YXJnZXQgPSBhbkV2ZW50LmNoZWNrLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuRXZlbnQudGFyZ2V0ID0gYW5FdmVudC5jaGVjaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5cbmV4cG9ydCB7XG4gIGNvbnZlcnRSZXN1bHRzVG9UYWJsZSxcbiAgY29udmVydFJlc3VsdHNUb0RhdGFQb2ludHMsXG4gIGNvbnZlcnRSZXN1bHRzVG9KU09OXG59O1xuIiwiXG5pbXBvcnQgeyBRdWVyeUN0cmwgfSBmcm9tIFwiZ3JhZmFuYS9hcHAvcGx1Z2lucy9zZGtcIjtcblxuZXhwb3J0IGNsYXNzIFNlbnN1Q29yZURhdGFzb3VyY2VRdWVyeUN0cmwgZXh0ZW5kcyBRdWVyeUN0cmwge1xuICBzdGF0aWMgdGVtcGxhdGVVcmwgPSBcImRhdGFzb3VyY2Uvc2Vuc3UtY29yZS9wYXJ0aWFscy9xdWVyeS5lZGl0b3IuaHRtbFwiO1xuXG4gIHNjb3BlOiBhbnk7XG4gIHVpU2VnbWVudFNydjogYW55O1xuICB0ZW1wbGF0ZVNydjogYW55O1xuICBzb3VyY2VUeXBlczogYW55W107XG4gIGRpbWVuc2lvblR5cGVzOiBhbnk7XG4gIGZpbHRlclR5cGVzOiBhbnk7XG4gIGFnZ3JlZ2F0ZU1vZGVzOiBhbnk7XG4gIGNsaWVudFF1ZXJ5TW9kZXM6IGFueTtcbiAgZXZlbnRNZXRyaWNNb2RlczogYW55O1xuXG4gIC8qKiBAbmdJbmplY3QgKi9cbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkaW5qZWN0b3IsIHRlbXBsYXRlU3J2LCB1aVNlZ21lbnRTcnYpIHtcbiAgICBzdXBlcigkc2NvcGUsICRpbmplY3Rvcik7XG4gICAgdGhpcy5zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLnVpU2VnbWVudFNydiA9IHVpU2VnbWVudFNydjtcbiAgICB0aGlzLnRlbXBsYXRlU3J2ID0gdGVtcGxhdGVTcnY7XG4gICAgLy8gc291cmNlIHR5cGVzIGZvciB0aGUgcG9wZG93blxuICAgIHRoaXMuc291cmNlVHlwZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQWdncmVnYXRlc1wiLFxuICAgICAgICB2YWx1ZTogXCJhZ2dyZWdhdGVzXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkFnZ3JlZ2F0ZXMgYXMgSlNPTlwiLFxuICAgICAgICB2YWx1ZTogXCJhZ2dyZWdhdGVzX2pzb25cIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2hlY2sgU3Vic2NyaXB0aW9uc1wiLFxuICAgICAgICB2YWx1ZTogXCJjaGVja19zdWJzY3JpcHRpb25zXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudHNcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50c1wiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDbGllbnRzIGFzIEpTT05cIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50c19qc29uXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBIZWFsdGggYXMgSlNPTlwiLFxuICAgICAgICB2YWx1ZTogXCJjbGllbnRfaGVhbHRoX2pzb25cIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50IEhpc3RvcnlcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50X2hpc3RvcnlcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiRXZlbnRzXCIsXG4gICAgICAgIHZhbHVlOiBcImV2ZW50c1wiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJFdmVudHMgYXMgSlNPTlwiLFxuICAgICAgICB2YWx1ZTogXCJldmVudHNfanNvblwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJFdmVudCBNZXRyaWNzXCIsXG4gICAgICAgIHZhbHVlOiBcImV2ZW50X21ldHJpY3NcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiRXZlbnQgTWV0cmljcyBKU09OXCIsXG4gICAgICAgIHZhbHVlOiBcImV2ZW50X21ldHJpY3NfanNvblwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJSZXN1bHRzIGFzIEpTT05cIixcbiAgICAgICAgdmFsdWU6IFwicmVzdWx0c19qc29uXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIlJlc3VsdHMgYXMgVGFibGVcIixcbiAgICAgICAgdmFsdWU6IFwicmVzdWx0c190YWJsZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJTZW5zdSBIZWFsdGhcIixcbiAgICAgICAgdmFsdWU6IFwic2Vuc3VfaGVhbHRoX2pzb25cIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiU2lsZW5jZWQgRW50cmllc1wiLFxuICAgICAgICB2YWx1ZTogXCJzaWxlbmNlZF9lbnRyaWVzX2pzb25cIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiU3Rhc2hlc1wiLFxuICAgICAgICB2YWx1ZTogXCJzdGFzaGVzX2pzb25cIixcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gRWFjaCBzb3VyY2UgdHlwZSBoYXZlIGRpZmZlcmVudCBkaW1lbnNpb25zXG4gICAgLy8gICAvLyAgICBuYW1lIC0gbmFtZSBvZiBjaGVja1xuICAgICAgLy8gICAgYWdncmVnYXRlIC0gbmFtZSBvZiBhZ2dyZWdhdGVcbiAgICAgIC8vICAgIHR5cGUgKG1ldHJpY3xjaGVjaylcbiAgICAgIC8vICAgIHNvdXJjZSAtIEpJVCBjbGllbnRcbiAgICB0aGlzLmRpbWVuc2lvblR5cGVzID0ge1xuICAgICAgYWdncmVnYXRlczogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkFnZ3JlZ2F0ZSBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImFnZ3JlZ2F0ZU5hbWVcIixcbiAgICAgIH1dLFxuICAgICAgYWdncmVnYXRlc19qc29uOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQWdncmVnYXRlIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiYWdncmVnYXRlTmFtZVwiLFxuICAgICAgfV0sXG4gICAgICBjaGVja19zdWJzY3JpcHRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQWdncmVnYXRlIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiYWdncmVnYXRlTmFtZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBUeXBlXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrVHlwZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJTb3VyY2UgKEpJVCBDbGllbnQpXCIsXG4gICAgICAgIHZhbHVlOiBcInNvdXJjZU5hbWVcIixcbiAgICAgIH1dLFxuICAgICAgY2xpZW50czogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiLFxuICAgICAgfV0sXG4gICAgICBjbGllbnRfaGVhbHRoX2pzb246IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICB2YWx1ZTogXCJjbGllbnROYW1lXCJcbiAgICAgIH1dLFxuICAgICAgY2xpZW50X2hpc3Rvcnk6IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICB2YWx1ZTogXCJjbGllbnROYW1lXCJcbiAgICAgIH1dLFxuICAgICAgY2xpZW50c19qc29uOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50TmFtZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNoZWNrIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2hlY2tOYW1lXCIsXG4gICAgICB9XSxcbiAgICAgIGV2ZW50czogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiXG4gICAgICB9XSxcbiAgICAgIGV2ZW50c19qc29uOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50TmFtZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNoZWNrIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2hlY2tOYW1lXCJcbiAgICAgIH1dLFxuICAgICAgZXZlbnRfbWV0cmljczogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiXG4gICAgICB9XSxcbiAgICAgIGV2ZW50X21ldHJpY3NfanNvbjogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiXG4gICAgICB9XSxcbiAgICAgIHJlc3VsdHNfanNvbjogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiLFxuICAgICAgfV0sXG4gICAgICByZXN1bHRzX3RhYmxlOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50TmFtZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNoZWNrIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2hlY2tOYW1lXCIsXG4gICAgICB9XSxcbiAgICAgIHNlbnN1X2hlYWx0aF9qc29uOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50TmFtZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNoZWNrIE5hbWVcIixcbiAgICAgICAgdmFsdWU6IFwiY2hlY2tOYW1lXCIsXG4gICAgICB9XSxcbiAgICAgIHNpbGVuY2VkX2VudHJpZXNfanNvbjogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNsaWVudE5hbWVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrTmFtZVwiLFxuICAgICAgfV0sXG4gICAgICBzdGFzaGVzX2pzb246IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICB2YWx1ZTogXCJjbGllbnROYW1lXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2hlY2sgTmFtZVwiLFxuICAgICAgICB2YWx1ZTogXCJjaGVja05hbWVcIixcbiAgICAgIH1dXG4gICAgfTtcblxuICAgIC8vIHNhbWVcbiAgICB0aGlzLmZpbHRlclR5cGVzID0ge1xuICAgICAgYWdncmVnYXRlczogW1xuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogXCJOdW1iZXIgb2YgQ2hlY2tzXCIsXG4gICAgICAgICAgdmFsdWU6IFwiY2hlY2tzXCIsXG4gICAgICAgICAgdHlwZTogXCJ2YWx1ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBcIk51bWJlciBvZiBDbGllbnRzXCIsXG4gICAgICAgICAgdmFsdWU6IFwiY2xpZW50c1wiLFxuICAgICAgICAgIHR5cGU6IFwidmFsdWVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogXCJTdGF0ZSBDcml0aWNhbFwiLFxuICAgICAgICAgIHZhbHVlOiBcImNyaXRpY2FsXCIsXG4gICAgICAgICAgdHlwZTogXCJ2YWx1ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBcIlN0YXRlIE9LXCIsXG4gICAgICAgICAgdmFsdWU6IFwib2tcIixcbiAgICAgICAgICB0eXBlOiBcInZhbHVlXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6IFwiU3RhdGUgU3RhbGVcIixcbiAgICAgICAgICB2YWx1ZTogXCJzdGFsZVwiLFxuICAgICAgICAgIHR5cGU6IFwidmFsdWVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogXCJTdGF0ZSBVbmtub3duXCIsXG4gICAgICAgICAgdmFsdWU6IFwidW5rbm93blwiLFxuICAgICAgICAgIHR5cGU6IFwidmFsdWVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogXCJTdGF0ZSBXYXJuaW5nXCIsXG4gICAgICAgICAgdmFsdWU6IFwid2FybmluZ1wiLFxuICAgICAgICAgIHR5cGU6IFwidmFsdWVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogXCJUb3RhbCBDaGVja3NcIixcbiAgICAgICAgICB2YWx1ZTogXCJ0b3RhbFwiLFxuICAgICAgICAgIHR5cGU6IFwidmFsdWVcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgY2xpZW50X2hlYWx0aF9qc29uOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmV0Y2hcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBjbGllbnRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmV0Y2hcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJGaWVsZFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmllbGRcIlxuICAgICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBjbGllbnRzX2pzb246IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJmZXRjaFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lIFJlZ0V4XCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZWdleFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkZpZWxkXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJmaWVsZFwiXG4gICAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV2ZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiBcImZldGNoXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWUgUmVnRXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBcInJlZ2V4XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2hlY2sgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJGaWVsZFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmllbGRcIlxuICAgICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBldmVudHNfanNvbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiBcImZldGNoXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWUgUmVnRXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBcInJlZ2V4XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2hlY2sgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJGaWVsZFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmllbGRcIlxuICAgICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBldmVudF9tZXRyaWNzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZVwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmV0Y2hcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDbGllbnQgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJDaGVjayBOYW1lIFJlZ0V4XCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZWdleFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkZpZWxkXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJmaWVsZFwiXG4gICAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV2ZW50X21ldHJpY3NfanNvbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWVcIixcbiAgICAgICAgICAgIHZhbHVlOiBcImZldGNoXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2xpZW50IE5hbWUgUmVnRXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBcInJlZ2V4XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiQ2hlY2sgTmFtZSBSZWdFeFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVnZXhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogXCJGaWVsZFwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZmllbGRcIlxuICAgICAgICAgIH1cbiAgICAgIF0sXG4gICAgICByZXN1bHRzX2pzb246IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJmZXRjaFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkNsaWVudCBOYW1lIFJlZ0V4XCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZWdleFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiBcIkNoZWNrIE5hbWUgUmVnRXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBcInJlZ2V4XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IFwiRmllbGRcIixcbiAgICAgICAgICAgIHZhbHVlOiBcImZpZWxkXCJcbiAgICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcblxuICAgIHRoaXMuYWdncmVnYXRlTW9kZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiTGlzdFwiLFxuICAgICAgICB2YWx1ZTogXCJsaXN0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2xpZW50c1wiLFxuICAgICAgICB2YWx1ZTogXCJjbGllbnRzXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiQ2hlY2tzXCIsXG4gICAgICAgIHZhbHVlOiBcImNoZWNrc1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIlJlc3VsdHMgQ3JpdGljYWxcIixcbiAgICAgICAgdmFsdWU6IFwicmVzdWx0c19jcml0aWNhbFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIlJlc3VsdHMgT0tcIixcbiAgICAgICAgdmFsdWU6IFwicmVzdWx0c19va1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIlJlc3VsdHMgVW5rbm93blwiLFxuICAgICAgICB2YWx1ZTogXCJyZXN1bHRzX3Vua25vd25cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJSZXN1bHRzIFdhcm5pbmdcIixcbiAgICAgICAgdmFsdWU6IFwicmVzdWx0c193YXJuaW5nXCJcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuY2xpZW50UXVlcnlNb2RlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJMaXN0XCIsXG4gICAgICAgIHZhbHVlOiBcImxpc3RcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJjb3VudFwiXG4gICAgICB9XG4gICAgXTtcblxuICAgIHRoaXMuZXZlbnRNZXRyaWNNb2RlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJBbGwgRXZlbnRzXCIsXG4gICAgICAgIHZhbHVlOiBcImFsbF9ldmVudHNfY291bnRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJBY3RpdmUgRXZlbnRzXCIsXG4gICAgICAgIHZhbHVlOiBcImFjdGl2ZV9ldmVudHNfY291bnRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDcml0aWNhbCBUb3RhbCBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJjcml0aWNhbF9jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNyaXRpY2FsIEFjdGl2ZSBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJjcml0aWNhbF9hY3RpdmVfY291bnRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJDcml0aWNhbCBTaWxlbmNlZCBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJjcml0aWNhbF9zaWxlbmNlZF9jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIldhcm5pbmcgVG90YWwgQ291bnRcIixcbiAgICAgICAgdmFsdWU6IFwid2FybmluZ19jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIldhcm5pbmcgU2lsZW5jZWQgQ291bnRcIixcbiAgICAgICAgdmFsdWU6IFwid2FybmluZ19zaWxlbmNlZF9jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIldhcm5pbmcgQWN0aXZlIENvdW50XCIsXG4gICAgICAgIHZhbHVlOiBcIndhcm5pbmdfYWN0aXZlX2NvdW50XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiVW5rbm93biBUb3RhbCBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJ1bmtub3duX2NvdW50XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiVW5rbm93biBBY3RpdmUgQ291bnRcIixcbiAgICAgICAgdmFsdWU6IFwidW5rbm93bl9hY3RpdmVfY291bnRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJVbmtub3duIFNpbGVuY2VkIENvdW50XCIsXG4gICAgICAgIHZhbHVlOiBcInVua25vd25fc2lsZW5jZWRfY291bnRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogXCJTaWxlbmNlZCBUb3RhbCBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJzaWxlbmNlZF9jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNsaWVudHMgU2lsZW5jZWQgQ291bnRcIixcbiAgICAgICAgdmFsdWU6IFwiY2xpZW50c19zaWxlbmNlZF9jb3VudFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkNoZWNrcyBTaWxlbmNlZCBDb3VudFwiLFxuICAgICAgICB2YWx1ZTogXCJjaGVja3Nfc2lsZW5jZWRfY291bnRcIlxuICAgICAgfVxuICAgIF07XG4gICAgdGhpcy50YXJnZXQuY2xpZW50UXVlcnlNb2RlID0gdGhpcy50YXJnZXQuY2xpZW50UXVlcnlNb2RlIHx8IFwiY291bnRcIjtcbiAgICB0aGlzLnRhcmdldC5ldmVudE1ldHJpY01vZGUgPSB0aGlzLnRhcmdldC5ldmVudE1ldHJpY01vZGUgfHwgXCJhbGxfZXZlbnRzX2NvdW50XCI7XG5cbiAgICB0aGlzLnRhcmdldC5hZ2dyZWdhdGVNb2RlID0gdGhpcy50YXJnZXQuYWdncmVnYXRlTW9kZSB8fCBcImxpc3RcIjtcbiAgICAvLyBkZWZhdWx0IHNvdXJjZSB0eXBlIGlzIGV2ZW50c1xuICAgIHRoaXMudGFyZ2V0LnNvdXJjZVR5cGUgPSB0aGlzLnRhcmdldC5zb3VyY2VUeXBlIHx8IFwiZXZlbnRzXCI7XG4gICAgLy8gbm8gZGltZW5zaW9ucyBpbml0aWFsbHlcbiAgICB0aGlzLnRhcmdldC5kaW1lbnNpb25zID0gdGhpcy50YXJnZXQuZGltZW5zaW9ucyB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBbcmVtb3ZlRGltZW5zaW9uIGRlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGRpbWVuc2lvbiBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHJlbW92ZURpbWVuc2lvbihkaW1lbnNpb24pIHtcbiAgICBpZiAodGhpcy50YXJnZXQuZGltZW5zaW9ucykge1xuICAgICAgdGhpcy50YXJnZXQuZGltZW5zaW9ucy5zcGxpY2UodGhpcy50YXJnZXQuZGltZW5zaW9ucy5pbmRleE9mKGRpbWVuc2lvbiksIDEpO1xuICAgICAgdGhpcy5wYW5lbEN0cmwucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBbYWRkRGltZW5zaW9uIGRlc2NyaXB0aW9uXVxuICAgKi9cbiAgYWRkRGltZW5zaW9uKCkge1xuICAgIGlmICghdGhpcy50YXJnZXQuZGltZW5zaW9ucykge1xuICAgICAgdGhpcy50YXJnZXQuZGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICB2YXIgZGltZW5zaW9uc0ZvclNvdXJjZVR5cGUgPSB0aGlzLmRpbWVuc2lvblR5cGVzW3RoaXMudGFyZ2V0LnNvdXJjZVR5cGVdO1xuICAgIHZhciBkZWZhdWx0RGltZW5zaW9uVHlwZSA9IGRpbWVuc2lvbnNGb3JTb3VyY2VUeXBlWzBdLnZhbHVlO1xuICAgIHRoaXMudGFyZ2V0LmRpbWVuc2lvbnMucHVzaCh7XG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBkaW1lbnNpb25UeXBlOiBkZWZhdWx0RGltZW5zaW9uVHlwZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFtnZXREaW1lbnNpb25WYWx1ZXMgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gZGltZW5zaW9uIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZ2V0RGltZW5zaW9uVmFsdWVzKGRpbWVuc2lvbikge1xuICAgIGlmIChkaW1lbnNpb24pIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJoYXZlIGEgZGltZW5zaW9uLCBnZXR0aW5nIGF2YWlsYWJsZSB2YWx1ZXNcIik7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhc291cmNlLmRpbWVuc2lvbkZpbmRWYWx1ZXModGhpcy50YXJnZXQsIGRpbWVuc2lvbilcbiAgICAgICAgLnRoZW4odGhpcy51aVNlZ21lbnRTcnYudHJhbnNmb3JtVG9TZWdtZW50cyh0cnVlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFtyZW1vdmVGaWx0ZXIgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gZGltZW5zaW9uIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgcmVtb3ZlRmlsdGVyKGZpbHRlcikge1xuICAgIGlmICh0aGlzLnRhcmdldC5maWx0ZXJzKSB7XG4gICAgICB0aGlzLnRhcmdldC5maWx0ZXJzLnNwbGljZSh0aGlzLnRhcmdldC5maWx0ZXJzLmluZGV4T2YoZmlsdGVyKSwgMSk7XG4gICAgICB0aGlzLnBhbmVsQ3RybC5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFthZGRGaWx0ZXIgZGVzY3JpcHRpb25dXG4gICAqL1xuICBhZGRGaWx0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldC5maWx0ZXJzKSB7XG4gICAgICB0aGlzLnRhcmdldC5maWx0ZXJzID0gW107XG4gICAgfVxuICAgIHZhciBmaWx0ZXJzRm9yU291cmNlVHlwZSA9IHRoaXMuZmlsdGVyVHlwZXNbdGhpcy50YXJnZXQuc291cmNlVHlwZV07XG4gICAgdmFyIGRlZmF1bHRGaWx0ZXJUeXBlID0gZmlsdGVyc0ZvclNvdXJjZVR5cGVbMF0udHlwZTtcbiAgICB0aGlzLnRhcmdldC5maWx0ZXJzLnB1c2goe1xuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgZmlsdGVyVHlwZTogZGVmYXVsdEZpbHRlclR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBbZ2V0RmlsdGVyVmFsdWVzIGRlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGRpbWVuc2lvbiBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGdldEZpbHRlclZhbHVlcyhmaWx0ZXIpIHtcbiAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiaGF2ZSBhIGRpbWVuc2lvbiwgZ2V0dGluZyBhdmFpbGFibGUgdmFsdWVzXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNvdXJjZS5maWx0ZXJGaW5kVmFsdWVzKHRoaXMudGFyZ2V0LCBmaWx0ZXIpXG4gICAgICAgIC50aGVuKHRoaXMudWlTZWdtZW50U3J2LnRyYW5zZm9ybVRvU2VnbWVudHModHJ1ZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBbZ2V0T3B0aW9ucyBkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGFzb3VyY2UubWV0cmljRmluZFF1ZXJ5KHRoaXMudGFyZ2V0KVxuICAgICAgLnRoZW4odGhpcy51aVNlZ21lbnRTcnYudHJhbnNmb3JtVG9TZWdtZW50cyh0cnVlKSk7XG4gICAgLy8gT3B0aW9ucyBoYXZlIHRvIGJlIHRyYW5zZm9ybWVkIGJ5IHVpU2VnbWVudFNydiB0byBiZSB1c2FibGUgYnkgbWV0cmljLXNlZ21lbnQtbW9kZWwgZGlyZWN0aXZlXG4gIH1cblxuICAvKipcbiAgICogW3NvdXJjZVR5cGVDaGFuZ2VkIGRlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHNvdXJjZVR5cGVDaGFuZ2VkKCkge1xuICAgIC8vIHJlc2V0IGRpbWVuc2lvbnNcbiAgICBpZiAodGhpcy50YXJnZXQuZGltZW5zaW9ucykge1xuICAgICAgdGhpcy50YXJnZXQuZGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLm9uQ2hhbmdlSW50ZXJuYWwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBbbW9kZUNoYW5nZWQgZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgbW9kZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5vbkNoYW5nZUludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogW29uQ2hhbmdlSW50ZXJuYWwgZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgb25DaGFuZ2VJbnRlcm5hbCgpIHtcbiAgICB0aGlzLnBhbmVsQ3RybC5yZWZyZXNoKCk7IC8vIEFza3MgdGhlIHBhbmVsIHRvIHJlZnJlc2ggZGF0YS5cbiAgfVxuXG59XG4iLCJcbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ncmFmYW5hLXNkay1tb2Nrcy9hcHAvaGVhZGVycy9jb21tb24uZC50c1wiIC8+XG5cbmltcG9ydCB7U2Vuc3VDb3JlRGF0YXNvdXJjZX0gZnJvbSBcIi4vZGF0YXNvdXJjZVwiO1xuaW1wb3J0IHtTZW5zdUNvcmVEYXRhc291cmNlUXVlcnlDdHJsfSBmcm9tIFwiLi9xdWVyeV9jdHJsXCI7XG5cbmltcG9ydCB7bG9hZFBsdWdpbkNzc30gZnJvbSBcImdyYWZhbmEvYXBwL3BsdWdpbnMvc2RrXCI7XG5cbmxvYWRQbHVnaW5Dc3Moe1xuICBkYXJrOiBcInBsdWdpbnMvZ3JhZmFuYS1zZW5zdS1hcHAvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2Nzcy9xdWVyeS1lZGl0b3IuY3NzXCIsXG4gIGxpZ2h0OiBcInBsdWdpbnMvZ3JhZmFuYS1zZW5zdS1hcHAvZGF0YXNvdXJjZS9zZW5zdS1jb3JlL2Nzcy9xdWVyeS1lZGl0b3IuY3NzXCJcbn0pO1xuXG5jbGFzcyBTZW5zdUNvbmZpZ0N0cmwge1xuICBzdGF0aWMgdGVtcGxhdGVVcmwgPSBcImRhdGFzb3VyY2Uvc2Vuc3UtY29yZS9wYXJ0aWFscy9jb25maWcuaHRtbFwiO1xufVxuXG5jbGFzcyBTZW5zdVF1ZXJ5T3B0aW9uc0N0cmwge1xuICBzdGF0aWMgdGVtcGxhdGVVcmwgPSBcImRhdGFzb3VyY2Uvc2Vuc3UtY29yZS9wYXJ0aWFscy9xdWVyeS5vcHRpb25zLmh0bWxcIjtcbn1cblxuZXhwb3J0IHtcbiAgU2Vuc3VDb3JlRGF0YXNvdXJjZSBhcyBEYXRhc291cmNlLFxuICBTZW5zdUNvcmVEYXRhc291cmNlUXVlcnlDdHJsIGFzIFF1ZXJ5Q3RybCxcbiAgU2Vuc3VDb25maWdDdHJsIGFzIENvbmZpZ0N0cmwsXG4gIFNlbnN1UXVlcnlPcHRpb25zQ3RybCBhcyBRdWVyeU9wdGlvbnNDdHJsXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185Nl9fOyJdLCJzb3VyY2VSb290IjoiIn0=