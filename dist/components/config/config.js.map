{"version":3,"file":"config.js","sourceRoot":"src/","sources":["components/config/config.ts"],"names":[],"mappings":";;;;;;;;gBAQE,yBAAY,MAAM,EAAE,SAAS,EAAU,EAAE;oBAAF,OAAE,GAAF,EAAE,CAAA;oBACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjE,CAAC;gBAED,oCAAU,GAAV;oBAAA,iBAWC;oBAVC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;wBAC1B,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC;qBAC1B;oBACD,OAAO,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC;wBAC9C,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;wBACpB,OAAO;4BACL,GAAG,EAAE,0CAA0C;4BAC/C,OAAO,EAAE,oBAAoB;yBAC9B,CAAC;oBACJ,CAAC,CAAC,CAAC;gBACL,CAAC;gBAtBM,2BAAW,GAAG,+BAA+B,CAAC;gBAuBvD,sBAAC;aAAA,AAxBD;;QAyBA,CAAC","sourcesContent":["\nexport class SensuConfigCtrl {\n  static templateUrl = \"components/config/config.html\";\n  enabled: boolean;\n  appEditCtrl: any;\n  appModel: any;\n\n  /** @ngInject */\n  constructor($scope, $injector, private $q) {\n    this.enabled = false;\n    this.appEditCtrl.setPostUpdateHook(this.postUpdate.bind(this));\n  }\n\n  postUpdate() {\n    if (!this.appModel.enabled) {\n      return this.$q.resolve();\n    }\n    return this.appEditCtrl.importDashboards().then(() => {\n      this.enabled = true;\n      return {\n        url: \"plugins/grafana-sensu-app/page/configure\",\n        message: \"Sensu App enabled!\"\n      };\n    });\n  }\n}\n"]}